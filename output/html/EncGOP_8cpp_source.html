<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VVenC Ibrahim: /home/itaabane/Bureau/vvencp/vvenc-master/source/Lib/EncoderLib/EncGOP.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VVenC Ibrahim
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EncGOP_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">EncGOP.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="EncGOP_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">The copyright in this software is being made available under the BSD</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">License, included below. No patent rights, trademark rights and/or </span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">other Intellectual Property Rights other than the copyrights concerning </span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">the Software are granted under this license.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">For any license concerning other Intellectual Property rights than the software,</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">especially patent licenses, a separate Agreement needs to be closed. </span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">For more information please contact:</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">Fraunhofer Heinrich Hertz Institute</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">Einsteinufer 37</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">10587 Berlin, Germany</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">www.hhi.fraunhofer.de/vvc</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">vvc@hhi.fraunhofer.de</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">Copyright (c) 2019-2021, Fraunhofer-Gesellschaft zur FÃ¶rderung der angewandten Forschung e.V.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">All rights reserved.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * Redistributions of source code must retain the above copyright notice,</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">   this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * Redistributions in binary form must reproduce the above copyright notice,</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">   this list of conditions and the following disclaimer in the documentation</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">   and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * Neither the name of Fraunhofer nor the names of its contributors may</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">   be used to endorse or promote products derived from this software without</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">   specific prior written permission.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">------------------------------------------------------------------------------------------- */</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EncGOP_8h.html">EncGOP.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="NALwrite_8h.html">NALwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SEI_8h.html">CommonLib/SEI.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="UnitTools_8h.html">CommonLib/UnitTools.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dtrace__codingstruct_8h.html">CommonLib/dtrace_codingstruct.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dtrace__buffer_8h.html">CommonLib/dtrace_buffer.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MD5_8h.html">CommonLib/MD5.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DecLib_8h.html">DecoderLib/DecLib.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitAllocation_8h.html">BitAllocation.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EncHRD_8h.html">EncHRD.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacevvenc.html">vvenc</a> {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#ifdef TRACE_ENABLE_ITT</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">static</span> __itt_string_handle* itt_handle_start = __itt_string_handle_create( <span class="stringliteral">&quot;Start&quot;</span> );</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">static</span> __itt_domain* itt_domain_gopEncoder   = __itt_domain_create( <span class="stringliteral">&quot;GOPEncoder&quot;</span> );</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// ====================================================================================================================</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">// fast forward decoder in encoder</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">// ====================================================================================================================</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="namespacevvenc.html#ab7b9d047523f361c9aa0e5047cc3c044">   78</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacevvenc.html#ab7b9d047523f361c9aa0e5047cc3c044">isPicEncoded</a>( <span class="keywordtype">int</span> targetPoc, <span class="keywordtype">int</span> curPoc, <span class="keywordtype">int</span> curTLayer, <span class="keywordtype">int</span> gopSize, <span class="keywordtype">int</span> intraPeriod )</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordtype">int</span>  tarGop = targetPoc / gopSize;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordtype">int</span>  curGop = curPoc / gopSize;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">if</span>( tarGop + 1 == curGop )</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// part of next GOP only for tl0 pics</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> curTLayer == 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">int</span>  tarIFr = ( targetPoc / intraPeriod ) * intraPeriod;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">int</span>  curIFr = ( curPoc / intraPeriod ) * intraPeriod;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span>( curIFr != tarIFr )</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordtype">int</span>  tarId = targetPoc - tarGop * gopSize;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span>( tarGop &gt; curGop )</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> ( tarId == 0 ) ? ( 0 == curTLayer ) : ( 1 &gt;= curTLayer );</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">if</span>( tarGop + 1 &lt; curGop )</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordtype">int</span>  curId = curPoc - curGop * gopSize;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">int</span>  tarTL = 0;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">while</span>( tarId != 0 )</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    gopSize /= 2;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span>( tarId &gt;= gopSize )</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      tarId -= gopSize;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">if</span>( curId != 0 ) curId -= gopSize;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( curId == gopSize )</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      curId = 0;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    tarTL++;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> curTLayer &lt;= tarTL &amp;&amp; curId == 0;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="namespacevvenc.html#adb1eeab1fc3b671e5bce71e1c9053d18">  130</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevvenc.html#adb1eeab1fc3b671e5bce71e1c9053d18">trySkipOrDecodePicture</a>( <span class="keywordtype">bool</span>&amp; decPic, <span class="keywordtype">bool</span>&amp; encPic, <span class="keyword">const</span> <a class="code" href="TypeDef_8h.html#ace15b38db4c343877cb8fc77e0155236">VVEncCfg</a>&amp; cfg, <a class="code" href="structvvenc_1_1Picture.html">Picture</a>* pic, <a class="code" href="structvvenc_1_1FFwdDecoder.html">FFwdDecoder</a>&amp; ffwdDecoder, <a class="code" href="classvvenc_1_1ParameterSetMap.html">ParameterSetMap&lt;APS&gt;</a>&amp; apsMap )</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// check if we should decode a leading bitstream</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span>( cfg.m_decodeBitstreams[0][0] != <span class="charliteral">&#39;\0&#39;</span> )</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span>( ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#a9f2a25f9a4b676d2eddabfebe8c3fda8">bDecode1stPart</a> )</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keywordflow">if</span>( cfg.m_forceDecodeBitstream1 )</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">if</span>( 0 != ( ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#a9f2a25f9a4b676d2eddabfebe8c3fda8">bDecode1stPart</a> = <a class="code" href="namespacevvenc.html#a4b8a6866b7ca3b758d7fa57dd622c0ff">tryDecodePicture</a>( pic, pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>(), cfg.m_decodeBitstreams[ 0 ], ffwdDecoder, &amp;apsMap, <span class="keyword">false</span> ) ) )</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          decPic = ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#a9f2a25f9a4b676d2eddabfebe8c3fda8">bDecode1stPart</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="comment">// update decode decision</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">if</span>( (0 != ( ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#a9f2a25f9a4b676d2eddabfebe8c3fda8">bDecode1stPart</a> = ( cfg.m_switchPOC != pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>() )  )) &amp;&amp; ( 0 != ( ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#a9f2a25f9a4b676d2eddabfebe8c3fda8">bDecode1stPart</a> = <a class="code" href="namespacevvenc.html#a4b8a6866b7ca3b758d7fa57dd622c0ff">tryDecodePicture</a>( pic, pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>(), cfg.m_decodeBitstreams[ 0 ], ffwdDecoder, &amp;apsMap, <span class="keyword">false</span>, cfg.m_switchPOC ) ) ) )</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;          decPic = ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#a9f2a25f9a4b676d2eddabfebe8c3fda8">bDecode1stPart</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>() )</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;          <span class="comment">// reset decoder if used and not required any further</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;          <a class="code" href="namespacevvenc.html#a4b8a6866b7ca3b758d7fa57dd622c0ff">tryDecodePicture</a>( <a class="code" href="CommonDef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, std::string( <span class="stringliteral">&quot;&quot;</span> ), ffwdDecoder, &amp;apsMap );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    encPic |= cfg.m_forceDecodeBitstream1 &amp;&amp; !decPic;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span>( cfg.m_forceDecodeBitstream1 ) { <span class="keywordflow">return</span>; }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// check if we should decode a trailing bitstream</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span>( cfg.m_decodeBitstreams[1][0] != <span class="charliteral">&#39;\0&#39;</span> )</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>  iNextKeyPOC    = (1+cfg.m_switchPOC  / cfg.m_GOPSize)     *cfg.m_GOPSize;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>  iNextIntraPOC  = (1+(cfg.m_switchPOC / cfg.m_IntraPeriod))*cfg.m_IntraPeriod;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>  iRestartIntraPOC   = iNextIntraPOC + (((iNextKeyPOC == iNextIntraPOC) &amp;&amp; cfg.m_switchDQP ) ? cfg.m_IntraPeriod : 0);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordtype">bool</span> bDecode2ndPart = (pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>() &gt;= iRestartIntraPOC);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">int</span> expectedPoc = pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classvvenc_1_1Slice.html">Slice</a> slice0;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> ( cfg.m_bs2ModPOCAndType )</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      expectedPoc = pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>() - iRestartIntraPOC;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      slice0.<a class="code" href="classvvenc_1_1Slice.html#a76b60df908a82283e1609a5cb329de67">copySliceInfo</a>( pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ], <span class="keyword">false</span> );</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span>( bDecode2ndPart &amp;&amp; (0 != (bDecode2ndPart = <a class="code" href="namespacevvenc.html#a4b8a6866b7ca3b758d7fa57dd622c0ff">tryDecodePicture</a>( pic, expectedPoc, cfg.m_decodeBitstreams[ 1 ], ffwdDecoder, &amp;apsMap, <span class="keyword">true</span> )) ))</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      decPic = bDecode2ndPart;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keywordflow">if</span> ( cfg.m_bs2ModPOCAndType )</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; (int)pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>.size(); i++ )</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ i ]-&gt;poc = slice0.<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;          <span class="keywordflow">if</span> ( pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ i ]-&gt;nalUnitType != slice0.<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;              &amp;&amp; pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ i ]-&gt;getIdrPicFlag()</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;              &amp;&amp; slice0.<a class="code" href="classvvenc_1_1Slice.html#a53891fdd98cdd4dc1fa0b58ded2af261">getRapPicFlag</a>()</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;              &amp;&amp; slice0.<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>() )</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="comment">// patch IDR-slice to CRA-Intra-slice</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ i ]-&gt;nalUnitType   = slice0.<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ i ]-&gt;lastIDR       = slice0.<a class="code" href="classvvenc_1_1Slice.html#a17d513e16dc930568a75f723c77dd545">lastIDR</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ i ]-&gt;colFromL0Flag = slice0.<a class="code" href="classvvenc_1_1Slice.html#a1a8e30a30c5385c4bff3aeae61f3fdbd">colFromL0Flag</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ i ]-&gt;colRefIdx     = slice0.<a class="code" href="classvvenc_1_1Slice.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">colRefIdx</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// leave here if we do not use forward to poc</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span>( cfg.m_fastForwardToPOC &lt; 0 )</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// let&#39;s encode</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    encPic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="comment">// this is the forward to poc section</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span>( ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#af7313f60c7a46e6d9b5e6ab9c4c603e2">bHitFastForwardPOC</a> || <a class="code" href="namespacevvenc.html#ab7b9d047523f361c9aa0e5047cc3c044">isPicEncoded</a>( cfg.m_fastForwardToPOC, pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>(), pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a866d09a71218ee36b783ade7292c8025">TLayer</a>, cfg.m_GOPSize, cfg.m_IntraPeriod ) )</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#af7313f60c7a46e6d9b5e6ab9c4c603e2">bHitFastForwardPOC</a> |= cfg.m_fastForwardToPOC == pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>(); <span class="comment">// once we hit the poc we continue encoding</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span>( ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#af7313f60c7a46e6d9b5e6ab9c4c603e2">bHitFastForwardPOC</a> &amp;&amp; cfg.m_stopAfterFFtoPOC &amp;&amp; cfg.m_fastForwardToPOC != pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>() )</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">//except if FastForwardtoPOC is meant to be a SwitchPOC in thist case drop all preceding pictures</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span>( ffwdDecoder.<a class="code" href="structvvenc_1_1FFwdDecoder.html#af7313f60c7a46e6d9b5e6ab9c4c603e2">bHitFastForwardPOC</a> &amp;&amp; ( cfg.m_switchPOC == cfg.m_fastForwardToPOC ) &amp;&amp; ( cfg.m_fastForwardToPOC &gt; pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>() ) )</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// let&#39;s encode</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    encPic   = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">// ====================================================================================================================</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">// Constructor / destructor / initialization / destroy</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">// ====================================================================================================================</span></div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a156dc08211961e3e10221fad809fa422">  237</a></span>&#160;<a class="code" href="classvvenc_1_1EncGOP.html#a156dc08211961e3e10221fad809fa422">EncGOP::EncGOP</a>()</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  : m_bFirstInit         ( true )</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  , m_bFirstWrite        ( true )</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  , m_bRefreshPending    ( false )</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  , m_disableLMCSIP      ( false )</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  , m_codingOrderIdx     ( 0 )</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  , m_lastIDR            ( 0 )</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  , m_lastRasPoc         ( <a class="code" href="namespacevvenc.html#a4521994cc996921f223544e09d194ab9">MAX_INT</a> )</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  , m_pocCRA             ( 0 )</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  , m_appliedSwitchDQQ   ( 0 )</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  , m_associatedIRAPPOC  ( 0 )</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  , m_associatedIRAPType ( VVENC_NAL_UNIT_CODED_SLICE_IDR_N_LP )</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  , m_pcEncCfg           ( nullptr )</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  , m_pcRateCtrl         ( nullptr )</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  , m_pcEncHRD           ( nullptr )</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  , m_gopApsMap          ( <a class="code" href="namespacevvenc.html#af4d5d618782dbe8527830ad49c47aaf2">MAX_NUM_APS</a> * <a class="code" href="namespacevvenc.html#acb296f72d56e600139234c49810e1445">MAX_NUM_APS_TYPE</a> )</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  , m_threadPool         ( nullptr )</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#afc55c7ec70cedfed561118110b384d10">  258</a></span>&#160;<a class="code" href="classvvenc_1_1EncGOP.html#afc55c7ec70cedfed561118110b384d10">EncGOP::~EncGOP</a>()</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a> &amp;&amp; ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_decodeBitstreams[0][0] != <span class="charliteral">&#39;\0&#39;</span> || <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_decodeBitstreams[1][0] != <span class="charliteral">&#39;\0&#39;</span> ) )</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// reset potential decoder resources</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="namespacevvenc.html#a4b8a6866b7ca3b758d7fa57dd622c0ff">tryDecodePicture</a>( <a class="code" href="CommonDef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, std::string(<span class="stringliteral">&quot;&quot;</span>), <a class="code" href="classvvenc_1_1EncGOP.html#a723df49e12ed0c53c37435142d54f4d3">m_ffwdDecoder</a>, &amp;<a class="code" href="classvvenc_1_1EncGOP.html#a4d3f9ff39738766343766297be353e54">m_gopApsMap</a> );</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">for</span>( <span class="keyword">auto</span>&amp; picEncoder : <a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a> )</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span>( picEncoder )</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keyword">delete</span> picEncoder;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a>.clear();</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a554a6e379eb8db3d601ac16590ad3d2e">m_threadPool</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#ac97d533c6ab25c08095ec963e70b9e27">  278</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#ac97d533c6ab25c08095ec963e70b9e27">EncGOP::init</a>( <span class="keyword">const</span> <a class="code" href="TypeDef_8h.html#ace15b38db4c343877cb8fc77e0155236">VVEncCfg</a>&amp; encCfg, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a>&amp; sps, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1PPS.html">PPS</a>&amp; pps, <a class="code" href="classvvenc_1_1RateCtrl.html">RateCtrl</a>&amp; rateCtrl, <a class="code" href="classvvenc_1_1EncHRD.html">EncHRD</a>&amp; encHrd, <a class="code" href="classvvenc_1_1NoMallocThreadPool.html">NoMallocThreadPool</a>* threadPool )</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>   = &amp;encCfg;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a> = &amp;rateCtrl;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#ae06118c0343b4e4ec319bdc2461e5a8d">m_pcEncHRD</a>   = &amp;encHrd;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a554a6e379eb8db3d601ac16590ad3d2e">m_threadPool</a> = threadPool;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 4 )</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a2822731e39d19bc64fc11011791307a5">m_associatedIRAPType</a> = VVENC_NAL_UNIT_CODED_SLICE_IDR_W_RADL;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#ab57f8e24834295cd57389bc9e1784aeb">m_seiEncoder</a>.<a class="code" href="classvvenc_1_1SEIEncoder.html#a34bddab6bf0d12776c6fc92f954f1fa5">init</a>( encCfg, encHrd );</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#a571130c2aa335541bda96e268f5b05fc">init</a>  ( encCfg );</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#ae77ea1e40a826bc5241ca0e8c77cf0ef">m_appliedSwitchDQQ</a> = 0;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> maxPicEncoder = ( encCfg.m_maxParallelFrames ) ? encCfg.m_maxParallelFrames : 1;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  for ( <span class="keywordtype">int</span> i = 0; i &lt; maxPicEncoder; i++ )</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="classvvenc_1_1EncPicture.html">EncPicture</a>* picEncoder = <span class="keyword">new</span> <a class="code" href="classvvenc_1_1EncPicture.html">EncPicture</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    picEncoder-&gt;<a class="code" href="classvvenc_1_1EncPicture.html#aeb040950e16c86d1161fbd525056cbf9">init</a>( encCfg, &amp;<a class="code" href="classvvenc_1_1EncGOP.html#a8c462de9d6ff71416a2436c09ba380cc">m_globalCtuQpVector</a>, sps, pps, rateCtrl, threadPool );</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a>.push_back( picEncoder );</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (encCfg.m_usePerceptQPA)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a8c462de9d6ff71416a2436c09ba380cc">m_globalCtuQpVector</a>.resize( pps.<a class="code" href="structvvenc_1_1PPS.html#aa674da06f7e3f079e7fe8ecf3f84c488">useDQP</a> &amp;&amp; (encCfg.m_usePerceptQPATempFiltISlice == 2) ? pps.<a class="code" href="structvvenc_1_1PPS.html#aedbf0fcfbdd6c2f3a7beb1c58c232dc6">picWidthInCtu</a> * pps.<a class="code" href="structvvenc_1_1PPS.html#a8a70c3923283fb3c4b5fa0790ae56c4c">picHeightInCtu</a> + 1 : 1 );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">// ====================================================================================================================</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">// Class interface</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">// ====================================================================================================================</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#ab0b52dd6e4679caaea2bdd797132fbb5">  312</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#ab0b52dd6e4679caaea2bdd797132fbb5">EncGOP::xGetProcessingLists</a>( std::list&lt;Picture*&gt;&amp; procList, std::list&lt;Picture*&gt;&amp; rcUpdateList )</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// in lockstep mode, process only pics of same temporal layer</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> lockStepMode  = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCTargetBitrate &gt; 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames &gt; 0;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span>( lockStepMode )</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// start new parallel chunk only, if next output picture is not reconstructed</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.empty() || ! <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.front()-&gt;isReconstructed )</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> procTL         = <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>.size() ? <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>.front()-&gt;TLayer                      : -1;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> gopId          = <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>.size() ? <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>.front()-&gt;poc / <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize : -1;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> rcIdxInGop     = <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>.size() ? <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>.front()-&gt;rcIdxInGop                  : -1;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> minSerialDepth = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames &gt; 2 ? 1 : 2;  <span class="comment">// up to this temporal layer encode pictures only in serial mode</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> maxSize        = procTL &lt;= minSerialDepth ? 1 : <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">for</span>( <span class="keyword">auto</span> pic : <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a> )</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">if</span>( pic-&gt;poc / <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize == gopId</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            &amp;&amp; pic-&gt;TLayer == procTL</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            &amp;&amp; pic-&gt;slices[ 0 ]-&gt;checkRefPicsReconstructed() )</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          procList.push_back    ( pic );</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          rcUpdateList.push_back( pic );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          <span class="comment">// map all pics in a parallel chunk to the same index, improves RC performance</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          pic-&gt;rcIdxInGop = rcIdxInGop;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">if</span>( (<span class="keywordtype">int</span>)procList.size() &gt;= maxSize )</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    procList = <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span>( ! <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.empty() )</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      rcUpdateList.push_back( <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.front() );</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( ! rcUpdateList.empty() &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.empty(),                                                         <span class="stringliteral">&quot;first picture in RC update and in output list have to be the same&quot;</span> );</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( ! rcUpdateList.empty() &amp;&amp; ! <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.empty() &amp;&amp; rcUpdateList.front() != <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.front(), <span class="stringliteral">&quot;first picture in RC update and in output list have to be the same&quot;</span> );</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a61c82aee8789605e0a9a1a9756553c79">  352</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a61c82aee8789605e0a9a1a9756553c79">EncGOP::encodePictures</a>( <span class="keyword">const</span> std::vector&lt;Picture*&gt;&amp; encList, <a class="code" href="namespacevvenc.html#a75808c632f164a4e90099967af68affa">PicList</a>&amp; picList, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a>&amp; au, <span class="keywordtype">bool</span> isEncodeLtRef )</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( encList.size() == 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.size() == 0, <span class="stringliteral">&quot;error: no pictures to be encoded given&quot;</span> );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// init pictures and first slice (in coding order)</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span>( encList.size() )</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a8fc048e798a9392a930021e1f49b6ed8">xInitPicsInCodingOrder</a>( encList, picList, isEncodeLtRef );</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// get list of pictures to be encoded and used for RC update</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  std::list&lt;Picture*&gt; procList;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  std::list&lt;Picture*&gt; rcUpdateList;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#ab0b52dd6e4679caaea2bdd797132fbb5">xGetProcessingLists</a>( procList, rcUpdateList );</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// in lockstep mode, process all pictures in processing list</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> lockStepMode = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCTargetBitrate &gt; 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames &gt; 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// encode one picture in serial mode / multiple pictures in FPP mode</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">while</span>( <span class="keyword">true</span> )</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="structvvenc_1_1Picture.html">Picture</a>* pic           = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="classvvenc_1_1EncPicture.html">EncPicture</a>* picEncoder = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// fetch next picture to be encoded and next free picture encoder</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      std::unique_lock&lt;std::mutex&gt; lock( <a class="code" href="classvvenc_1_1EncGOP.html#a90143658503644fadd1111a88cf99fb8">m_gopEncMutex</a>, std::defer_lock );</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_numThreads &gt; 0) lock.lock();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="comment">// in non-lockstep mode, check encoding of output picture done</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="comment">// in lockstep mode, check all pictures encoded</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">if</span>( ( ! lockStepMode &amp;&amp; ( <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.empty() || <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.front()-&gt;isReconstructed ) )</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;          || ( lockStepMode &amp;&amp; procList.empty() &amp;&amp; (<span class="keywordtype">int</span>)<a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a>.size() &gt;= <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames ) )</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="comment">// get next picture ready to be encoded</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keyword">auto</span> picItr             = find_if( procList.begin(), procList.end(), []( <span class="keyword">auto</span> pic ) { return pic-&gt;slices[ 0 ]-&gt;checkRefPicsReconstructed(); } );</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> nextPicReady = picItr != procList.end();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="comment">// check at least one picture and one pic encoder ready</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a>.empty()</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;          || ! nextPicReady )</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_numThreads &lt;= 0, <span class="stringliteral">&quot;run into MT code, but no threading enabled&quot;</span> );</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( (<span class="keywordtype">int</span>)<a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a>.size() &gt;= std::max( 1, <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames ), <span class="stringliteral">&quot;wait for picture to be finished, but no pic encoder running&quot;</span> );</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="classvvenc_1_1EncGOP.html#aa9dc44f446aae5419dc98ee0f975c95d">m_gopEncCond</a>.wait( lock );</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      pic        = *picItr;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      picEncoder = <a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a>.front();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a>.pop_front();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( picEncoder == <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;no free picture encoder available&quot;</span> );</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( pic        == <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;no picture to be encoded, ready for encoding&quot;</span> );</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// picture will be encoded -&gt; remove from input list</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>.remove( pic );</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    procList.remove( pic );</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// decoder in encoder</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordtype">bool</span> decPic = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordtype">bool</span> encPic = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="dtrace__next_8h.html#a60977af402536fce4e55514d8fe947ad">DTRACE_UPDATE</a>( g_trace_ctx, std::make_pair( <span class="stringliteral">&quot;encdec&quot;</span>, 1 ) );</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="namespacevvenc.html#adb1eeab1fc3b671e5bce71e1c9053d18">trySkipOrDecodePicture</a>( decPic, encPic, *<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>, pic, <a class="code" href="classvvenc_1_1EncGOP.html#a723df49e12ed0c53c37435142d54f4d3">m_ffwdDecoder</a>, <a class="code" href="classvvenc_1_1EncGOP.html#a4d3f9ff39738766343766297be353e54">m_gopApsMap</a> );</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="dtrace__next_8h.html#a60977af402536fce4e55514d8fe947ad">DTRACE_UPDATE</a>( g_trace_ctx, std::make_pair( <span class="stringliteral">&quot;encdec&quot;</span>, 0 ) );</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#aad846589ba1ecb7df1fcbf2e937608ce">writePic</a> = decPic || encPic;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a24a2e8bd1c031dfaa7fb2c2d8ab10595">encPic</a>   = encPic;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_alfTempPred )</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a0ea90ce01332b6db5b3e18bcf897a630">xSyncAlfAps</a>( *pic, pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">picApsMap</a>, <a class="code" href="classvvenc_1_1EncGOP.html#a4d3f9ff39738766343766297be353e54">m_gopApsMap</a> );</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// compress next picture</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span>( pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a24a2e8bd1c031dfaa7fb2c2d8ab10595">encPic</a> )</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      picEncoder-&gt;<a class="code" href="classvvenc_1_1EncPicture.html#a3d97b2aabb8ed53cc627154351f94c54">compressPicture</a>( *pic, *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      picEncoder-&gt;<a class="code" href="classvvenc_1_1EncPicture.html#a259f3225da742367b2a990820c88aacc">skipCompressPicture</a>( *pic, <a class="code" href="classvvenc_1_1EncGOP.html#a4d3f9ff39738766343766297be353e54">m_gopApsMap</a> );</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// finish picture encoding and cleanup</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span>( pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a24a2e8bd1c031dfaa7fb2c2d8ab10595">encPic</a> &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_numThreads &gt; 0 )</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keyword">static</span> <span class="keyword">auto</span> finishTask = []( int, <a class="code" href="structvvenc_1_1FinishTaskParam.html">FinishTaskParam</a>* param ) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        param-&gt;picEncoder-&gt;finalizePicture( *param-&gt;pic );</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;          std::lock_guard&lt;std::mutex&gt; lock( param-&gt;gopEncoder-&gt;m_gopEncMutex );</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;          param-&gt;pic-&gt;isReconstructed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;          param-&gt;gopEncoder-&gt;m_freePicEncoderList.push_back( param-&gt;picEncoder );</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          param-&gt;gopEncoder-&gt;m_gopEncCond.notify_one();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keyword">delete</span> param;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      };</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <a class="code" href="structvvenc_1_1FinishTaskParam.html">FinishTaskParam</a>* param = <span class="keyword">new</span> <a class="code" href="structvvenc_1_1FinishTaskParam.html">FinishTaskParam</a>( <span class="keyword">this</span>, picEncoder, pic );</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a554a6e379eb8db3d601ac16590ad3d2e">m_threadPool</a>-&gt;<a class="code" href="classvvenc_1_1NoMallocThreadPool.html#a757c7fcfe321128ef8e62281718cbec3">addBarrierTask</a>&lt;<a class="code" href="structvvenc_1_1FinishTaskParam.html">FinishTaskParam</a>&gt;( finishTask, param, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, { &amp;picEncoder-&gt;<a class="code" href="classvvenc_1_1EncPicture.html#adafc43c6c00ae8e13fb55905dc161537">m_ctuTasksDoneCounter</a>.<a class="code" href="structvvenc_1_1WaitCounter.html#aa7816bec6ffd5b8d516245f89ebabf53">done</a> } );</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      picEncoder-&gt;<a class="code" href="classvvenc_1_1EncPicture.html#a1923d4a8c3829e889669c0524c768843">finalizePicture</a>( *pic );</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#ad26ec5c4cbe4715920eea97dc856b7ff">isReconstructed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">m_freePicEncoderList</a>.push_back( picEncoder );</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.empty(),                    <span class="stringliteral">&quot;try to output picture, but no output picture available&quot;</span> );</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( ! <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.front()-&gt;isReconstructed, <span class="stringliteral">&quot;try to output picture, but picture not reconstructed&quot;</span> );</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// AU output</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="structvvenc_1_1Picture.html">Picture</a>* outPic = <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.front();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.pop_front();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span>( outPic-&gt;<a class="code" href="structvvenc_1_1Picture.html#aad846589ba1ecb7df1fcbf2e937608ce">writePic</a> )</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a0c054a05da22918aed805ded0f26e2e3">xWritePicture</a>( *outPic, au, isEncodeLtRef );</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_alfTempPred )</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a0ea90ce01332b6db5b3e18bcf897a630">xSyncAlfAps</a>( *outPic, <a class="code" href="classvvenc_1_1EncGOP.html#a4d3f9ff39738766343766297be353e54">m_gopApsMap</a>, outPic-&gt;<a class="code" href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">picApsMap</a> );</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">// update pending RC</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// first pic has been written to bitstream</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// therefore we have at least for this picture a valid total bit and head bit count</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">for</span>( <span class="keyword">auto</span> pic : rcUpdateList )</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span>( pic != outPic )</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      pic-&gt;actualHeadBits  = outPic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a8c45147b058d76b8f04cd33cbc7a78bd">actualHeadBits</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      pic-&gt;actualTotalBits = pic-&gt;sliceDataStreams[0].getNumberOfWrittenBits();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a5867829edd40f1f59a6ad740bbd6b317">xUpdateAfterPicRC</a>( pic );</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_useAMaxBT )</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a87eba139fb9dadc5e1d20b8d4a2c1d14">m_BlkStat</a>.<a class="code" href="classvvenc_1_1BlkStat.html#ac814e70a0f7defcf2b2b16f9bc2dbe35">updateMaxBT</a>( *outPic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0], outPic-&gt;<a class="code" href="structvvenc_1_1Picture.html#aca8027146fa42e12de06c875b0abd0f5">picBlkStat</a> );</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  outPic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ]-&gt;updateRefPicCounter( -1 );</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  outPic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a0e40c5fb8a37c60628678563bfea6975">isFinished</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#af71fe96d9180ae1022ca27e0d90faac0">  503</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#af71fe96d9180ae1022ca27e0d90faac0">EncGOP::printOutSummary</a>( <span class="keywordtype">int</span> numAllPicCoded, <span class="keyword">const</span> <span class="keywordtype">bool</span> printMSEBasedSNR, <span class="keyword">const</span> <span class="keywordtype">bool</span> printSequenceMSE, <span class="keyword">const</span> <span class="keywordtype">bool</span> printHexPsnr, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1BitDepths.html">BitDepths</a> &amp;bitDepths )</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;{</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_decodeBitstreams[0][0] != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_decodeBitstreams[1][0] != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_fastForwardToPOC &lt; 0 )</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( !( numAllPicCoded == <a class="code" href="classvvenc_1_1EncGOP.html#a904e849842fe9c613d4787a304a8d8c0">m_AnalyzeAll</a>.<a class="code" href="classvvenc_1_1Analyze.html#aea4a10c8e64b1d4a7d9d332e4407616b">getNumPic</a>() ), <span class="stringliteral">&quot;Unspecified error&quot;</span> );</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">//--CFG_KDY</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> rateMultiplier = 1;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a904e849842fe9c613d4787a304a8d8c0">m_AnalyzeAll</a>.<a class="code" href="classvvenc_1_1Analyze.html#a804404925d6e0831df458263e382f62b">setFrmRate</a>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_FrameRate*rateMultiplier / (<span class="keywordtype">double</span>)<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_temporalSubsampleRatio);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a37de80ce887f835cb1ef6a108b947a29">m_AnalyzeI</a>.<a class="code" href="classvvenc_1_1Analyze.html#a804404925d6e0831df458263e382f62b">setFrmRate</a>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_FrameRate*rateMultiplier / (<span class="keywordtype">double</span>)<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_temporalSubsampleRatio);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a61daa598ecb88e581bdadad44299087a">m_AnalyzeP</a>.<a class="code" href="classvvenc_1_1Analyze.html#a804404925d6e0831df458263e382f62b">setFrmRate</a>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_FrameRate*rateMultiplier / (<span class="keywordtype">double</span>)<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_temporalSubsampleRatio);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#afef1d6a18b549ec8bd8afeda00903703">m_AnalyzeB</a>.<a class="code" href="classvvenc_1_1Analyze.html#a804404925d6e0831df458263e382f62b">setFrmRate</a>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_FrameRate*rateMultiplier / (<span class="keywordtype">double</span>)<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_temporalSubsampleRatio);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keyword">const</span> <a class="code" href="TypeDef_8h.html#a70dfa957a71cae40f75782ea972c130e">ChromaFormat</a> chFmt = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_internChromaFormat;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">//-- all</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_INFO, <span class="stringliteral">&quot;\n&quot;</span> );</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_DETAILS,<span class="stringliteral">&quot;\nSUMMARY --------------------------------------------------------\n&quot;</span> );</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a904e849842fe9c613d4787a304a8d8c0">m_AnalyzeAll</a>.<a class="code" href="classvvenc_1_1Analyze.html#abfcb809f82283c26dd6e5854446d0639">printOut</a>(<span class="charliteral">&#39;a&#39;</span>, chFmt, printMSEBasedSNR, printSequenceMSE, printHexPsnr, bitDepths</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                          );</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_DETAILS,<span class="stringliteral">&quot;\n\nI Slices--------------------------------------------------------\n&quot;</span> );</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a37de80ce887f835cb1ef6a108b947a29">m_AnalyzeI</a>.<a class="code" href="classvvenc_1_1Analyze.html#abfcb809f82283c26dd6e5854446d0639">printOut</a>(<span class="charliteral">&#39;i&#39;</span>, chFmt, printMSEBasedSNR, printSequenceMSE, printHexPsnr, bitDepths);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_DETAILS,<span class="stringliteral">&quot;\n\nP Slices--------------------------------------------------------\n&quot;</span> );</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a61daa598ecb88e581bdadad44299087a">m_AnalyzeP</a>.<a class="code" href="classvvenc_1_1Analyze.html#abfcb809f82283c26dd6e5854446d0639">printOut</a>(<span class="charliteral">&#39;p&#39;</span>, chFmt, printMSEBasedSNR, printSequenceMSE, printHexPsnr, bitDepths);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_DETAILS,<span class="stringliteral">&quot;\n\nB Slices--------------------------------------------------------\n&quot;</span> );</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#afef1d6a18b549ec8bd8afeda00903703">m_AnalyzeB</a>.<a class="code" href="classvvenc_1_1Analyze.html#abfcb809f82283c26dd6e5854446d0639">printOut</a>(<span class="charliteral">&#39;b&#39;</span>, chFmt, printMSEBasedSNR, printSequenceMSE, printHexPsnr, bitDepths);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_summaryOutFilename[0] != <span class="charliteral">&#39;\0&#39;</span> )</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    std::string summaryOutFilename(<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_summaryOutFilename);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a904e849842fe9c613d4787a304a8d8c0">m_AnalyzeAll</a>.<a class="code" href="classvvenc_1_1Analyze.html#a1f6824e43ad6a371787f59c318f3170d">printSummary</a>(chFmt, printSequenceMSE, printHexPsnr, bitDepths, summaryOutFilename);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_summaryPicFilenameBase[0] != <span class="charliteral">&#39;\0&#39;</span> )</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    std::string summaryPicFilenameBase(<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_summaryPicFilenameBase);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a37de80ce887f835cb1ef6a108b947a29">m_AnalyzeI</a>.<a class="code" href="classvvenc_1_1Analyze.html#a1f6824e43ad6a371787f59c318f3170d">printSummary</a>(chFmt, printSequenceMSE, printHexPsnr, bitDepths, summaryPicFilenameBase+<span class="stringliteral">&quot;I.txt&quot;</span>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a61daa598ecb88e581bdadad44299087a">m_AnalyzeP</a>.<a class="code" href="classvvenc_1_1Analyze.html#a1f6824e43ad6a371787f59c318f3170d">printSummary</a>(chFmt, printSequenceMSE, printHexPsnr, bitDepths, summaryPicFilenameBase+<span class="stringliteral">&quot;P.txt&quot;</span>);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#afef1d6a18b549ec8bd8afeda00903703">m_AnalyzeB</a>.<a class="code" href="classvvenc_1_1Analyze.html#a1f6824e43ad6a371787f59c318f3170d">printSummary</a>(chFmt, printSequenceMSE, printHexPsnr, bitDepths, summaryPicFilenameBase+<span class="stringliteral">&quot;B.txt&quot;</span>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">// ====================================================================================================================</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">// protected</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">// ====================================================================================================================</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a3b83d77d88ae40b437627d9b45f4e086">  556</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a3b83d77d88ae40b437627d9b45f4e086">EncGOP::xUpdateRasInit</a>( <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice )</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;{</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a76b193969465a68f38982efa1cc05aec">pendingRasInit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a> &gt; <a class="code" href="classvvenc_1_1EncGOP.html#adca1f7d76cabf100211aa4cfd98e1ec8">m_lastRasPoc</a> )</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#adca1f7d76cabf100211aa4cfd98e1ec8">m_lastRasPoc</a> = <a class="code" href="namespacevvenc.html#a4521994cc996921f223544e09d194ab9">MAX_INT</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a76b193969465a68f38982efa1cc05aec">pendingRasInit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae712c51e5029cc6e18d4272f9df547cf">isIRAP</a>() )</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#adca1f7d76cabf100211aa4cfd98e1ec8">m_lastRasPoc</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#af3139535c3b96f7ef9051cdc1d6496a7">  577</a></span>&#160;vvencNalUnitType <a class="code" href="classvvenc_1_1EncGOP.html#af3139535c3b96f7ef9051cdc1d6496a7">EncGOP::xGetNalUnitType</a>( <span class="keywordtype">int</span> pocCurr, <span class="keywordtype">int</span> lastIDR )<span class="keyword"> const</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">if</span> (pocCurr == 0)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 4 )</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classvvenc_1_1EncGOP.html#a0602edf37e2e92d8b105c13a178f5e51">m_bFirstInit</a> ? VVENC_NAL_UNIT_CODED_SLICE_IDR_W_RADL :  VVENC_NAL_UNIT_CODED_SLICE_RADL;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="keywordflow">return</span> VVENC_NAL_UNIT_CODED_SLICE_IDR_N_LP;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 4 &amp;&amp; ((pocCurr+1+(<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod - <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize)) % <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod == 0 || <a class="code" href="classvvenc_1_1EncGOP.html#a0602edf37e2e92d8b105c13a178f5e51">m_bFirstInit</a> ) )</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">return</span> VVENC_NAL_UNIT_CODED_SLICE_IDR_W_RADL;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType &lt; 3 &amp;&amp; pocCurr % <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod == 0)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 1)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordflow">return</span> VVENC_NAL_UNIT_CODED_SLICE_CRA;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 2)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">return</span> VVENC_NAL_UNIT_CODED_SLICE_IDR_W_RADL;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classvvenc_1_1EncGOP.html#a543e2e96d2fc6e6a250b93d021bd1dfd">m_pocCRA</a>&gt;0)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span>(pocCurr&lt;<a class="code" href="classvvenc_1_1EncGOP.html#a543e2e96d2fc6e6a250b93d021bd1dfd">m_pocCRA</a>)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="comment">// All leading pictures are being marked as TFD pictures here since current encoder uses all</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="comment">// reference pictures while encoding leading pictures. An encoder can ensure that a leading</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="comment">// picture can be still decodable when random accessing to a CRA/CRANT/BLA/BLANT picture by</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="comment">// controlling the reference pictures used for encoding that leading picture. Such a leading</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="comment">// picture need not be marked as a TFD picture.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="keywordflow">return</span> VVENC_NAL_UNIT_CODED_SLICE_RASL;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">if</span> (lastIDR&gt;0)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (pocCurr &lt; lastIDR)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">return</span> VVENC_NAL_UNIT_CODED_SLICE_RADL;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">return</span> VVENC_NAL_UNIT_CODED_SLICE_TRAIL;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a6cae4dbd5bfa5c8619151d3a148479ea">  629</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvvenc_1_1EncGOP.html#a6cae4dbd5bfa5c8619151d3a148479ea">EncGOP::xGetSliceDepth</a>( <span class="keywordtype">int</span> poc )<span class="keyword"> const</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordtype">int</span> depth = 0;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  poc = poc % <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">if</span> ( poc != 0 )</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordtype">int</span> step = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=step&gt;&gt;1; i&gt;=1; i&gt;&gt;=1 )</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = i; j&lt;<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize; j += step )</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">if</span> ( j == poc )</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;          i=0;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      step &gt;&gt;= 1;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      depth++;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">return</span> depth;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;}</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a4dd4cdec729ff680d246883671fd3a4c">  657</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classvvenc_1_1EncGOP.html#a4dd4cdec729ff680d246883671fd3a4c">EncGOP::xIsSliceTemporalSwitchingPoint</a>( <span class="keyword">const</span> <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice, <a class="code" href="namespacevvenc.html#a75808c632f164a4e90099967af68affa">PicList</a>&amp; picList, <span class="keywordtype">int</span> gopId )<span class="keyword"> const</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> &gt; 0</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      &amp;&amp; !(slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a> == VVENC_NAL_UNIT_CODED_SLICE_RADL     <span class="comment">// Check if not a leading picture</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        || slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a> == VVENC_NAL_UNIT_CODED_SLICE_RASL) )</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#abc946e46235055703d7758c900d077ec">isStepwiseTemporalLayerSwitchingPointCandidate</a>( picList ) )</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keyword">const</span> vvencRPLEntry* rplList0 = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RPLList0;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keyword">const</span> vvencRPLEntry* rplList1 = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RPLList1;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="keywordtype">bool</span> isSTSA              = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">for</span>( <span class="keywordtype">int</span> ii = gopId + 1; ii &lt; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize &amp;&amp; isSTSA == <span class="keyword">true</span>; ii++ )</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordtype">int</span> lTid = rplList0[ ii ].m_temporalId;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">if</span> ( lTid == slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> )</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          <span class="keyword">const</span> <a class="code" href="structvvenc_1_1ReferencePictureList.html">ReferencePictureList</a>* rpl0 = &amp;slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#ab5be270f22f8b3000f6d01a2c1ce389d">rplList</a>[0][ii];</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> jj = 0; jj &lt; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[0]-&gt;<a class="code" href="structvvenc_1_1ReferencePictureList.html#afe3ce0d7b8a022a1e32fccff9785d86e">numberOfActivePictures</a>; jj++ )</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordtype">int</span> tPoc = rplList0[ ii ].m_POC + rpl0-&gt;<a class="code" href="structvvenc_1_1ReferencePictureList.html#a08921220e56c9085e64d2c9b439c60e6">refPicIdentifier</a>[ jj ];</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordtype">int</span> kk   = 0;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <span class="keywordflow">for</span> ( kk = 0; kk &lt; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize; kk++ )</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;              <span class="keywordflow">if</span> ( rplList0[ kk ].m_POC == tPoc )</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;              {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;              }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordtype">int</span> tTid = rplList0[ kk ].m_temporalId;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <span class="keywordflow">if</span> ( tTid &gt;= slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> )</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;              isSTSA = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;          }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          <span class="keyword">const</span> <a class="code" href="structvvenc_1_1ReferencePictureList.html">ReferencePictureList</a>* rpl1 = &amp;slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#ab5be270f22f8b3000f6d01a2c1ce389d">rplList</a>[1][ii];</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;          <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> jj = 0; jj &lt; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[1]-&gt;<a class="code" href="structvvenc_1_1ReferencePictureList.html#afe3ce0d7b8a022a1e32fccff9785d86e">numberOfActivePictures</a>; jj++ )</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="keywordtype">int</span> tPoc = rplList1[ ii ].m_POC + rpl1-&gt;<a class="code" href="structvvenc_1_1ReferencePictureList.html#a08921220e56c9085e64d2c9b439c60e6">refPicIdentifier</a>[ jj ];</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordtype">int</span> kk   = 0;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">for</span> ( kk = 0; kk &lt; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize; kk++ )</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;              <span class="keywordflow">if</span> ( rplList1[ kk ].m_POC == tPoc )</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;              {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;              }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordtype">int</span> tTid = rplList1[ kk ].m_temporalId;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">if</span> ( tTid &gt;= slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> )</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;              isSTSA = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keywordflow">if</span> ( isSTSA == <span class="keyword">true</span> )</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a8fc048e798a9392a930021e1f49b6ed8">  726</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a8fc048e798a9392a930021e1f49b6ed8">EncGOP::xInitPicsInCodingOrder</a>( <span class="keyword">const</span> std::vector&lt;Picture*&gt;&amp; encList, <a class="code" href="namespacevvenc.html#a75808c632f164a4e90099967af68affa">PicList</a>&amp; picList, <span class="keywordtype">bool</span> isEncodeLtRef )</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;{</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> size = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames &gt; 0 ? encList.size() : 1;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; size; i++ )</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="structvvenc_1_1Picture.html">Picture</a>* pic = encList[ i ];</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> ( ! pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#af2a1775ef7c9ed678b6892d1f59000a4">isInitDone</a> )</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a34bf84a00862829eae9bd39d0b980b6d">encTime</a>.<a class="code" href="structvvenc_1_1StopClock.html#aec53975ffc59ffaf3080db21af0d2f6e">startTimer</a>();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#afe8d1d255565fc548a6857ccad653219">xInitFirstSlice</a>( *pic, picList, isEncodeLtRef );</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a34bf84a00862829eae9bd39d0b980b6d">encTime</a>.<a class="code" href="structvvenc_1_1StopClock.html#aa6f6bfef028c7b053444cbd48567d286">stopTimer</a>();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">m_gopEncListInput</a>.push_back( pic );</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">m_gopEncListOutput</a>.push_back( pic );</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#afe8d1d255565fc548a6857ccad653219">  747</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#afe8d1d255565fc548a6857ccad653219">EncGOP::xInitFirstSlice</a>( <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="namespacevvenc.html#a75808c632f164a4e90099967af68affa">PicList</a>&amp; picList, <span class="keywordtype">bool</span> isEncodeLtRef )</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;{</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> curPoc      = pic.<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> gopId       = pic.<a class="code" href="structvvenc_1_1Picture.html#a5641b061a4335e2412457690b3c2c215">gopId</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> depth       = <a class="code" href="classvvenc_1_1EncGOP.html#a6cae4dbd5bfa5c8619151d3a148479ea">xGetSliceDepth</a>( curPoc );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  memset( pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#aab413be1475a125aac0f29686ec5b10f">alfAps</a>, 0, <span class="keyword">sizeof</span>(pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#aab413be1475a125aac0f29686ec5b10f">alfAps</a>));</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice          = pic.<a class="code" href="structvvenc_1_1Picture.html#a7b4a78dd70b2b9f1c85c787d7e532256">allocateNewSlice</a>();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>     = <span class="keyword">new</span> <a class="code" href="structvvenc_1_1PicHeader.html">PicHeader</a>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a>&amp; sps        = *(slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> drtIPoffset = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 4 ? 1 + (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod - <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize) : 0;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <a class="code" href="TypeDef_8h.html#ac670918873d1623fbf91921b90e09a9d">SliceType</a> sliceType   = ( (curPoc+drtIPoffset) % (<span class="keywordtype">unsigned</span>)<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod == 0 || <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPList[ gopId ].m_sliceType== <span class="charliteral">&#39;I&#39;</span> || ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 4 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#a0602edf37e2e92d8b105c13a178f5e51">m_bFirstInit</a> ) ) ? ( VVENC_I_SLICE ) : ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPList[ gopId ].m_sliceType== <span class="charliteral">&#39;P&#39;</span> ? VVENC_P_SLICE : VVENC_B_SLICE );</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  vvencNalUnitType naluType  = <a class="code" href="classvvenc_1_1EncGOP.html#af3139535c3b96f7ef9051cdc1d6496a7">xGetNalUnitType</a>( curPoc, <a class="code" href="classvvenc_1_1EncGOP.html#afaadf7fd1de1ac6dcc928ed989b41aaa">m_lastIDR</a> );</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">if</span>( curPoc == 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 4 &amp;&amp; !<a class="code" href="classvvenc_1_1EncGOP.html#a0602edf37e2e92d8b105c13a178f5e51">m_bFirstInit</a> )</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    sliceType = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPList[ gopId ].m_sliceType== <span class="charliteral">&#39;P&#39;</span> ? VVENC_P_SLICE : VVENC_B_SLICE;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a166b361eddf214b13bba8bb03218a165">rcIdxInGop</a> = std::max( 0, <a class="code" href="classvvenc_1_1EncGOP.html#afa8102489f9fc43fde072e71904896cf">m_codingOrderIdx</a> - 1 ) % <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#afa8102489f9fc43fde072e71904896cf">m_codingOrderIdx</a> += 1;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// update IRAP</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">if</span> ( naluType == VVENC_NAL_UNIT_CODED_SLICE_IDR_W_RADL</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      || naluType == VVENC_NAL_UNIT_CODED_SLICE_IDR_N_LP</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      || naluType == VVENC_NAL_UNIT_CODED_SLICE_CRA )</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a2822731e39d19bc64fc11011791307a5">m_associatedIRAPType</a> = naluType;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#afe7aecaa6eaa9c18d8735d345fcd7eff">m_associatedIRAPPOC</a>  = curPoc;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">// update last IDR</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> ( naluType == VVENC_NAL_UNIT_CODED_SLICE_IDR_W_RADL || naluType == VVENC_NAL_UNIT_CODED_SLICE_IDR_N_LP )</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#afaadf7fd1de1ac6dcc928ed989b41aaa">m_lastIDR</a> = curPoc;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>                 = pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a7ad51fe755589200446925da0502af70">independentSliceIdx</a>       = 0;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a>                 = sliceType;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>                       = curPoc;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a>                    = ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 4 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#a0602edf37e2e92d8b105c13a178f5e51">m_bFirstInit</a> ) ? 0 : <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPList[ gopId ].m_temporalId;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a>               = naluType;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#acb5ba97551079e0b072c62c21d784ac5">depth</a>                     = depth;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a17d513e16dc930568a75f723c77dd545">lastIDR</a>                   = <a class="code" href="classvvenc_1_1EncGOP.html#afaadf7fd1de1ac6dcc928ed989b41aaa">m_lastIDR</a>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a64ff1224314f1a6ad7696ac10d16615a">depQuantEnabled</a>           = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DepQuantEnabled;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a9b2722904763856e460f52b9293db1b2">signDataHidingEnabled</a>     = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_SignDataHidingEnabled;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a9088a71f37087d134a4cd8d9418a7395">disableSATDForRd</a>          = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a99e4518afd7427cb0593395f90afb0f8">splitConsOverride</a>     = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 3; i++ )</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a3682542a44a1fea195bb92bd22513e44">minQTSize</a>[i]   = sps.<a class="code" href="structvvenc_1_1SPS.html#a3682542a44a1fea195bb92bd22513e44">minQTSize</a>[i];</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a46683731edb6c27b7607edf63474308a">maxMTTDepth</a>[i] = sps.<a class="code" href="structvvenc_1_1SPS.html#a46683731edb6c27b7607edf63474308a">maxMTTDepth</a>[i];</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a81afd2bdbeee94d9d2b0123341a3859d">maxBTSize</a>[i]   = sps.<a class="code" href="structvvenc_1_1SPS.html#a81afd2bdbeee94d9d2b0123341a3859d">maxBTSize</a>[i];</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a999dcdfe3c47f8f17807794fd905536a">maxTTSize</a>[i]   = sps.<a class="code" href="structvvenc_1_1SPS.html#a999dcdfe3c47f8f17807794fd905536a">maxTTSize</a>[i];</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5922c71ae31fb8db63422d1ac78d8804">associatedIRAPType</a>        = <a class="code" href="classvvenc_1_1EncGOP.html#a2822731e39d19bc64fc11011791307a5">m_associatedIRAPType</a>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a4f52498d4a46139ed7d9a5ad5a32cc20">associatedIRAP</a>            = <a class="code" href="classvvenc_1_1EncGOP.html#afe7aecaa6eaa9c18d8735d345fcd7eff">m_associatedIRAPPOC</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( MAX_REF_PICS &lt;= m_pcEncCfg-&gt;m_RPLList0[ gopId ].m_numRefPicsActive, <span class="stringliteral">&quot;number of ref pics out of supported range&quot;</span> );</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[<a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>] = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RPLList0[ gopId ].m_numRefPicsActive;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[<a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>] = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RPLList1[ gopId ].m_numRefPicsActive;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae87acabed6b8f681984cf8c2ec85ef6f">setDecodingRefreshMarking</a> ( <a class="code" href="classvvenc_1_1EncGOP.html#a543e2e96d2fc6e6a250b93d021bd1dfd">m_pocCRA</a>, <a class="code" href="classvvenc_1_1EncGOP.html#a2dc1c0b523db94ae8657986e21975608">m_bRefreshPending</a>, picList );</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ac41f4be43a9375a8bf1cdd8d6d10ebbf">setDefaultClpRng</a>          ( sps );</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">if</span> (!slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#aef5e5824f1ca0fb9a6190ae4e24f28cd">Affine</a>)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a82399f493e1e63046a946f81226c1491">maxNumAffineMergeCand</a> = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_SbTMVP ? 1 : 0;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// reference list</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a3cf105a07a7d30676f4d458080197442">xSelectReferencePictureList</a>( slice, curPoc, gopId, -1 );</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa9ee0a90be4bc764b6a4c7960c2af321">checkThatAllRefPicsAreAvailable</a>( picList, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[0], 0, <span class="keyword">false</span> ) != -2 || slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa9ee0a90be4bc764b6a4c7960c2af321">checkThatAllRefPicsAreAvailable</a>( picList, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[1], 1, <span class="keyword">false</span> ) != -2 )</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a9ed1d0d3748ba05c7ecc2757efb8bbc4">createExplicitReferencePictureSetFromReference</a>( picList, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[0], slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[1] );</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a63face051327cfe5aff8a75e7e2a59c1">applyReferencePictureListBasedMarking</a>( picList, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[0], slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[1], 0, *slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a> );</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// nalu type refinement</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#a4dd4cdec729ff680d246883671fd3a4c">xIsSliceTemporalSwitchingPoint</a>( slice, picList, gopId ) )</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    naluType = VVENC_NAL_UNIT_CODED_SLICE_STSA;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a> = naluType;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="comment">// reference list</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[<a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>] = sliceType == VVENC_I_SLICE ? 0 : slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[0]-&gt;<a class="code" href="structvvenc_1_1ReferencePictureList.html#afe3ce0d7b8a022a1e32fccff9785d86e">numberOfActivePictures</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[<a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>] = sliceType != VVENC_B_SLICE ? 0 : slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[1]-&gt;<a class="code" href="structvvenc_1_1ReferencePictureList.html#afe3ce0d7b8a022a1e32fccff9785d86e">numberOfActivePictures</a>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a7ae40a330f93d2efb4d17460d0c10389">constructRefPicList</a>  ( picList, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae99fa70f596cce138bc94998adf56478">setRefPOCList</a>        ();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a164edf417fa66d56811837584428cc92">setList1IdxToList0Idx</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a6edcbd35a870765780580287238a693f">updateRefPicCounter</a>  ( +1 );</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ad81158cf6b63232a127a0f9e4cb73234">setSMVDParam</a>();</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// slice type refinement</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> ( sliceType == VVENC_B_SLICE &amp;&amp; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[ <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a> ] == 0 )</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    sliceType = VVENC_P_SLICE;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a> = sliceType;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#ad49fe1fb3879f62130c2ff4dce842796">gdrPic</a>      = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a236d4df466d83fdf0a6a81d6537bd3fc">disBdofFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a8355822b111a3eb29221c2a76d5570f7">disDmvrFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#acb136a955dd575629bf5c387dd4dfd1b">disProfFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a5b857e71ea1a4c4aaf432e1846fa8f51">gdrOrIrapPic</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#ad49fe1fb3879f62130c2ff4dce842796">gdrPic</a> || slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae712c51e5029cc6e18d4272f9df547cf">isIRAP</a>();</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a3a880ac0a0a154b473b90826fe9ab9ad">picInterSliceAllowed</a> = sliceType != VVENC_I_SLICE;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a031b560424a262812b0188fc502fa1c1">picIntraSliceAllowed</a> = sliceType == VVENC_I_SLICE;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">for</span>( <span class="keywordtype">int</span> comp = 0; comp &lt; <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0faad77bdcaef23bd1b468f38e6ac85c521">MAX_NUM_COMP</a>; comp++)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a7a04d5f73d609c4a43e2d96b42afdb45">deblockingFilterTcOffsetDiv2</a>[comp]    = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a7a04d5f73d609c4a43e2d96b42afdb45">deblockingFilterTcOffsetDiv2</a>[comp]   = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a>-&gt;<a class="code" href="structvvenc_1_1PPS.html#a7a04d5f73d609c4a43e2d96b42afdb45">deblockingFilterTcOffsetDiv2</a>[comp];</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af7ed350b66bfd02791def92702bed510">deblockingFilterBetaOffsetDiv2</a>[comp]  = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af7ed350b66bfd02791def92702bed510">deblockingFilterBetaOffsetDiv2</a>[comp] = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a>-&gt;<a class="code" href="structvvenc_1_1PPS.html#af7ed350b66bfd02791def92702bed510">deblockingFilterBetaOffsetDiv2</a>[comp];</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordflow">if</span> (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a>-&gt;<a class="code" href="structvvenc_1_1PPS.html#aa674da06f7e3f079e7fe8ecf3f84c488">useDQP</a>)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keyword">const</span> uint32_t cuLumaQpSubdiv = (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_cuQpDeltaSubdiv &gt; 0 ? (uint32_t) <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_cuQpDeltaSubdiv : 0);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a8665c3ea5c9cb3b2d80c370dc290c377">cuQpDeltaSubdivInter</a> = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_usePerceptQPA ? 0 : cuLumaQpSubdiv;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a12c79386be1c69c03c118c28af8c0b60">cuQpDeltaSubdivIntra</a> = cuLumaQpSubdiv;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">if</span>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a>-&gt;<a class="code" href="structvvenc_1_1PPS.html#ae821f0db840cf84f0da844e1896a878c">chromaQpOffsetListLen</a> &gt; 0)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keyword">const</span> uint32_t cuChromaQpSubdiv = (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_cuChromaQpOffsetSubdiv &gt; 0 ? (uint32_t) <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_cuChromaQpOffsetSubdiv : 0);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a0567e17db859747e2e019a8e2bbef041">cuChromaQpOffsetSubdivInter</a> = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_usePerceptQPA ? 0 : cuChromaQpSubdiv;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a9c4d27398b80fb3635571dc31c04b02f">cuChromaQpOffsetSubdivIntra</a> = cuChromaQpSubdiv;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#ac76ef35f3f5cc18bf63e1259f85666a0">ppsId</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a>-&gt;<a class="code" href="structvvenc_1_1PPS.html#ac76ef35f3f5cc18bf63e1259f85666a0">ppsId</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a223bbd9ce719d2ca5b4551d52e174c0c">spsId</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#a223bbd9ce719d2ca5b4551d52e174c0c">spsId</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#aa53b89271f07f77f17af4ad8b79f9a4f">pic</a> = &amp;pic;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a06a1b69df3f9529738a436f4b6a479ac">xInitSliceTMVPFlag</a> ( pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>, slice, gopId );</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a82964fb10988db50bfe4a360391a0717">xInitSliceMvdL1Zero</a>( pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>, slice );</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keywordflow">if</span>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a> == VVENC_NAL_UNIT_CODED_SLICE_RASL &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_rprRASLtoolSwitch )</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a77595e65f2f2cfeba44ad6c366f713fb">lmChromaCheckDisable</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">if</span>( sliceType == VVENC_B_SLICE )</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a8355822b111a3eb29221c2a76d5570f7">disDmvrFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a3eab31ca394246084aa55ffc8f990637">xUpdateRPRtmvp</a>( pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>, slice );</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a980b2d57dbde5cc09dc9085be249f54a">xUpdateRPRToolCtrl</a>( pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>, slice );</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="comment">// update RAS</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a3b83d77d88ae40b437627d9b45f4e086">xUpdateRasInit</a>( slice );</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_useAMaxBT )</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a87eba139fb9dadc5e1d20b8d4a2c1d14">m_BlkStat</a>.<a class="code" href="classvvenc_1_1BlkStat.html#a228780445e101eb97e07ee7c4f99ebf5">setSliceMaxBT</a>( *slice );</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordtype">bool</span> identicalToSPS=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a>* sps =slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="structvvenc_1_1PicHeader.html">PicHeader</a>* picHeader = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span> (picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a3a880ac0a0a154b473b90826fe9ab9ad">picInterSliceAllowed</a>)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      identicalToSPS = (picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a3682542a44a1fea195bb92bd22513e44">minQTSize</a>[1] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a3682542a44a1fea195bb92bd22513e44">minQTSize</a>[1] &amp;&amp;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a46683731edb6c27b7607edf63474308a">maxMTTDepth</a>[1] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a46683731edb6c27b7607edf63474308a">maxMTTDepth</a>[1] &amp;&amp;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a81afd2bdbeee94d9d2b0123341a3859d">maxBTSize</a>[1] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a81afd2bdbeee94d9d2b0123341a3859d">maxBTSize</a>[1] &amp;&amp;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a999dcdfe3c47f8f17807794fd905536a">maxTTSize</a>[1] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a999dcdfe3c47f8f17807794fd905536a">maxTTSize</a>[1] );</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> (identicalToSPS &amp;&amp; picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a031b560424a262812b0188fc502fa1c1">picIntraSliceAllowed</a>)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      identicalToSPS = (picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a3682542a44a1fea195bb92bd22513e44">minQTSize</a>[0] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a3682542a44a1fea195bb92bd22513e44">minQTSize</a>[0] &amp;&amp;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a46683731edb6c27b7607edf63474308a">maxMTTDepth</a>[0] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a46683731edb6c27b7607edf63474308a">maxMTTDepth</a>[0] &amp;&amp;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a81afd2bdbeee94d9d2b0123341a3859d">maxBTSize</a>[0] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a81afd2bdbeee94d9d2b0123341a3859d">maxBTSize</a>[0] &amp;&amp;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a999dcdfe3c47f8f17807794fd905536a">maxTTSize</a>[0] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a999dcdfe3c47f8f17807794fd905536a">maxTTSize</a>[0] );</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (identicalToSPS &amp;&amp; sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#ad445b3e13a842970b96d5b0ffea57892">dualITree</a>)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      identicalToSPS = (picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a3682542a44a1fea195bb92bd22513e44">minQTSize</a>[2] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a3682542a44a1fea195bb92bd22513e44">minQTSize</a>[2] &amp;&amp;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a46683731edb6c27b7607edf63474308a">maxMTTDepth</a>[2] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a46683731edb6c27b7607edf63474308a">maxMTTDepth</a>[2] &amp;&amp;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a81afd2bdbeee94d9d2b0123341a3859d">maxBTSize</a>[2] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a81afd2bdbeee94d9d2b0123341a3859d">maxBTSize</a>[2] &amp;&amp;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                        picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a999dcdfe3c47f8f17807794fd905536a">maxTTSize</a>[2] == sps-&gt;<a class="code" href="structvvenc_1_1SPS.html#a999dcdfe3c47f8f17807794fd905536a">maxTTSize</a>[2] );</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">if</span> (identicalToSPS)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a99e4518afd7427cb0593395f90afb0f8">splitConsOverride</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> != 0 &amp;&amp; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a> == VVENC_I_SLICE, <span class="stringliteral">&quot;Unspecified error&quot;</span> );</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a0dadb78ffff3ac601aa8042a12d06d90">slice</a> = slice;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a5ce4476d29757a7fc5717358cc353003">allocateVectorsAtPicLevel</a>();</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#ab86d36bba9a3e545df27b97373549691">isReferenced</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// reshaper</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a82723a78af27c50a9d10657e367d53eb">xInitLMCS</a>( pic );</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_usePerceptQPA || (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCNumPasses == 2)) &amp;&amp; (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_usePerceptQPATempFiltISlice || !slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>()))</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; picItr : picList) <span class="comment">// find previous frames</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">if</span> (picItr-&gt;poc + 1 == curPoc) pic.<a class="code" href="structvvenc_1_1Picture.html#a068f1e1cd84c5c2e22edc6dc8776b2ae">m_bufsOrigPrev</a>[0] = &amp;picItr-&gt;m_bufs[<a class="code" href="namespacevvenc.html#a4f37629f775549c508f4c5625ae348b3ac2c8f70216b7eb0eba78270e037f9b99">PIC_ORIGINAL</a>];</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">if</span> (picItr-&gt;poc + 2 == curPoc) pic.<a class="code" href="structvvenc_1_1Picture.html#a068f1e1cd84c5c2e22edc6dc8776b2ae">m_bufsOrigPrev</a>[1] = &amp;picItr-&gt;m_bufs[<a class="code" href="namespacevvenc.html#a4f37629f775549c508f4c5625ae348b3ac2c8f70216b7eb0eba78270e037f9b99">PIC_ORIGINAL</a>];</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">picApsMap</a>.clearActive();</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="namespacevvenc.html#a5060b69f3d0a778e6695e17871369f6a">ALF_CTB_MAX_NUM_APS</a>; i++ )</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> apsMapIdx = ( i &lt;&lt; <a class="code" href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">NUM_APS_TYPE_LEN</a> ) + <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da0c974d8373def41d676849ac99a9891a">ALF_APS</a>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="structvvenc_1_1APS.html">APS</a>* alfAPS = pic.<a class="code" href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">picApsMap</a>.getPS( apsMapIdx );</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">if</span> ( alfAPS )</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      pic.<a class="code" href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">picApsMap</a>.clearChangedFlag( apsMapIdx );</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      alfAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#adff4a80fe8e05ddc6c95332aea845f39">alfParam</a>.<a class="code" href="structvvenc_1_1AlfParam.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a>();</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      alfAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a0e1c2db91acb465a517c2668fe404d88">ccAlfParam</a>.<a class="code" href="structvvenc_1_1CcAlfFilterParam.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a>();</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5fc3860d05454f3f759d0f49badd8a42">enableDRAPSEI</a> &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames, <span class="stringliteral">&quot;Dependent Random Access Point is not supported by Frame Parallel Processing&quot;</span> );</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">if</span>( pic.<a class="code" href="structvvenc_1_1Picture.html#af1fa96a850f404aded578d3e29dedbcb">poc</a> == <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_switchPOC ) </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ae77ea1e40a826bc5241ca0e8c77cf0ef">m_appliedSwitchDQQ</a> = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_switchDQP;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a70644c68e3742f868ad13db685037092">seqBaseQp</a> = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_QP + <a class="code" href="classvvenc_1_1EncGOP.html#ae77ea1e40a826bc5241ca0e8c77cf0ef">m_appliedSwitchDQQ</a>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#af2a1775ef7c9ed678b6892d1f59000a4">isInitDone</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a0602edf37e2e92d8b105c13a178f5e51">m_bFirstInit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;}</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a06a1b69df3f9529738a436f4b6a479ac">  982</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a06a1b69df3f9529738a436f4b6a479ac">EncGOP::xInitSliceTMVPFlag</a>( <a class="code" href="structvvenc_1_1PicHeader.html">PicHeader</a>* picHeader, <span class="keyword">const</span> <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice, <span class="keywordtype">int</span> gopId )</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;{</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_TMVPModeId == 2 )</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  {</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> ( gopId == 0 ) <span class="comment">// first picture in SOP (i.e. forward B)</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af4adc720c8ba77c885ad73f5849bce8b">enableTMVP</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="comment">// Note: slice-&gt;colFromL0Flag is assumed to be always 0 and getcolRefIdx() is always 0.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af4adc720c8ba77c885ad73f5849bce8b">enableTMVP</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_TMVPModeId == 1 )</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af4adc720c8ba77c885ad73f5849bce8b">enableTMVP</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af4adc720c8ba77c885ad73f5849bce8b">enableTMVP</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">// disable TMVP when current picture is the only ref picture</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae712c51e5029cc6e18d4272f9df547cf">isIRAP</a>() &amp;&amp; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#a1065ad08df915fe372b9f0d1ea865788">IBC</a> )</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af4adc720c8ba77c885ad73f5849bce8b">enableTMVP</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a3eab31ca394246084aa55ffc8f990637"> 1012</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a3eab31ca394246084aa55ffc8f990637">EncGOP::xUpdateRPRtmvp</a>( <a class="code" href="structvvenc_1_1PicHeader.html">PicHeader</a>* picHeader, <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice )</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;{</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordflow">if</span>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a> != VVENC_I_SLICE &amp;&amp; picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af4adc720c8ba77c885ad73f5849bce8b">enableTMVP</a> &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_rprRASLtoolSwitch )</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordtype">int</span> colRefIdxL0 = -1, colRefIdxL1 = -1;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> refIdx = 0; refIdx &lt; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[<a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>]; refIdx++ )</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="keywordflow">if</span>( !( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>, refIdx )-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0]-&gt;nalUnitType != VVENC_NAL_UNIT_CODED_SLICE_RASL &amp;&amp;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;             slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>, refIdx )-&gt;<a class="code" href="structvvenc_1_1Picture.html#af1fa96a850f404aded578d3e29dedbcb">poc</a> &lt;= <a class="code" href="classvvenc_1_1EncGOP.html#a543e2e96d2fc6e6a250b93d021bd1dfd">m_pocCRA</a> ) )</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        colRefIdxL0 = refIdx;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">if</span>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a> == VVENC_B_SLICE )</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">for</span>( <span class="keywordtype">int</span> refIdx = 0; refIdx &lt; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[<a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>]; refIdx++ )</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordflow">if</span>( !( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>, refIdx )-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0]-&gt;nalUnitType != VVENC_NAL_UNIT_CODED_SLICE_RASL &amp;&amp;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;               slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>, refIdx )-&gt;<a class="code" href="structvvenc_1_1Picture.html#af1fa96a850f404aded578d3e29dedbcb">poc</a> &lt;= <a class="code" href="classvvenc_1_1EncGOP.html#a543e2e96d2fc6e6a250b93d021bd1dfd">m_pocCRA</a> ) )</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;          colRefIdxL1 = refIdx;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">if</span>( colRefIdxL0 &gt;= 0 &amp;&amp; colRefIdxL1 &gt;= 0 )</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keyword">const</span> <a class="code" href="structvvenc_1_1Picture.html">Picture</a> *refPicL0 = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>, colRefIdxL0 );</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keyword">const</span> <a class="code" href="structvvenc_1_1Picture.html">Picture</a> *refPicL1 = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>, colRefIdxL1 );</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( !refPicL0-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>.size(), <span class="stringliteral">&quot;Wrong L0 reference picture&quot;</span> );</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( !refPicL1-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>.size(), <span class="stringliteral">&quot;Wrong L1 reference picture&quot;</span> );</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keyword">const</span> uint32_t uiColFromL0 = refPicL0-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0]-&gt;sliceQp &gt; refPicL1-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0]-&gt;sliceQp;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a96a38380c8282d2995af690262793375">picColFromL0</a> = uiColFromL0;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a1a8e30a30c5385c4bff3aeae61f3fdbd">colFromL0Flag</a> = uiColFromL0;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">colRefIdx</a> = uiColFromL0 ? colRefIdxL0 : colRefIdxL1;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">colRefIdx</a> = uiColFromL0 ? colRefIdxL0 : colRefIdxL1;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( colRefIdxL0 &lt; 0 &amp;&amp; colRefIdxL1 &gt;= 0 )</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a96a38380c8282d2995af690262793375">picColFromL0</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a1a8e30a30c5385c4bff3aeae61f3fdbd">colFromL0Flag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">colRefIdx</a> = colRefIdxL1;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">colRefIdx</a> = colRefIdxL1;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( colRefIdxL0 &gt;= 0 &amp;&amp; colRefIdxL1 &lt; 0 )</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a96a38380c8282d2995af690262793375">picColFromL0</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a1a8e30a30c5385c4bff3aeae61f3fdbd">colFromL0Flag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">colRefIdx</a> = colRefIdxL0;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">colRefIdx</a> = colRefIdxL0;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af4adc720c8ba77c885ad73f5849bce8b">enableTMVP</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;}</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a980b2d57dbde5cc09dc9085be249f54a"> 1076</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a980b2d57dbde5cc09dc9085be249f54a">EncGOP::xUpdateRPRToolCtrl</a>( <a class="code" href="structvvenc_1_1PicHeader.html">PicHeader</a>* picHeader, <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice )</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;{</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">for</span>( <span class="keywordtype">int</span> refIdx = 0; refIdx &lt; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[<a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>]; refIdx++ )</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>, refIdx )-&gt;<a class="code" href="structvvenc_1_1Picture.html#af1fa96a850f404aded578d3e29dedbcb">poc</a> &lt;= <a class="code" href="classvvenc_1_1EncGOP.html#a543e2e96d2fc6e6a250b93d021bd1dfd">m_pocCRA</a> &amp;&amp;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">REF_PIC_LIST_0</a>, refIdx )-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0]-&gt;nalUnitType != VVENC_NAL_UNIT_CODED_SLICE_RASL )</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a236d4df466d83fdf0a6a81d6537bd3fc">disBdofFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#acb136a955dd575629bf5c387dd4dfd1b">disProfFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;}</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">for</span>( <span class="keywordtype">int</span> refIdx = 0; refIdx &lt; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[<a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>]; refIdx++ )</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">if</span>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>, refIdx )-&gt;<a class="code" href="structvvenc_1_1Picture.html#af1fa96a850f404aded578d3e29dedbcb">poc</a> &lt;= <a class="code" href="classvvenc_1_1EncGOP.html#a543e2e96d2fc6e6a250b93d021bd1dfd">m_pocCRA</a> &amp;&amp;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">getRefPic</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">REF_PIC_LIST_1</a>, refIdx )-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0]-&gt;nalUnitType != VVENC_NAL_UNIT_CODED_SLICE_RASL )</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a236d4df466d83fdf0a6a81d6537bd3fc">disBdofFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#acb136a955dd575629bf5c387dd4dfd1b">disProfFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;}</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a82964fb10988db50bfe4a360391a0717"> 1103</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a82964fb10988db50bfe4a360391a0717">EncGOP::xInitSliceMvdL1Zero</a>( <a class="code" href="structvvenc_1_1PicHeader.html">PicHeader</a>* picHeader, <span class="keyword">const</span> <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice )</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;{</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordtype">bool</span> bGPBcheck = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a> == VVENC_B_SLICE)</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[ 0 ] == slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[ 1 ] )</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      bGPBcheck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">for</span> ( i=0; i &lt; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[ 1 ]; i++ )</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5aa0670cb22e42db7d597aa009dcf219">getRefPOC</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384">RefPicList</a>( 1 ), i ) != slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5aa0670cb22e42db7d597aa009dcf219">getRefPOC</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384">RefPicList</a>( 0 ), i ) )</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;          bGPBcheck = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="keywordflow">if</span> ( bGPBcheck )</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#aa53c2d481cc7ff4f02ed006c9ef85c97">mvdL1Zero</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  }</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    picHeader-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#aa53c2d481cc7ff4f02ed006c9ef85c97">mvdL1Zero</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;}</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a82723a78af27c50a9d10657e367d53eb"> 1134</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a82723a78af27c50a9d10657e367d53eb">EncGOP::xInitLMCS</a>( <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic )</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;{</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice = pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a0dadb78ffff3ac601aa8042a12d06d90">slice</a>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keyword">const</span> <a class="code" href="TypeDef_8h.html#ac670918873d1623fbf91921b90e09a9d">SliceType</a> sliceType = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keywordflow">if</span>( ! pic.<a class="code" href="structvvenc_1_1Picture.html#a251171a6633404b34365b828a7cbad01">useScLMCS</a> || (!slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>() &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#adae79835db0ab397ea0a9c683fe2f8f8">m_disableLMCSIP</a>) )</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    pic.<a class="code" href="structvvenc_1_1Picture.html#a2487e6c4ee0e4106a128c09f68105170">reshapeData</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a1ba82b1bdabc365ecbbe78550d924bd1">copyReshapeData</a>( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a> );</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#aa34afdeb643e7459434ba11e4314ec32">setCTUFlag</a>     ( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    pic.<a class="code" href="structvvenc_1_1Picture.html#a2487e6c4ee0e4106a128c09f68105170">reshapeData</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#aa34afdeb643e7459434ba11e4314ec32">setCTUFlag</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">if</span>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>() )  <a class="code" href="classvvenc_1_1EncGOP.html#adae79835db0ab397ea0a9c683fe2f8f8">m_disableLMCSIP</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="keywordflow">if</span>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>() ) <a class="code" href="classvvenc_1_1EncGOP.html#adae79835db0ab397ea0a9c683fe2f8f8">m_disableLMCSIP</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#ac5369b89e9ed3c7b43189f2fb892140f">getReshapeCW</a>()-&gt;rspTid = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> + (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>() ? 0 : 1);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>().<a class="code" href="structvvenc_1_1LmcsParam.html#ae8a7053237ee11da3f1db1c9252feb3b">chrResScalingOffset</a> = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_LMCSOffset;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12cada75f9671a9e2495150754c9383ab8b8">RESHAPE_SIGNAL_PQ</a> )</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#a559f3dfabbc2cdbceda94560e197f917">preAnalyzerHDR</a>( pic, sliceType, <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeCW );</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12ca36b28b78ee8ae48abf60c3bec6340f33">RESHAPE_SIGNAL_SDR</a> || <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12ca350726caac3fa75c18a789f4cc12269f">RESHAPE_SIGNAL_HLG</a> )</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#a3128186259f83af81587a7a6b4be092f">preAnalyzerLMCS</a>( pic, <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType, sliceType, <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeCW );</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="StatCounter_8h.html#a27264efd631c4f584ddcb2f5888ae6ed">THROW</a>(<span class="stringliteral">&quot;Reshaper for other signal currently not defined!&quot;</span>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keywordflow">if</span> ( sliceType == VVENC_I_SLICE )</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12cada75f9671a9e2495150754c9383ab8b8">RESHAPE_SIGNAL_PQ</a> )</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#aca38897f26210fa23730608a311d440f">initLUTfromdQPModel</a>();</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1Reshape.html#a7c36ae03ddd26787686a9a304b6367de">updateReshapeLumaLevelToWeightTableChromaMD</a>( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#aa5bb3b64b46c55daa973047310d70393">getInvLUT</a>() );</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12ca36b28b78ee8ae48abf60c3bec6340f33">RESHAPE_SIGNAL_SDR</a> || <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12ca350726caac3fa75c18a789f4cc12269f">RESHAPE_SIGNAL_HLG</a> )</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1Reshape.html#a90d118055a8c2b48d26417568e0d07e7">getReshapeFlag</a>() )</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#a7975016d5b7d3b2e8ae0895565087640">constructReshaperLMCS</a>();</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1Reshape.html#ae00b0e814ec1507a20a10bd95e8319ba">updateReshapeLumaLevelToWeightTable</a>( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>(), <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#aa339e81c77c2b11e179bc3fe2c356eb6">getWeightTable</a>(), <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#a8b7fa9cad25d42033cca0631035e906c">getCWeight</a>() );</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <a class="code" href="StatCounter_8h.html#a27264efd631c4f584ddcb2f5888ae6ed">THROW</a>( <span class="stringliteral">&quot;Reshaper for other signal currently not defined!&quot;</span> );</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="comment">//reshape original signal</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>().<a class="code" href="structvvenc_1_1LmcsParam.html#ae9dc27e25d79cb9748be0ec897df07ce">sliceReshaperEnabled</a> )</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <a class="code" href="structvvenc_1_1UnitBuf.html">CPelUnitBuf</a> origBuf   = pic.<a class="code" href="structvvenc_1_1Picture.html#a7b8e59f547b3a21d59f72e2fd97f751c">getOrigBuf</a>();</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keywordflow">if</span>( pic.<a class="code" href="structvvenc_1_1Picture.html#ae4e8dfefa32e8e3dce020e149c9c71f2">getFilteredOrigBuffer</a>().<a class="code" href="structvvenc_1_1UnitBuf.html#a315419f26d3c59fa143b49b90a019049">valid</a>() )</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        pic.<a class="code" href="structvvenc_1_1Picture.html#a0abcb1f18752aeaeed142a6b9aff7f82">getRspOrigBuf</a>().<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>).rspSignal( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#ab39ba02b7f7b8d316d4ff7361a216ece">getFwdLUT</a>());</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      }</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        pic.<a class="code" href="structvvenc_1_1Picture.html#ae4e8dfefa32e8e3dce020e149c9c71f2">getFilteredOrigBuffer</a>().<a class="code" href="structvvenc_1_1PelStorage.html#ae71ed6a359a035891f1e1b201ed99813">create</a>( pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a5e9c1ca891ed69b925ad083b0e92c641">pcv</a>-&gt;<a class="code" href="classvvenc_1_1PreCalcValues.html#accd995becc51735172dd859be536687a">chrFormat</a>, <a class="code" href="structvvenc_1_1Area.html">Area</a>( 0, 0, origBuf.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>( <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a> ).width, origBuf.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>( <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a> ).height) );</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <a class="code" href="structvvenc_1_1UnitBuf.html">PelUnitBuf</a> rspOrigBuf = pic.<a class="code" href="structvvenc_1_1Picture.html#a0abcb1f18752aeaeed142a6b9aff7f82">getRspOrigBuf</a>();</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        rspOrigBuf.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>).rspSignal( origBuf.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>), <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#ab39ba02b7f7b8d316d4ff7361a216ece">getFwdLUT</a>());</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="TypeDef_8h.html#a1644a589f6466e6ce533230a841fc96a">CHROMA_400</a> != pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a5e9c1ca891ed69b925ad083b0e92c641">pcv</a>-&gt;<a class="code" href="classvvenc_1_1PreCalcValues.html#accd995becc51735172dd859be536687a">chrFormat</a> )</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;          rspOrigBuf.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05">COMP_Cb</a>).copyFrom( origBuf.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05">COMP_Cb</a>) );</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;          rspOrigBuf.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa18e244a2f61070c3e5c30ace7e26fd50">COMP_Cr</a>).copyFrom( origBuf.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa18e244a2f61070c3e5c30ace7e26fd50">COMP_Cr</a>) );</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#aa34afdeb643e7459434ba11e4314ec32">setCTUFlag</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#aa34afdeb643e7459434ba11e4314ec32">setCTUFlag</a>( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1Reshape.html#a90d118055a8c2b48d26417568e0d07e7">getReshapeFlag</a>() );</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>().<a class="code" href="structvvenc_1_1LmcsParam.html#aec7bf020883ff4f855c09c0d756a9ac5">sliceReshaperModelPresent</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12cada75f9671a9e2495150754c9383ab8b8">RESHAPE_SIGNAL_PQ</a> )</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1Reshape.html#ad820051abe566067c0dacb90b148c1a8">restoreReshapeLumaLevelToWeightTable</a>();</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12ca36b28b78ee8ae48abf60c3bec6340f33">RESHAPE_SIGNAL_SDR</a> || <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeSignalType == <a class="code" href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12ca350726caac3fa75c18a789f4cc12269f">RESHAPE_SIGNAL_HLG</a> )</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keywordtype">int</span> modIP = pic.<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>() - pic.<a class="code" href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">getPOC</a>() / <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeCW.rspFpsToIp * <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeCW.rspFpsToIp;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1Reshape.html#a90d118055a8c2b48d26417568e0d07e7">getReshapeFlag</a>() &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_reshapeCW.updateCtrl == 2 &amp;&amp; modIP == 0)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>().<a class="code" href="structvvenc_1_1LmcsParam.html#aec7bf020883ff4f855c09c0d756a9ac5">sliceReshaperModelPresent</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#a7975016d5b7d3b2e8ae0895565087640">constructReshaperLMCS</a>();</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1Reshape.html#ae00b0e814ec1507a20a10bd95e8319ba">updateReshapeLumaLevelToWeightTable</a>(<a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>(), <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#aa339e81c77c2b11e179bc3fe2c356eb6">getWeightTable</a>(), <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1EncReshape.html#a8b7fa9cad25d42033cca0631035e906c">getCWeight</a>());</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <a class="code" href="StatCounter_8h.html#a27264efd631c4f584ddcb2f5888ae6ed">THROW</a>(<span class="stringliteral">&quot;Reshaper for other signal currently not defined!&quot;</span>);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">//set all necessary information in LMCS APS and slice</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a75027878ba07c729f99e49e63d3495d9">lmcsEnabled</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a75027878ba07c729f99e49e63d3495d9">lmcsEnabled</a> = <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>().<a class="code" href="structvvenc_1_1LmcsParam.html#ae9dc27e25d79cb9748be0ec897df07ce">sliceReshaperEnabled</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#ab397bddbf3c96f9b0fe2d48b16f1b51b">lmcsChromaResidualScale</a>          = ( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>().<a class="code" href="structvvenc_1_1LmcsParam.html#ad5315c772efb06a84afefbaa820d7ee3">enableChromaAdj</a> == 1 );</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>().<a class="code" href="structvvenc_1_1LmcsParam.html#aec7bf020883ff4f855c09c0d756a9ac5">sliceReshaperModelPresent</a> )</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <a class="code" href="classvvenc_1_1ParameterSetMap.html">ParameterSetMap&lt;APS&gt;</a>&amp; picApsMap = pic.<a class="code" href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">picApsMap</a>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> apsId0                = 0;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> apsMapIdx             = ( apsId0 &lt;&lt; <a class="code" href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">NUM_APS_TYPE_LEN</a> ) + <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da7f1fa15ae49743bd11268b02d654b246">LMCS_APS</a>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <a class="code" href="structvvenc_1_1APS.html">APS</a>* picAps                     = picApsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">getPS</a>( apsMapIdx );</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">if</span> ( picAps == <span class="keyword">nullptr</span> )</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      picAps = picApsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a01d7c66f790821738dd9333b2721d320">allocatePS</a>( apsMapIdx );</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      picAps-&gt;<a class="code" href="structvvenc_1_1APS.html#a313a1bced10809216ecc44db7536c4c6">apsType</a>     = <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da7f1fa15ae49743bd11268b02d654b246">LMCS_APS</a>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      picAps-&gt;<a class="code" href="structvvenc_1_1APS.html#af572bb25c3d604195a1cd147e0208031">apsId</a>       = apsId0;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    picAps-&gt;<a class="code" href="structvvenc_1_1APS.html#a8c1a0b897dc634ba08afa831c8fe9c4f">lmcsParam</a> = <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">getSliceReshaperInfo</a>();</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    picApsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a3b463d7ea39e2abaecf5a982ec562f12">setChangedFlag</a>( apsMapIdx );</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a056efd77bd0e350d09f6c93386fbfb7b">lmcsAps</a>    = picAps;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af6ee0186753c8db60b2d8e6743e6a3de">lmcsApsId</a>  = apsId0;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a75027878ba07c729f99e49e63d3495d9">lmcsEnabled</a> )</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af6ee0186753c8db60b2d8e6743e6a3de">lmcsApsId</a> = 0;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a2487e6c4ee0e4106a128c09f68105170">reshapeData</a>.<a class="code" href="classvvenc_1_1ReshapeData.html#a1ba82b1bdabc365ecbbe78550d924bd1">copyReshapeData</a>( <a class="code" href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">m_Reshaper</a> );</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a3cf105a07a7d30676f4d458080197442"> 1263</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a3cf105a07a7d30676f4d458080197442">EncGOP::xSelectReferencePictureList</a>( <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice, <span class="keywordtype">int</span> curPoc, <span class="keywordtype">int</span> gopId, <span class="keywordtype">int</span> ltPoc )</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;{</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[0] = gopId;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[1] = gopId;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordtype">int</span> fullListNum = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordtype">int</span> partialListNum = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_numRPLList0 - <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordtype">int</span> extraNum = fullListNum;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod &lt; 0 )</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">if</span> (curPoc &lt; (2 * <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize + 2))</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[0] = (curPoc + <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize - 1);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[1] = (curPoc + <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize - 1);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[0] = ((curPoc%<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize == 0) ? <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize - 1 : curPoc%<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize - 1);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[1] = ((curPoc%<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize == 0) ? <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize - 1 : curPoc%<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize - 1);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    extraNum = fullListNum + partialListNum;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">for</span> (; extraNum &lt; fullListNum + partialListNum; extraNum++)</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod &gt; 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType &gt; 0 )</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="keywordtype">int</span> pocMod = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_DecodingRefreshType == 4 ? 1 : 0;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <span class="keywordtype">int</span> POCIndex = (curPoc+pocMod)%<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      if (POCIndex == 0)</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        POCIndex = <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="keywordflow">if</span> (POCIndex == <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RPLList0[extraNum].m_POC)</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[0] = extraNum;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[1] = extraNum;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        extraNum++;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1ReferencePictureList.html">ReferencePictureList</a>* rpl0 = &amp;(slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#ab5be270f22f8b3000f6d01a2c1ce389d">rplList</a>[0][slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[0]]);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1ReferencePictureList.html">ReferencePictureList</a>* rpl1 = &amp;(slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#ab5be270f22f8b3000f6d01a2c1ce389d">rplList</a>[1][slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">rplIdx</a>[1]]);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[0] = rpl0;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">rpl</a>[1] = rpl1;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;}</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a0ea90ce01332b6db5b3e18bcf897a630"> 1308</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a0ea90ce01332b6db5b3e18bcf897a630">EncGOP::xSyncAlfAps</a>( <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="classvvenc_1_1ParameterSetMap.html">ParameterSetMap&lt;APS&gt;</a>&amp; dst, <span class="keyword">const</span> <a class="code" href="classvvenc_1_1ParameterSetMap.html">ParameterSetMap&lt;APS&gt;</a>&amp; src )</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;{</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <a class="code" href="classvvenc_1_1Slice.html">Slice</a>&amp; slice   = *pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a0dadb78ffff3ac601aa8042a12d06d90">slice</a>;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a>&amp; sps = *slice.<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <span class="keywordflow">if</span> ( sps.<a class="code" href="structvvenc_1_1SPS.html#ac5b50e752ce3e6b377b8432d5ff5d73a">alfEnabled</a> )</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="comment">// cleanup first</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    dst.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a323f894b86639f571ec7e44fb20fbfea">clearActive</a>();</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="namespacevvenc.html#a5060b69f3d0a778e6695e17871369f6a">ALF_CTB_MAX_NUM_APS</a>; i++ )</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> apsMapIdx = ( i &lt;&lt; <a class="code" href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">NUM_APS_TYPE_LEN</a> ) + <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da0c974d8373def41d676849ac99a9891a">ALF_APS</a>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <a class="code" href="structvvenc_1_1APS.html">APS</a>* alfAPS = dst.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">getPS</a>( apsMapIdx );</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <span class="keywordflow">if</span> ( alfAPS )</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        dst.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a735725df5a966011b903b459f7e8951e">clearChangedFlag</a>( apsMapIdx );</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        alfAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#adff4a80fe8e05ddc6c95332aea845f39">alfParam</a>.<a class="code" href="structvvenc_1_1AlfParam.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a>();</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    }</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="comment">// copy</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="namespacevvenc.html#a5060b69f3d0a778e6695e17871369f6a">ALF_CTB_MAX_NUM_APS</a>; i++ )</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> apsMapIdx = ( i &lt;&lt; <a class="code" href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">NUM_APS_TYPE_LEN</a> ) + <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da0c974d8373def41d676849ac99a9891a">ALF_APS</a>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="keyword">const</span> <a class="code" href="structvvenc_1_1APS.html">APS</a>* srcAPS = src.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">getPS</a>( apsMapIdx );</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keywordflow">if</span> ( srcAPS )</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <a class="code" href="structvvenc_1_1APS.html">APS</a>* dstAPS = dst.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">getPS</a>( apsMapIdx );</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="keywordflow">if</span> ( ! dstAPS )</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;          dstAPS = dst.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a01d7c66f790821738dd9333b2721d320">allocatePS</a>( apsMapIdx );</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          dst.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a735725df5a966011b903b459f7e8951e">clearChangedFlag</a>( apsMapIdx );</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        }</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        dst.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a3b463d7ea39e2abaecf5a982ec562f12">setChangedFlag</a>( apsMapIdx, src.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ae6f836c3eb674938789363268f920a4c">getChangedFlag</a>( apsMapIdx ) );</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        dstAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#adff4a80fe8e05ddc6c95332aea845f39">alfParam</a>    = srcAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#adff4a80fe8e05ddc6c95332aea845f39">alfParam</a>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        dstAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a0e1c2db91acb465a517c2668fe404d88">ccAlfParam</a>  = srcAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a0e1c2db91acb465a517c2668fe404d88">ccAlfParam</a>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        dstAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#af572bb25c3d604195a1cd147e0208031">apsId</a>       = srcAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#af572bb25c3d604195a1cd147e0208031">apsId</a>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        dstAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a313a1bced10809216ecc44db7536c4c6">apsType</a>     = srcAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a313a1bced10809216ecc44db7536c4c6">apsType</a>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        dstAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a245ddfa1d0638413cec268376a45aca9">layerId</a>     = srcAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a245ddfa1d0638413cec268376a45aca9">layerId</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        dstAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a689318902eb8611be25e962daf89f325">temporalId</a>  = srcAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#a689318902eb8611be25e962daf89f325">temporalId</a>;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        dstAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>         = srcAPS-&gt;<a class="code" href="structvvenc_1_1APS.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    dst.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a6ca1fe7fc5a42068a3476c58c610885e">setApsIdStart</a>( src.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ac7105dc81d6023f9b1521d9851036720">getApsIdStart</a>() );</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;}</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a0c054a05da22918aed805ded0f26e2e3"> 1354</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a0c054a05da22918aed805ded0f26e2e3">EncGOP::xWritePicture</a>( <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a>&amp; au, <span class="keywordtype">bool</span> isEncodeLtRef )</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;{</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="dtrace__next_8h.html#a60977af402536fce4e55514d8fe947ad">DTRACE_UPDATE</a>( g_trace_ctx, std::make_pair( <span class="stringliteral">&quot;bsfinal&quot;</span>, 1 ) );</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a34bf84a00862829eae9bd39d0b980b6d">encTime</a>.<a class="code" href="structvvenc_1_1StopClock.html#aec53975ffc59ffaf3080db21af0d2f6e">startTimer</a>();</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  au.<a class="code" href="classvvenc_1_1AccessUnitList.html#af987af22aae1c6aaf2bc514f693d42eb">poc</a>           = pic.<a class="code" href="structvvenc_1_1Picture.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  au.<a class="code" href="classvvenc_1_1AccessUnitList.html#a6563b227bb64fed2e3c445a33b213bad">temporalLayer</a> = pic.<a class="code" href="structvvenc_1_1Picture.html#a866d09a71218ee36b783ade7292c8025">TLayer</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  au.<a class="code" href="classvvenc_1_1AccessUnitList.html#ab2047d19f8e65f73084223a1289521a8">refPic</a>        = pic.<a class="code" href="structvvenc_1_1Picture.html#ab86d36bba9a3e545df27b97373549691">isReferenced</a>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordflow">if</span> ( ! pic.<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>.empty() )</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    au.<a class="code" href="classvvenc_1_1AccessUnitList.html#a7ea15d247816b1b84434f215e9bfde9e">sliceType</a> = pic.<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ]-&gt;sliceType;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#af2ac98bd694308e21ccdcb78b4144a28">actualTotalBits</a> += <a class="code" href="classvvenc_1_1EncGOP.html#a37418e46104a10160ad1a82b4a84c44a">xWriteParameterSets</a>( pic, au, <a class="code" href="classvvenc_1_1EncGOP.html#a5a07d33687e130f4590088df0845892c">m_HLSWriter</a> );</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a029228596d8e2976767454d75cf1cf65">xWriteLeadingSEIs</a>( pic, au );</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#af2ac98bd694308e21ccdcb78b4144a28">actualTotalBits</a> += <a class="code" href="classvvenc_1_1EncGOP.html#a3eb09fad4d313cc915104d8ac6a05a13">xWritePictureSlices</a>( pic, au, <a class="code" href="classvvenc_1_1EncGOP.html#a5a07d33687e130f4590088df0845892c">m_HLSWriter</a> );</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  pic.<a class="code" href="structvvenc_1_1Picture.html#a34bf84a00862829eae9bd39d0b980b6d">encTime</a>.<a class="code" href="structvvenc_1_1StopClock.html#aa6f6bfef028c7b053444cbd48567d286">stopTimer</a>();</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  std::string digestStr;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a42cf817d9ab798a86ac299fab588abbe">xWriteTrailingSEIs</a>( pic, au, digestStr );</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a6cf7be415fe7a62e537bb2ea7a23a279">xPrintPictureInfo</a> ( pic, au, digestStr, <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_printFrameMSE, isEncodeLtRef );</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <a class="code" href="dtrace__next_8h.html#a60977af402536fce4e55514d8fe947ad">DTRACE_UPDATE</a>( g_trace_ctx, std::make_pair( <span class="stringliteral">&quot;bsfinal&quot;</span>, 0 ) );</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;}</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a37418e46104a10160ad1a82b4a84c44a"> 1380</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvvenc_1_1EncGOP.html#a37418e46104a10160ad1a82b4a84c44a">EncGOP::xWriteParameterSets</a>( <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a>&amp; accessUnit, <a class="code" href="classvvenc_1_1HLSWriter.html">HLSWriter</a>&amp; hlsWriter )</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;{</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice        = pic.<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0];</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a>&amp; sps      = *(slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1PPS.html">PPS</a>&amp; pps      = *(slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a>);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="keywordtype">int</span> actualTotalBits = 0;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#abdbbd6cc7b7262c5f736b69029aec133">m_bFirstWrite</a> || ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_rewriteParamSets &amp;&amp; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae712c51e5029cc6e18d4272f9df547cf">isIRAP</a>() ) )</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#a39a29fba99967ef025b5ad9a25ab4de2">vpsId</a> != 0)</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      actualTotalBits += <a class="code" href="classvvenc_1_1EncGOP.html#a9b636fcfc3828e188717122422290b20">xWriteVPS</a>( accessUnit, pic.<a class="code" href="structvvenc_1_1Picture.html#a8ec4b1bd7507e973ed0d2f4ebd70d8c6">vps</a>, hlsWriter );</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    actualTotalBits += <a class="code" href="classvvenc_1_1EncGOP.html#ac70e95d20214f12812dae42fb3be7da2">xWriteDCI</a>( accessUnit, pic.<a class="code" href="structvvenc_1_1Picture.html#a0af3b03af999b3b41480e6ba7071f36a">dci</a>, hlsWriter );</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    actualTotalBits += <a class="code" href="classvvenc_1_1EncGOP.html#a0e353762d486d76a4e658716b9c94275">xWriteSPS</a>( accessUnit, &amp;sps, hlsWriter );</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    actualTotalBits += <a class="code" href="classvvenc_1_1EncGOP.html#adb7083540b1f48d362a01ac6026e48e0">xWritePPS</a>( accessUnit, &amp;pps, &amp;sps, hlsWriter );</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#abdbbd6cc7b7262c5f736b69029aec133">m_bFirstWrite</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordtype">bool</span> IrapOrGdrAu = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#ad49fe1fb3879f62130c2ff4dce842796">gdrPic</a> || (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae712c51e5029cc6e18d4272f9df547cf">isIRAP</a>() &amp;&amp; !slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a>-&gt;<a class="code" href="structvvenc_1_1PPS.html#af274efb2bbd269e92efbcbe25bcd2fcf">mixedNaluTypesInPic</a>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">if</span> ((( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ec4b1bd7507e973ed0d2f4ebd70d8c6">vps</a>-&gt;<a class="code" href="structvvenc_1_1VPS.html#a8e58181a5b39878e04ef485e1d36c7e7">maxLayers</a> &gt; 1 &amp;&amp; IrapOrGdrAu) || <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_AccessUnitDelimiter) &amp;&amp; !slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ac3e8dc71f2ac043cc9142e1b1205491c">nuhLayerId</a> )</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#adbfcdec807e04ef8276eda273ea7e817">xWriteAccessUnitDelimiter</a>( accessUnit, slice, IrapOrGdrAu, hlsWriter );</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="comment">// send LMCS APS when LMCSModel is updated. It can be updated even current slice does not enable reshaper.</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="comment">// For example, in RA, update is on intra slice, but intra slice may not use reshaper</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">if</span> ( sps.<a class="code" href="structvvenc_1_1SPS.html#a836fec3af83301fd63c4b7dd1aeaccdf">lumaReshapeEnable</a> &amp;&amp; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af6ee0186753c8db60b2d8e6743e6a3de">lmcsApsId</a> &gt;= 0 )</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="comment">// only 1 LMCS data for 1 picture</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <a class="code" href="classvvenc_1_1ParameterSetMap.html">ParameterSetMap&lt;APS&gt;</a>&amp; apsMap = pic.<a class="code" href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">picApsMap</a>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> apsId              = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#af6ee0186753c8db60b2d8e6743e6a3de">lmcsApsId</a>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> apsMapIdx          = ( apsId &lt;&lt; <a class="code" href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">NUM_APS_TYPE_LEN</a> ) + <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da7f1fa15ae49743bd11268b02d654b246">LMCS_APS</a>;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <a class="code" href="structvvenc_1_1APS.html">APS</a>* aps                     = apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">getPS</a>( apsMapIdx );</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> doAPS             = aps &amp;&amp; apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ae6f836c3eb674938789363268f920a4c">getChangedFlag</a>( apsMapIdx );</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">if</span> ( doAPS )</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      aps-&gt;<a class="code" href="structvvenc_1_1APS.html#a87b6c3f79cd33fccd400dcb6b191b303">chromaPresent</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#af671e643fcbb19af8b0cf8aa94657716">chromaFormatIdc</a> != <a class="code" href="TypeDef_8h.html#a1644a589f6466e6ce533230a841fc96a">CHROMA_400</a>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      aps-&gt;<a class="code" href="structvvenc_1_1APS.html#a689318902eb8611be25e962daf89f325">temporalId</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      actualTotalBits += <a class="code" href="classvvenc_1_1EncGOP.html#a652678a52ae3647bd679e002b7179f8c">xWriteAPS</a>( accessUnit, aps, hlsWriter, VVENC_NAL_UNIT_PREFIX_APS );</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a735725df5a966011b903b459f7e8951e">clearChangedFlag</a>( apsMapIdx );</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>( aps != slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">picHeader</a>-&gt;<a class="code" href="structvvenc_1_1PicHeader.html#a056efd77bd0e350d09f6c93386fbfb7b">lmcsAps</a>, <span class="stringliteral">&quot;Wrong LMCS APS pointer&quot;</span> );</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  }</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="comment">// send ALF APS</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <span class="keywordflow">if</span> ( sps.<a class="code" href="structvvenc_1_1SPS.html#ac5b50e752ce3e6b377b8432d5ff5d73a">alfEnabled</a> &amp;&amp; (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a98d6e8c638d90feb69f1fe4aadb1ab08">tileGroupAlfEnabled</a>[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>] || slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5f864d16169df083342be6e44a5bad03">tileGroupCcAlfCbEnabled</a> || slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a67196f9b735e90d7baded699a646116b">tileGroupCcAlfCrEnabled</a> ))</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> apsId = 0; apsId &lt; <a class="code" href="namespacevvenc.html#a5060b69f3d0a778e6695e17871369f6a">ALF_CTB_MAX_NUM_APS</a>; apsId++ )</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <a class="code" href="classvvenc_1_1ParameterSetMap.html">ParameterSetMap&lt;APS&gt;</a>&amp; apsMap = pic.<a class="code" href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">picApsMap</a>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> apsMapIdx          = ( apsId &lt;&lt; <a class="code" href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">NUM_APS_TYPE_LEN</a> ) + <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da0c974d8373def41d676849ac99a9891a">ALF_APS</a>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <a class="code" href="structvvenc_1_1APS.html">APS</a>* aps                     = apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">getPS</a>( apsMapIdx );</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordtype">bool</span> writeAps                = aps &amp;&amp; apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ae6f836c3eb674938789363268f920a4c">getChangedFlag</a>( apsMapIdx );</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordflow">if</span> ( !aps &amp;&amp; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aab413be1475a125aac0f29686ec5b10f">alfAps</a>[ apsId ] &amp;&amp; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aab413be1475a125aac0f29686ec5b10f">alfAps</a>[ apsId ])</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        aps   = apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a01d7c66f790821738dd9333b2721d320">allocatePS</a>( apsMapIdx );</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        *aps  = *slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#aab413be1475a125aac0f29686ec5b10f">alfAps</a>[ apsId ]; <span class="comment">// copy aps from slice header</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        writeAps = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      }</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5f864d16169df083342be6e44a5bad03">tileGroupCcAlfCbEnabled</a> &amp;&amp; !aps &amp;&amp; apsId == slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a1054939d2c73762f8b2e4d1d905cf52c">tileGroupCcAlfCbApsId</a>)</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        writeAps = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        aps = apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">getPS</a>((slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a1054939d2c73762f8b2e4d1d905cf52c">tileGroupCcAlfCbApsId</a> &lt;&lt; <a class="code" href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">NUM_APS_TYPE_LEN</a>) + <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da0c974d8373def41d676849ac99a9891a">ALF_APS</a>);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a67196f9b735e90d7baded699a646116b">tileGroupCcAlfCrEnabled</a> &amp;&amp; !aps &amp;&amp; apsId == slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#afba20bc078f12be85f54ef89a77e4589">tileGroupCcAlfCrApsId</a>)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        writeAps = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        aps = apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">getPS</a>((slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#afba20bc078f12be85f54ef89a77e4589">tileGroupCcAlfCrApsId</a> &lt;&lt; <a class="code" href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">NUM_APS_TYPE_LEN</a>) + <a class="code" href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da0c974d8373def41d676849ac99a9891a">ALF_APS</a>);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      }</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordflow">if</span> ( writeAps )</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        aps-&gt;<a class="code" href="structvvenc_1_1APS.html#a87b6c3f79cd33fccd400dcb6b191b303">chromaPresent</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#af671e643fcbb19af8b0cf8aa94657716">chromaFormatIdc</a> != <a class="code" href="TypeDef_8h.html#a1644a589f6466e6ce533230a841fc96a">CHROMA_400</a>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        aps-&gt;<a class="code" href="structvvenc_1_1APS.html#a689318902eb8611be25e962daf89f325">temporalId</a> = slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        actualTotalBits += <a class="code" href="classvvenc_1_1EncGOP.html#a652678a52ae3647bd679e002b7179f8c">xWriteAPS</a>( accessUnit, aps, hlsWriter, VVENC_NAL_UNIT_PREFIX_APS );</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        apsMap.<a class="code" href="classvvenc_1_1ParameterSetMap.html#a735725df5a966011b903b459f7e8951e">clearChangedFlag</a>( apsMapIdx );</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    }</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keywordflow">return</span> actualTotalBits;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;}</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a3eb09fad4d313cc915104d8ac6a05a13"> 1465</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvvenc_1_1EncGOP.html#a3eb09fad4d313cc915104d8ac6a05a13">EncGOP::xWritePictureSlices</a>( <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a>&amp; accessUnit, <a class="code" href="classvvenc_1_1HLSWriter.html">HLSWriter</a>&amp; hlsWriter )</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;{</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice        = pic.<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ];</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> numSlices = (int)( pic.<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>.size() );</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordtype">unsigned</span>  numBytes  = 0;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> sliceIdx = 0; sliceIdx &lt; numSlices; sliceIdx++ )</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    slice = pic.<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ sliceIdx ];</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">if</span> ( sliceIdx &gt; 0 &amp;&amp; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a> != VVENC_I_SLICE )</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ad96a96a40a1073f810bd40ffead69f4f">checkColRefIdx</a>( sliceIdx, &amp;pic );</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160; </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="comment">// start slice NALUnit</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a>, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> );</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a9f39f0e805401bf13c33d75a0300415b">setBitstream</a>( &amp;nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a> );</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="comment">// slice header and data</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordtype">int</span> bitsBeforeWriting = hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#ad4af60bebe68f1719a21627711539892">getNumberOfWrittenBits</a>();</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#aff0c5f32ce6e2572e6165372cf53d65d">codeSliceHeader</a>( slice );</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    pic.<a class="code" href="structvvenc_1_1Picture.html#a8c45147b058d76b8f04cd33cbc7a78bd">actualHeadBits</a> += ( hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#ad4af60bebe68f1719a21627711539892">getNumberOfWrittenBits</a>() - bitsBeforeWriting );</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a3dd1c7af5eb678d128efeda8be282bc8">codeTilesWPPEntryPoint</a>( slice );</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ab0c8b82bde894dcef8a3a6c05fa13836">xAttachSliceDataToNalUnit</a>( nalu, &amp;pic.<a class="code" href="structvvenc_1_1Picture.html#a38a469274bd257d83da0bfa43d8e0fb7">sliceDataStreams</a>[ sliceIdx ] );</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    accessUnit.push_back( <span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>( nalu ) );</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    numBytes += unsigned( accessUnit.back()-&gt;m_nalUnitData.str().size() );</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a7580390609bd5432ce32b0f5c7074501">xCabacZeroWordPadding</a>( pic, slice, pic.<a class="code" href="structvvenc_1_1Picture.html#a4414d04ace3eec029ac7338f7fb10398">sliceDataNumBins</a>, numBytes, accessUnit.back()-&gt;m_nalUnitData );</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">return</span> numBytes * 8;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;}</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a029228596d8e2976767454d75cf1cf65"> 1500</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a029228596d8e2976767454d75cf1cf65">EncGOP::xWriteLeadingSEIs</a>( <span class="keyword">const</span> <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a>&amp; accessUnit )</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;{</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keyword">const</span> <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice = pic.<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ];</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <a class="code" href="namespacevvenc.html#a9e4da6110e21587478e656e4aaec9d46">SEIMessages</a> leadingSeiMessages;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="keywordtype">bool</span> bpPresentInAU = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">if</span>((<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_bufferingPeriodSEIEnabled) &amp;&amp; (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae712c51e5029cc6e18d4272f9df547cf">isIRAP</a>() || slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a> == VVENC_NAL_UNIT_CODED_SLICE_GDR) &amp;&amp;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ac3e8dc71f2ac043cc9142e1b1205491c">nuhLayerId</a>==slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ec4b1bd7507e973ed0d2f4ebd70d8c6">vps</a>-&gt;<a class="code" href="structvvenc_1_1VPS.html#a947ca21b9a6514246c4e86c75a297b3c">layerId</a>[0] &amp;&amp; (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#a169a9498fe5395edd6f0a18b65945864">hrdParametersPresent</a>))</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <a class="code" href="classvvenc_1_1SEIBufferingPeriod.html">SEIBufferingPeriod</a> *bufferingPeriodSEI = <span class="keyword">new</span> <a class="code" href="classvvenc_1_1SEIBufferingPeriod.html">SEIBufferingPeriod</a>();</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="keywordtype">bool</span> noLeadingPictures = ( (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a>!= VVENC_NAL_UNIT_CODED_SLICE_IDR_W_RADL) &amp;&amp; (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a>!= VVENC_NAL_UNIT_CODED_SLICE_CRA) );</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ab57f8e24834295cd57389bc9e1784aeb">m_seiEncoder</a>.<a class="code" href="classvvenc_1_1SEIEncoder.html#a0f902a95ac2e83375a26bc55ad819503">initBufferingPeriodSEI</a>(*bufferingPeriodSEI, noLeadingPictures);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ae06118c0343b4e4ec319bdc2461e5a8d">m_pcEncHRD</a>-&gt;<a class="code" href="structvvenc_1_1HRD.html#a723af0ec7f473a1f697a71395006abe3">bufferingPeriodSEI</a> = *bufferingPeriodSEI; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ae06118c0343b4e4ec319bdc2461e5a8d">m_pcEncHRD</a>-&gt;<a class="code" href="structvvenc_1_1HRD.html#ab36f921b1e0ff0a5e7adebc85b718ac9">bufferingPeriodInitialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    leadingSeiMessages.push_back(bufferingPeriodSEI);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    bpPresentInAU = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="comment">//  if (m_pcEncCfg-&gt;m_dependentRAPIndicationSEIEnabled &amp;&amp; slice-&gt;isDRAP )</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="comment">//    SEIDependentRAPIndication *dependentRAPIndicationSEI = new SEIDependentRAPIndication();</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="comment">//    m_seiEncoder.initDrapSEI( dependentRAPIndicationSEI );</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;<span class="comment">//    leadingSeiMessages.push_back(dependentRAPIndicationSEI);</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_pictureTimingSEIEnabled &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_bufferingPeriodSEIEnabled )</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <a class="code" href="namespacevvenc.html#a9e4da6110e21587478e656e4aaec9d46">SEIMessages</a> nestedSeiMessages;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <a class="code" href="namespacevvenc.html#a9e4da6110e21587478e656e4aaec9d46">SEIMessages</a> duInfoSeiMessages;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    uint32_t numDU = 1;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ab57f8e24834295cd57389bc9e1784aeb">m_seiEncoder</a>.<a class="code" href="classvvenc_1_1SEIEncoder.html#a690fe64ba2edcb5da607a8352a509c75">initPictureTimingSEI</a>( leadingSeiMessages, nestedSeiMessages, duInfoSeiMessages, slice, numDU, bpPresentInAU );</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_preferredTransferCharacteristics )</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <a class="code" href="classvvenc_1_1SEIAlternativeTransferCharacteristics.html">SEIAlternativeTransferCharacteristics</a> *seiAlternativeTransferCharacteristics = <span class="keyword">new</span> <a class="code" href="classvvenc_1_1SEIAlternativeTransferCharacteristics.html">SEIAlternativeTransferCharacteristics</a>;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ab57f8e24834295cd57389bc9e1784aeb">m_seiEncoder</a>.<a class="code" href="classvvenc_1_1SEIEncoder.html#a919f0dd1c03522dc87320364c8d73890">initSEIAlternativeTransferCharacteristics</a>( seiAlternativeTransferCharacteristics );</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    leadingSeiMessages.push_back(seiAlternativeTransferCharacteristics);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">// mastering display colour volume</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">if</span>( (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_masteringDisplay[0] != 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_masteringDisplay[1] != 0) ||</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_masteringDisplay[8] )</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="classvvenc_1_1SEIMasteringDisplayColourVolume.html">SEIMasteringDisplayColourVolume</a> *sei = <span class="keyword">new</span> <a class="code" href="classvvenc_1_1SEIMasteringDisplayColourVolume.html">SEIMasteringDisplayColourVolume</a>;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ab57f8e24834295cd57389bc9e1784aeb">m_seiEncoder</a>.<a class="code" href="classvvenc_1_1SEIEncoder.html#a6024640754202cdb3489a3c9476a7cee">initSEIMasteringDisplayColourVolume</a>(sei);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    leadingSeiMessages.push_back(sei);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="comment">// content light level</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_contentLightLevel[0] != 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_contentLightLevel[1] != 0 )</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="classvvenc_1_1SEIContentLightLevelInfo.html">SEIContentLightLevelInfo</a> *seiCLL = <span class="keyword">new</span> <a class="code" href="classvvenc_1_1SEIContentLightLevelInfo.html">SEIContentLightLevelInfo</a>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ab57f8e24834295cd57389bc9e1784aeb">m_seiEncoder</a>.<a class="code" href="classvvenc_1_1SEIEncoder.html#ac7bc967d60af1a8851a217e09642129d">initSEIContentLightLevel</a>(seiCLL);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    leadingSeiMessages.push_back(seiCLL);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160; </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="comment">// Note: using accessUnit.end() works only as long as this function is called after slice coding and before EOS/EOB NAL units</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  AccessUnitList::iterator pos = accessUnit.end();</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a131c8a3a388b8389d3433e1b60300d61">xWriteSEISeparately</a>( VVENC_NAL_UNIT_PREFIX_SEI, leadingSeiMessages, accessUnit, pos, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a>, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a> );</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <a class="code" href="namespacevvenc.html#aed50bbecd2bbdbdfe0981da4f0a61d69">deleteSEIs</a>( leadingSeiMessages );</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;}</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a42cf817d9ab798a86ac299fab588abbe"> 1567</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a42cf817d9ab798a86ac299fab588abbe">EncGOP::xWriteTrailingSEIs</a>( <span class="keyword">const</span> <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a>&amp; accessUnit, std::string&amp; digestStr )</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;{</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keyword">const</span> <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice = pic.<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ];</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <a class="code" href="namespacevvenc.html#a9e4da6110e21587478e656e4aaec9d46">SEIMessages</a> trailingSeiMessages;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_decodedPictureHashSEIType != VVENC_HASHTYPE_NONE )</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="classvvenc_1_1SEIDecodedPictureHash.html">SEIDecodedPictureHash</a> *decodedPictureHashSei = <span class="keyword">new</span> <a class="code" href="classvvenc_1_1SEIDecodedPictureHash.html">SEIDecodedPictureHash</a>();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keyword">const</span> <a class="code" href="structvvenc_1_1UnitBuf.html">CPelUnitBuf</a> recoBuf = pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#ad77d144af5cd4d736ee529e3e74a7367">getRecoBuf</a>();</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ab57f8e24834295cd57389bc9e1784aeb">m_seiEncoder</a>.<a class="code" href="classvvenc_1_1SEIEncoder.html#aeb24fbabb5325ee9456ec5351cd4e523">initDecodedPictureHashSEI</a>( *decodedPictureHashSei, recoBuf, digestStr, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#a698a46d463e05520421479a1ac78eb05">bitDepths</a> );</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    trailingSeiMessages.push_back( decodedPictureHashSei );</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="comment">// Note: using accessUnit.end() works only as long as this function is called after slice coding and before EOS/EOB NAL units</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  AccessUnitList::iterator pos = accessUnit.end();</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a131c8a3a388b8389d3433e1b60300d61">xWriteSEISeparately</a>( VVENC_NAL_UNIT_SUFFIX_SEI, trailingSeiMessages, accessUnit, pos, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a>, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a> );</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <a class="code" href="namespacevvenc.html#aed50bbecd2bbdbdfe0981da4f0a61d69">deleteSEIs</a>( trailingSeiMessages );</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160; </div>
<div class="line"><a name="l01588"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a9b636fcfc3828e188717122422290b20"> 1588</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvvenc_1_1EncGOP.html#a9b636fcfc3828e188717122422290b20">EncGOP::xWriteVPS</a> ( <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a> &amp;accessUnit, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1VPS.html">VPS</a> *vps, <a class="code" href="classvvenc_1_1HLSWriter.html">HLSWriter</a>&amp; hlsWriter )</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;{</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu(VVENC_NAL_UNIT_VPS);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a9f39f0e805401bf13c33d75a0300415b">setBitstream</a>( &amp;nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a> );</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a26c6a9995934a5dae336291bdb17d3d6">codeVPS</a>( vps );</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  accessUnit.push_back(<span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>(nalu));</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(accessUnit.back()-&gt;m_nalUnitData.str().size()) * 8;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;}</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#ac70e95d20214f12812dae42fb3be7da2"> 1598</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvvenc_1_1EncGOP.html#ac70e95d20214f12812dae42fb3be7da2">EncGOP::xWriteDCI</a> ( <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a> &amp;accessUnit, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1DCI.html">DCI</a> *dci, <a class="code" href="classvvenc_1_1HLSWriter.html">HLSWriter</a>&amp; hlsWriter )</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;{</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="keywordflow">if</span> (dci-&gt;<a class="code" href="structvvenc_1_1DCI.html#a6c944a302eb0bd6a4c2c974e0e6ab0ea">dciId</a> ==0)</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu(VVENC_NAL_UNIT_DCI);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a9f39f0e805401bf13c33d75a0300415b">setBitstream</a>( &amp;nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a> );</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a07d86d218dd9999a5517ad8f48474b1c">codeDCI</a>( dci );</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  accessUnit.push_back(<span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>(nalu));</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(accessUnit.back()-&gt;m_nalUnitData.str().size()) * 8;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;}</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160; </div>
<div class="line"><a name="l01613"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a0e353762d486d76a4e658716b9c94275"> 1613</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvvenc_1_1EncGOP.html#a0e353762d486d76a4e658716b9c94275">EncGOP::xWriteSPS</a> ( <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a> &amp;accessUnit, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a> *sps, <a class="code" href="classvvenc_1_1HLSWriter.html">HLSWriter</a>&amp; hlsWriter )</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;{</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu(VVENC_NAL_UNIT_SPS);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a9f39f0e805401bf13c33d75a0300415b">setBitstream</a>( &amp;nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a> );</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a953c92dc83b4f607318ac81c83190541">codeSPS</a>( sps );</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  accessUnit.push_back(<span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>(nalu));</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(accessUnit.back()-&gt;m_nalUnitData.str().size()) * 8;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;}</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160; </div>
<div class="line"><a name="l01623"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#adb7083540b1f48d362a01ac6026e48e0"> 1623</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvvenc_1_1EncGOP.html#adb7083540b1f48d362a01ac6026e48e0">EncGOP::xWritePPS</a> ( <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a> &amp;accessUnit, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1PPS.html">PPS</a> *pps, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a> *sps, <a class="code" href="classvvenc_1_1HLSWriter.html">HLSWriter</a>&amp; hlsWriter )</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;{</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu(VVENC_NAL_UNIT_PPS);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a9f39f0e805401bf13c33d75a0300415b">setBitstream</a>( &amp;nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a> );</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a9d7e888358ff7d5d21ff0fc8aeb20a50">codePPS</a>( pps, sps );</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  accessUnit.push_back(<span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>(nalu));</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(accessUnit.back()-&gt;m_nalUnitData.str().size()) * 8;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;}</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a652678a52ae3647bd679e002b7179f8c"> 1633</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvvenc_1_1EncGOP.html#a652678a52ae3647bd679e002b7179f8c">EncGOP::xWriteAPS</a>( <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a> &amp;accessUnit, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1APS.html">APS</a> *aps, <a class="code" href="classvvenc_1_1HLSWriter.html">HLSWriter</a>&amp; hlsWriter, vvencNalUnitType eNalUnitType )</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;{</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu(eNalUnitType, aps-&gt;<a class="code" href="structvvenc_1_1APS.html#a689318902eb8611be25e962daf89f325">temporalId</a>);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a9f39f0e805401bf13c33d75a0300415b">setBitstream</a>(&amp;nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a>);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a3533e7cd37c114fde8393c386f11937b">codeAPS</a>(aps);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  accessUnit.push_back(<span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>(nalu));</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(accessUnit.back()-&gt;m_nalUnitData.str().size()) * 8;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#adbfcdec807e04ef8276eda273ea7e817"> 1643</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#adbfcdec807e04ef8276eda273ea7e817">EncGOP::xWriteAccessUnitDelimiter</a> ( <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a> &amp;accessUnit, <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice, <span class="keywordtype">bool</span> IrapOrGdr, <a class="code" href="classvvenc_1_1HLSWriter.html">HLSWriter</a>&amp; hlsWriter )</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;{</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu(VVENC_NAL_UNIT_ACCESS_UNIT_DELIMITER, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a>);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#a9f39f0e805401bf13c33d75a0300415b">setBitstream</a>(&amp;nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a>);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  hlsWriter.<a class="code" href="classvvenc_1_1HLSWriter.html#ad63283f95cb143598db9e689d77261cd">codeAUD</a>( IrapOrGdr, 2-slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">sliceType</a> );</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  accessUnit.push_front(<span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>(nalu));</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;}</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#ae96774f4a0682436f3e626bd8512a379"> 1652</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#ae96774f4a0682436f3e626bd8512a379">EncGOP::xWriteSEI</a> (vvencNalUnitType naluType, <a class="code" href="namespacevvenc.html#a9e4da6110e21587478e656e4aaec9d46">SEIMessages</a>&amp; seiMessages, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a> &amp;accessUnit, AccessUnitList::iterator &amp;auPos, <span class="keywordtype">int</span> temporalId, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a> *sps)</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;{</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">if</span> (seiMessages.empty())</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  {</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  }</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu(naluType, temporalId);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#ad2c0efc494b9c34824be2204df8ada97">m_seiWriter</a>.<a class="code" href="classvvenc_1_1SEIWriter.html#a760b115ca76db470751830ebacb7a4b5">writeSEImessages</a>(nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a>, seiMessages, *<a class="code" href="classvvenc_1_1EncGOP.html#ae06118c0343b4e4ec319bdc2461e5a8d">m_pcEncHRD</a>, <span class="keyword">false</span>, temporalId);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  auPos = accessUnit.insert(auPos, <span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>(nalu));</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  auPos++;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;}</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160; </div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a131c8a3a388b8389d3433e1b60300d61"> 1665</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a131c8a3a388b8389d3433e1b60300d61">EncGOP::xWriteSEISeparately</a> (vvencNalUnitType naluType, <a class="code" href="namespacevvenc.html#a9e4da6110e21587478e656e4aaec9d46">SEIMessages</a>&amp; seiMessages, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a> &amp;accessUnit, AccessUnitList::iterator &amp;auPos, <span class="keywordtype">int</span> temporalId, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a> *sps)</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;{</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="keywordflow">if</span> (seiMessages.empty())</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  }</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <span class="keywordflow">for</span> (SEIMessages::const_iterator sei = seiMessages.begin(); sei!=seiMessages.end(); sei++ )</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <a class="code" href="namespacevvenc.html#a9e4da6110e21587478e656e4aaec9d46">SEIMessages</a> tmpMessages;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    tmpMessages.push_back(*sei);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a> nalu(naluType, temporalId);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#ad2c0efc494b9c34824be2204df8ada97">m_seiWriter</a>.<a class="code" href="classvvenc_1_1SEIWriter.html#a760b115ca76db470751830ebacb7a4b5">writeSEImessages</a>(nalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a>, tmpMessages, *<a class="code" href="classvvenc_1_1EncGOP.html#ae06118c0343b4e4ec319bdc2461e5a8d">m_pcEncHRD</a>, <span class="keyword">false</span>, temporalId);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    auPos = accessUnit.insert(auPos, <span class="keyword">new</span> <a class="code" href="structvvenc_1_1NALUnitEBSP.html">NALUnitEBSP</a>(nalu));</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    auPos++;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#ab0c8b82bde894dcef8a3a6c05fa13836"> 1688</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#ab0c8b82bde894dcef8a3a6c05fa13836">EncGOP::xAttachSliceDataToNalUnit</a>( <a class="code" href="structvvenc_1_1OutputNALUnit.html">OutputNALUnit</a>&amp; rNalu, <span class="keyword">const</span> <a class="code" href="classvvenc_1_1OutputBitstream.html">OutputBitstream</a>* codedSliceData )</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;{</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="comment">// Byte-align</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  rNalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a>.<a class="code" href="classvvenc_1_1OutputBitstream.html#ac48ccc623f9ab98eafa8ddd22fc60cb7">writeByteAlignment</a>();   <span class="comment">// Slice header byte-alignment</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <span class="comment">// Perform bitstream concatenation</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordflow">if</span> (codedSliceData-&gt;<a class="code" href="classvvenc_1_1OutputBitstream.html#a0ad94d9c30bf00771fdfbf0dbf206a29">getNumberOfWrittenBits</a>() &gt; 0)</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    rNalu.<a class="code" href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">m_Bitstream</a>.<a class="code" href="classvvenc_1_1OutputBitstream.html#abcdb5e73911c1b03b02fe890e6487147">addSubstream</a>(codedSliceData);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;}</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a7580390609bd5432ce32b0f5c7074501"> 1701</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a7580390609bd5432ce32b0f5c7074501">EncGOP::xCabacZeroWordPadding</a>( <span class="keyword">const</span> <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <span class="keyword">const</span> <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice, uint32_t binCountsInNalUnits, uint32_t numBytesInVclNalUnits, std::ostringstream &amp;nalUnitData )</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;{</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1PPS.html">PPS</a> &amp;pps                     = *(slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">pps</a>);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a> &amp;sps                     = *(slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keyword">const</span> <a class="code" href="TypeDef_8h.html#a70dfa957a71cae40f75782ea972c130e">ChromaFormat</a> format          = sps.<a class="code" href="structvvenc_1_1SPS.html#af671e643fcbb19af8b0cf8aa94657716">chromaFormatIdc</a>;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> log2subWidthCxsubHeightC = <a class="code" href="namespacevvenc.html#a2a4814950acdf4a610adacb0f7417d8d">getComponentScaleX</a>( <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05">COMP_Cb</a>, format ) + <a class="code" href="namespacevvenc.html#aa6703e40dff9faf6b5655472e130a512">getComponentScaleY</a>( <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05">COMP_Cb</a>, format );</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> minCUSize                = pic.<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a5e9c1ca891ed69b925ad083b0e92c641">pcv</a>-&gt;<a class="code" href="classvvenc_1_1PreCalcValues.html#ac8487865dbc550d35a02eff7f97b4391">minCUSize</a>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> paddedWidth              = ( (pps.<a class="code" href="structvvenc_1_1PPS.html#acbabe433162be7f154b9577ad7c5d369">picWidthInLumaSamples</a>  + minCUSize - 1) / minCUSize) * minCUSize;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> paddedHeight             = ( (pps.<a class="code" href="structvvenc_1_1PPS.html#a629ec9ecf9a6f29222d0e149bf1573c2">picHeightInLumaSamples</a> + minCUSize - 1) / minCUSize) * minCUSize;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> rawBits                  = paddedWidth * paddedHeight * ( sps.<a class="code" href="structvvenc_1_1SPS.html#a698a46d463e05520421479a1ac78eb05">bitDepths</a>[ <a class="code" href="namespacevvenc.html#a19a96edeeb9d37072c4ce9f862d19ba8a9eef8706f96e8b3511a2450e90075f59">CH_L</a> ] + 2 * ( sps.<a class="code" href="structvvenc_1_1SPS.html#a698a46d463e05520421479a1ac78eb05">bitDepths</a>[ <a class="code" href="namespacevvenc.html#a19a96edeeb9d37072c4ce9f862d19ba8a6b0616d0bcb1e796289f0f100bc9131a">CH_C</a> ] &gt;&gt; log2subWidthCxsubHeightC ) );</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keyword">const</span> uint32_t threshold           = ( 32/3 ) * numBytesInVclNalUnits + ( rawBits/32 );</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <span class="keywordflow">if</span> ( binCountsInNalUnits &gt;= threshold )</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="comment">// need to add additional cabac zero words (each one accounts for 3 bytes (=00 00 03)) to increase numBytesInVclNalUnits</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keyword">const</span> uint32_t targetNumBytesInVclNalUnits = ( ( binCountsInNalUnits - ( rawBits/32 ) ) * 3 + 31 ) / 32;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordflow">if</span> ( targetNumBytesInVclNalUnits&gt;numBytesInVclNalUnits ) <span class="comment">// It should be!</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      <span class="keyword">const</span> uint32_t numberOfAdditionalBytesNeeded    = targetNumBytesInVclNalUnits - numBytesInVclNalUnits;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      <span class="keyword">const</span> uint32_t numberOfAdditionalCabacZeroWords = ( numberOfAdditionalBytesNeeded + 2 ) / 3;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <span class="keyword">const</span> uint32_t numberOfAdditionalCabacZeroBytes = numberOfAdditionalCabacZeroWords * 3;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_cabacZeroWordPaddingEnabled )</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        std::vector&lt;uint8_t&gt; zeroBytesPadding(numberOfAdditionalCabacZeroBytes, uint8_t(0));</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="keywordflow">for</span>( uint32_t i = 0; i &lt; numberOfAdditionalCabacZeroWords; i++ )</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;          zeroBytesPadding[ i * 3 + 2 ] = 3;  <span class="comment">// 00 00 03</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        }</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        nalUnitData.write( <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(&amp;(zeroBytesPadding[ 0 ])), numberOfAdditionalCabacZeroBytes );</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, <span class="stringliteral">&quot;Adding %d bytes of padding\n&quot;</span>, numberOfAdditionalCabacZeroWords * 3 );</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      }</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, <span class="stringliteral">&quot;Standard would normally require adding %d bytes of padding\n&quot;</span>, numberOfAdditionalCabacZeroWords * 3 );</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  }</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;}</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a6f5528f0409fc16b374f4ba2980b48aa"> 1740</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a6f5528f0409fc16b374f4ba2980b48aa">EncGOP::picInitRateControl</a>( <span class="keywordtype">int</span> gopId, <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice, <a class="code" href="classvvenc_1_1EncPicture.html">EncPicture</a>* picEncoder )</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;{</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCTargetBitrate == 0 ) <span class="comment">// TODO: does this work with multiple slices and slice-segments?</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160; </div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> frameLevel = (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>() ? 0 : slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> + 1);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="classvvenc_1_1EncRCPic.html">EncRCPic</a>* encRCPic   = pic.<a class="code" href="structvvenc_1_1Picture.html#afd36d4c3cfe408edbe75579fd69bafd0">encRCPic</a>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="keywordtype">double</span> lambda = (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCNumPasses != 2 ? encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#aac8f73a2e299ae450db271221a4ea0d8">finalLambda</a> : <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a2b5fcef61b77355d86a065adc308528e">encRCGOP</a>-&gt;<a class="code" href="classvvenc_1_1EncRCGOP.html#a3a2e8b59f1816785bf9179457a42032a">maxEstLambda</a>);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keywordtype">int</span>   sliceQP = (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCNumPasses != 2 ? <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCInitialQP : <a class="code" href="namespacevvenc.html#aa2aaf0a0822296d132b363aeaf9df0ca">MAX_QP</a>);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160; </div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCNumPasses != 2) &amp;&amp; ((slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a> == 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCInitialQP &gt; 0) || (frameLevel == 0 &amp;&amp; <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCForceIntraQP))) <span class="comment">// QP is specified</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordtype">int</span>    NumberBFrames = ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_GOPSize - 1 );</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordtype">double</span> dLambda_scale = 1.0 - Clip3( 0.0, 0.5, 0.05 * (<span class="keywordtype">double</span>)NumberBFrames );</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordtype">double</span> dQPFactor = 0.57 * dLambda_scale;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordtype">int</span>    SHIFT_QP = 12;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordtype">int</span> bitdepth_luma_qp_scale = 6 * ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#a698a46d463e05520421479a1ac78eb05">bitDepths</a>[<a class="code" href="namespacevvenc.html#a19a96edeeb9d37072c4ce9f862d19ba8a9eef8706f96e8b3511a2450e90075f59">CH_L</a>] - 8</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      - <a class="code" href="TypeDef_8h.html#a29d5c9e713ec90b037a5aaa3865ccfa9">DISTORTION_PRECISION_ADJUSTMENT</a>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>-&gt;<a class="code" href="structvvenc_1_1SPS.html#a698a46d463e05520421479a1ac78eb05">bitDepths</a>[<a class="code" href="namespacevvenc.html#a19a96edeeb9d37072c4ce9f862d19ba8a9eef8706f96e8b3511a2450e90075f59">CH_L</a>] ) );</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordtype">double</span> qp_temp = (double)sliceQP + bitdepth_luma_qp_scale - SHIFT_QP;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    lambda = dQPFactor * pow( 2.0, qp_temp / 3.0 );</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frameLevel &lt;= 7)</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  {</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCNumPasses == 2)</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <a class="code" href="classvvenc_1_1EncRCSeq.html">EncRCSeq</a>* encRCSeq = <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ac792156088c1bfd18ac85b5835b95540">encRCSeq</a>;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      std::list&lt;TRCPassStats&gt;::iterator it;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      <span class="keywordflow">for</span> (it = encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#aebf7716c3a56bb979162b37c9134214c">firstPassData</a>.begin(); it != encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#aebf7716c3a56bb979162b37c9134214c">firstPassData</a>.end(); it++)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="keywordflow">if</span> ((it-&gt;poc == slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>) &amp;&amp; (encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a4973b73ee65d239c9bec2f8bf78846a3">targetBits</a> &gt; 0) &amp;&amp; (it-&gt;numBits &gt; 0))</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;          <span class="keywordtype">double</span> d = (double) encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a4973b73ee65d239c9bec2f8bf78846a3">targetBits</a>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">int</span> firstPassSliceQP = it-&gt;qp;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">int</span> log2HeightMinus7 = int (0.5 + log ((<span class="keywordtype">double</span>) std::max (128, <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_SourceHeight)) / log (2.0)) - 7;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;          uint16_t visAct = it-&gt;visActY;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;          <span class="keywordflow">if</span> (it-&gt;isNewScene) <span class="comment">// spatiotemporal visual activity is transient at camera/scene change, find next steady-state activity</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;          {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            std::list&lt;TRCPassStats&gt;::iterator itNext = it;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            itNext++;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            <span class="keywordflow">while</span> (itNext != encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#aebf7716c3a56bb979162b37c9134214c">firstPassData</a>.end() &amp;&amp; !itNext-&gt;isIntra)</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;              <span class="keywordflow">if</span> (itNext-&gt;poc == it-&gt;poc + 2)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;              {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                visAct = itNext-&gt;visActY;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;              }</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;              itNext++;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;          }</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;          <span class="keywordflow">if</span> (it-&gt;refreshParameters) encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#ad4b745de663253d20459b3744de3ecd1">qpCorrection</a>[frameLevel] = encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a65f367eacfb22811464a0a5379ffc72e">actualBitCnt</a>[frameLevel] = encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a0537991a88d47e85ab1a38c1a8c828f9">targetBitCnt</a>[frameLevel] = 0;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;          <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a> (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a> &gt;= 7, <span class="stringliteral">&quot;analyzed RC frame must have TLayer &lt; 7&quot;</span>);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;          <span class="comment">// try to hit target rate more aggressively in last coded frames, lambda/QP clipping below will ensure smooth value change</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;          <span class="keywordflow">if</span> (it-&gt;poc &gt;= <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a9f42bf2ad9de6fce9ed88e35a325d442">flushPOC</a>)</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;          {</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            d = std::max (1.0, d + (encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a250403b84afe6f3ee74581c633dd5132">estimatedBitUsage</a> - encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a593aab4c0ea65f4f654fa7f6031fb0b7">bitsUsed</a>) * 0.5 * it-&gt;frameInGopRatio);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a4973b73ee65d239c9bec2f8bf78846a3">targetBits</a> = int (d + 0.5); <span class="comment">// update the member to be on the safe side</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;          }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;          d /= (double) it-&gt;numBits;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;          d = firstPassSliceQP - (105.0 / 128.0) * sqrt ((<span class="keywordtype">double</span>) std::max (1, firstPassSliceQP)) * log (d) / log (2.0);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;          sliceQP = int (0.5 + d + 0.125 * log2HeightMinus7 * std::max (0.0, 24.0 + 0.001<span class="comment">/*log2HeightMinus7*/</span> * (log ((<span class="keywordtype">double</span>) visAct) / log (2.0) - 0.5 * encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#ac77b590e38a8e565a52609ab911451d1">bitDepth</a> - 3.0) - d) + encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#ad4b745de663253d20459b3744de3ecd1">qpCorrection</a>[frameLevel]);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;          encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#ac036fd34f712c951c1c05593d44bde3e">clipTargetQP</a> (<a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a4f6ef322ba068bd051222b3079670b3b">getPicList</a>(), sliceQP);  <span class="comment">// temp. level based</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;          lambda  = it-&gt;lambda * pow (2.0, <span class="keywordtype">double</span> (sliceQP - firstPassSliceQP) / 3.0);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;          lambda  = Clip3 (<a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a2b5fcef61b77355d86a065adc308528e">encRCGOP</a>-&gt;<a class="code" href="classvvenc_1_1EncRCGOP.html#a9fc04d1dbe9e90211adae22edf1aa4ea">minEstLambda</a>, <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a2b5fcef61b77355d86a065adc308528e">encRCGOP</a>-&gt;<a class="code" href="classvvenc_1_1EncRCGOP.html#a3a2e8b59f1816785bf9179457a42032a">maxEstLambda</a>, lambda);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;          <span class="keywordflow">if</span> (it-&gt;isIntra) <span class="comment">// update history, for parameter clipping in subsequent key frames</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;          {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a50bbd78bc67e4ea27b0e424823b93e84">lastIntraLambda</a> = lambda;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            encRCSeq-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#aad35fc85fff0a753627ea3ff5192834c">lastIntraQP</a>     = sliceQP;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;          }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        }</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      }</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">else</span> <span class="comment">// single-pass rate control</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    {</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      <span class="keywordflow">if</span> (frameLevel == 0)</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a6dca3fb01fb0bdc3024a26d2c069b89e">calCostSliceI</a>( &amp;pic );</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_IntraPeriod != 1) <span class="comment">// don&#39;t refine allocated bits for All-Intra case</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;          <span class="keywordtype">int</span> bits = <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ac792156088c1bfd18ac85b5835b95540">encRCSeq</a>-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a0186bee82f4d469206cfcb18da843a46">totalFrames</a> &gt; 0 ? <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ac792156088c1bfd18ac85b5835b95540">encRCSeq</a>-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a64065a84a8249e4e0b7b78c07eccdee6">getLeftAverageBits</a>() : <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ac792156088c1bfd18ac85b5835b95540">encRCSeq</a>-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a258d3cda3d572c3f9f8d074846658a78">averageBits</a>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;          bits = encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a62da06f3dacb4dfdb0b1bfe66132d3d5">getRefineBitsForIntra</a>( bits );</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;          <span class="keywordflow">if</span>( bits &lt; 200 )</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;          {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            bits = 200;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;          }</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;          encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a4973b73ee65d239c9bec2f8bf78846a3">targetBits</a> = bits;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;          encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a7192b8cd46d8604a40846c7a736b84fe">bitsLeft</a> = bits;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        }</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      } <span class="comment">// (frameLevel == 0)</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160; </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      std::list&lt;EncRCPic*&gt; listPreviousPicture = <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a4f6ef322ba068bd051222b3079670b3b">getPicList</a>();</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      lambda = encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a00a61f37d924393793f0336daf330dfd">estimatePicLambda</a>( listPreviousPicture, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae712c51e5029cc6e18d4272f9df547cf">isIRAP</a>() );</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      sliceQP = encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#ad6f561fb8a4aed1c50d7b7c03e716078">estimatePicQP</a>( lambda, listPreviousPicture );</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      sliceQP = Clip3 (0, <a class="code" href="namespacevvenc.html#aa2aaf0a0822296d132b363aeaf9df0ca">MAX_QP</a>, sliceQP);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    } <span class="comment">// 1-pass rate control</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  }</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160; </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  picEncoder-&gt;<a class="code" href="classvvenc_1_1EncPicture.html#aec615d2cc456faad0cc60b50f1e5b862">getEncSlice</a>()-&gt;<a class="code" href="classvvenc_1_1EncSlice.html#a862c99f1fbddb1e567c2d42d10933895">resetQP</a> (&amp;pic, sliceQP, lambda);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#aac8f73a2e299ae450db271221a4ea0d8">finalLambda</a> = lambda;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;}</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160; </div>
<div class="line"><a name="l01850"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a5867829edd40f1f59a6ad740bbd6b317"> 1850</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a5867829edd40f1f59a6ad740bbd6b317">EncGOP::xUpdateAfterPicRC</a>( <span class="keyword">const</span> <a class="code" href="structvvenc_1_1Picture.html">Picture</a>* pic )</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;{</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <a class="code" href="classvvenc_1_1EncRCPic.html">EncRCPic</a>* encRCPic = pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#afd36d4c3cfe408edbe75579fd69bafd0">encRCPic</a>;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCTargetBitrate == 0 )</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  }</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ac792156088c1bfd18ac85b5835b95540">encRCSeq</a>-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a306c1d7f4f6833176d12c84d77b9b412">twoPass</a>)</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a7ed72c08dc73f91e000b5d36821cc49f">calPicMSE</a>();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a20b50beeb0bd45f40478f991667d91e8">updateAfterPicture</a>( pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a8c45147b058d76b8f04cd33cbc7a78bd">actualHeadBits</a>, pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#af2ac98bd694308e21ccdcb78b4144a28">actualTotalBits</a>, pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ]-&gt;sliceQp, pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ]-&gt;lambdas[ <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a> ], pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ]-&gt;isIRAP() );</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#a087473d0c392a106ef9922f5b866428e">addToPictureList</a>( <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a4f6ef322ba068bd051222b3079670b3b">getPicList</a>() );</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ac792156088c1bfd18ac85b5835b95540">encRCSeq</a>-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a8574b3b8a8bb59ad2ef9ebad57e47add">updateAfterPic</a>( pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#af2ac98bd694308e21ccdcb78b4144a28">actualTotalBits</a>, encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#ac606af1acdd996fe1ca1412f488ce4c6">tmpTargetBits</a> );</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ac792156088c1bfd18ac85b5835b95540">encRCSeq</a>-&gt;<a class="code" href="classvvenc_1_1EncRCSeq.html#a306c1d7f4f6833176d12c84d77b9b412">twoPass</a>)</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">if</span> ( !pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[ 0 ]-&gt;isIRAP() )</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a2b5fcef61b77355d86a065adc308528e">encRCGOP</a>-&gt;<a class="code" href="classvvenc_1_1EncRCGOP.html#a1c0b9204320936cee8de0940ee484836">updateAfterPicture</a>( pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#af2ac98bd694308e21ccdcb78b4144a28">actualTotalBits</a> );</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    }</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">else</span>    <span class="comment">// for intra picture, the estimated bits are used to update the current status in the GOP</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a2b5fcef61b77355d86a065adc308528e">encRCGOP</a>-&gt;<a class="code" href="classvvenc_1_1EncRCGOP.html#a1c0b9204320936cee8de0940ee484836">updateAfterPicture</a>( encRCPic-&gt;<a class="code" href="classvvenc_1_1EncRCPic.html#abea87655520aaef3b850c3d61a1f4a31">estimatedBits</a> );</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    }</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  }</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160; </div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;}</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160; </div>
<div class="line"><a name="l01881"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a5e624ac27c4bf95aae6b0736bb8e99ba"> 1881</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a5e624ac27c4bf95aae6b0736bb8e99ba">EncGOP::xCalculateAddPSNR</a>( <span class="keyword">const</span> <a class="code" href="structvvenc_1_1Picture.html">Picture</a>* pic, <a class="code" href="structvvenc_1_1UnitBuf.html">CPelUnitBuf</a> cPicD, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a>&amp; accessUnit, <span class="keywordtype">bool</span> printFrameMSE, <span class="keywordtype">double</span>* PSNR_Y, <span class="keywordtype">bool</span> isEncodeLtRef )</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;{</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1SPS.html">SPS</a>&amp;         sps = *pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">cs</a>-&gt;<a class="code" href="classvvenc_1_1CodingStructure.html#a2d3ec636d347d8ea142e64ca27ceaad4">sps</a>;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="keyword">const</span> <a class="code" href="structvvenc_1_1UnitBuf.html">CPelUnitBuf</a>&amp; org = pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a7b8e59f547b3a21d59f72e2fd97f751c">getOrigBuf</a>();</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordtype">double</span>  dPSNR[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0faad77bdcaef23bd1b468f38e6ac85c521">MAX_NUM_COMP</a>];</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="keywordtype">double</span>  visualActivity = 0.0;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0faad77bdcaef23bd1b468f38e6ac85c521">MAX_NUM_COMP</a>; i++)</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    dPSNR[i] = 0.0;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  }</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160; </div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="comment">//===== calculate PSNR =====</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  <span class="keywordtype">double</span> MSEyuvframe[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0faad77bdcaef23bd1b468f38e6ac85c521">MAX_NUM_COMP</a>] = {0, 0, 0};</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="keyword">const</span> <a class="code" href="TypeDef_8h.html#a70dfa957a71cae40f75782ea972c130e">ChromaFormat</a> formatD = cPicD.<a class="code" href="structvvenc_1_1UnitBuf.html#aa6f3e16df807424717e8e8e307c7b629">chromaFormat</a>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="keyword">const</span> <a class="code" href="TypeDef_8h.html#a70dfa957a71cae40f75782ea972c130e">ChromaFormat</a> format  = sps.<a class="code" href="structvvenc_1_1SPS.html#af671e643fcbb19af8b0cf8aa94657716">chromaFormatIdc</a>;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <span class="keyword">const</span> <a class="code" href="classvvenc_1_1Slice.html">Slice</a>* slice         = pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">slices</a>[0];</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> comp = 0; comp &lt; <a class="code" href="namespacevvenc.html#a9003964e78e9d46fb169c59874f7c4a8">getNumberValidComponents</a>(formatD); comp++)</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0f">ComponentID</a> compID = <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0f">ComponentID</a>(comp);</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keyword">const</span> <a class="code" href="structvvenc_1_1AreaBuf.html">CPelBuf</a>&amp;    p = cPicD.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(compID);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keyword">const</span> <a class="code" href="structvvenc_1_1AreaBuf.html">CPelBuf</a>&amp;    o = org.<a class="code" href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">get</a>(compID);</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>(!( p.<a class="code" href="structvvenc_1_1Size.html#a81ed27f96c08781589ca6ff77043a7b1">width</a>  == o.<a class="code" href="structvvenc_1_1Size.html#a81ed27f96c08781589ca6ff77043a7b1">width</a>), <span class="stringliteral">&quot;Unspecified error&quot;</span>);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>(!( p.<a class="code" href="structvvenc_1_1Size.html#acec3c14453d8e16034230db557345f1e">height</a> == o.<a class="code" href="structvvenc_1_1Size.html#acec3c14453d8e16034230db557345f1e">height</a>), <span class="stringliteral">&quot;Unspecified error&quot;</span>);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160; </div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keyword">const</span> uint32_t   width  = p.<a class="code" href="structvvenc_1_1Size.html#a81ed27f96c08781589ca6ff77043a7b1">width</a>  - (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_aiPad[ 0 ] &gt;&gt; <a class="code" href="namespacevvenc.html#a2a4814950acdf4a610adacb0f7417d8d">getComponentScaleX</a>(compID, format));</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keyword">const</span> uint32_t   height = p.<a class="code" href="structvvenc_1_1Size.html#acec3c14453d8e16034230db557345f1e">height</a> - (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_aiPad[ 1 ] &gt;&gt; <a class="code" href="namespacevvenc.html#aa6703e40dff9faf6b5655472e130a512">getComponentScaleY</a>(compID, format));</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160; </div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="comment">// create new buffers with correct dimensions</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="keyword">const</span> <a class="code" href="structvvenc_1_1AreaBuf.html">CPelBuf</a> recPB(p.<a class="code" href="structvvenc_1_1AreaBuf.html#a2e1dc15633648502db33304d40ba91df">bufAt</a>(0, 0), p.<a class="code" href="structvvenc_1_1AreaBuf.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>, width, height);</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keyword">const</span> <a class="code" href="structvvenc_1_1AreaBuf.html">CPelBuf</a> orgPB(o.<a class="code" href="structvvenc_1_1AreaBuf.html#a2e1dc15633648502db33304d40ba91df">bufAt</a>(0, 0), o.<a class="code" href="structvvenc_1_1AreaBuf.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>, width, height);</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="keyword">const</span> uint32_t    bitDepth = sps.<a class="code" href="structvvenc_1_1SPS.html#a698a46d463e05520421479a1ac78eb05">bitDepths</a>[<a class="code" href="namespacevvenc.html#a28fa8a875cf8e2fac67b59efcab043b3">toChannelType</a>(compID)];</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keyword">const</span> uint64_t uiSSDtemp = <a class="code" href="classvvenc_1_1EncGOP.html#a4eb35a2db3063e096adea90142232698">xFindDistortionPlane</a>(recPB, orgPB, 0);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keyword">const</span> uint32_t maxval = 255 &lt;&lt; (bitDepth - 8);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keyword">const</span> uint32_t size   = width * height;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> fRefValue = (double)maxval * maxval * size;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    dPSNR[comp]       = uiSSDtemp ? 10.0 * log10(fRefValue / (<span class="keywordtype">double</span>)uiSSDtemp) : 999.99;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    MSEyuvframe[comp] = (double)uiSSDtemp / size;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="comment">/* calculate the size of the access unit, excluding:</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="comment">   *  - any AnnexB contributions (start_code_prefix, zero_byte, etc.,)</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment">   *  - SEI NAL units</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  uint32_t numRBSPBytes = 0;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <span class="keywordflow">for</span> (AccessUnitList::const_iterator it = accessUnit.begin(); it != accessUnit.end(); it++)</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  {</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    uint32_t numRBSPBytes_nal = uint32_t((*it)-&gt;m_nalUnitData.str().size());</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_summaryVerboseness &gt; 0)</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    {</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, <span class="stringliteral">&quot;*** %s numBytesInNALunit: %u\n&quot;</span>, <a class="code" href="namespacevvenc.html#a0aa1286e240559b8ad1a248367019e73">nalUnitTypeToString</a>((*it)-&gt;m_nalUnitType), numRBSPBytes_nal);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    }</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span>( ( *it )-&gt;m_nalUnitType != VVENC_NAL_UNIT_PREFIX_SEI &amp;&amp; ( *it )-&gt;m_nalUnitType != VVENC_NAL_UNIT_SUFFIX_SEI )</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      numRBSPBytes += numRBSPBytes_nal;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      <span class="keywordflow">if</span> (it == accessUnit.begin() || (*it)-&gt;m_nalUnitType == VVENC_NAL_UNIT_VPS || (*it)-&gt;m_nalUnitType == VVENC_NAL_UNIT_DCI || (*it)-&gt;m_nalUnitType == VVENC_NAL_UNIT_SPS || (*it)-&gt;m_nalUnitType == VVENC_NAL_UNIT_PPS || (*it)-&gt;m_nalUnitType == VVENC_NAL_UNIT_PREFIX_APS || (*it)-&gt;m_nalUnitType == VVENC_NAL_UNIT_SUFFIX_APS)</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;        numRBSPBytes += 4;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      }</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      {</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        numRBSPBytes += 3;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      }</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    }</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  }</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="keyword">const</span> uint32_t uibits = numRBSPBytes * 8;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160; </div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_RCNumPasses == 2) &amp;&amp; (<a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ab4eb30394f0c5fe824c23077d4258bf6">rcPass</a> &lt; <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a7314a6a143d85804239b97a36965755f">rcMaxPass</a>))</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    visualActivity = (pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a9cf013a756c4b0c589f7dc952f62caea">picVisActY</a> &gt; 0.0 ? pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a9cf013a756c4b0c589f7dc952f62caea">picVisActY</a> : <a class="code" href="namespacevvenc_1_1BitAllocation.html#a93a44432a10df09608954892661f7c8a">BitAllocation::getPicVisualActivity</a> (slice, <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>));</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  }</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ab932255b352c7d7ccade22225676ef05">addRCPassStats</a> (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a508c08bc126bef2837ba572ad52a9892">sliceQp</a>, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a0aedb7e260ba211f7465b90020b1f9cd">getLambdas</a>()[0], <a class="code" href="namespacevvenc.html#a508284b4f6c8c2933a3b91d897a05774">ClipBD</a> (uint16_t (0.5 + visualActivity), <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_internalBitDepth[<a class="code" href="namespacevvenc.html#a19a96edeeb9d37072c4ce9f862d19ba8a9eef8706f96e8b3511a2450e90075f59">CH_L</a>]),</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                                uibits, dPSNR[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>], slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>(), slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a>);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160; </div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="comment">//===== add PSNR =====</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a904e849842fe9c613d4787a304a8d8c0">m_AnalyzeAll</a>.<a class="code" href="classvvenc_1_1Analyze.html#abdb09027eb23b59e0000b9d5bdac9ced">addResult</a>(dPSNR, (<span class="keywordtype">double</span>)uibits, MSEyuvframe</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    , isEncodeLtRef</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  );</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>() )</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a37de80ce887f835cb1ef6a108b947a29">m_AnalyzeI</a>.<a class="code" href="classvvenc_1_1Analyze.html#abdb09027eb23b59e0000b9d5bdac9ced">addResult</a>(dPSNR, (<span class="keywordtype">double</span>)uibits, MSEyuvframe</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      , isEncodeLtRef</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    );</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    *PSNR_Y = dPSNR[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>];</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  }</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a530d6092c6fac441ddd03762efdf5c2f">isInterP</a>() )</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#a61daa598ecb88e581bdadad44299087a">m_AnalyzeP</a>.<a class="code" href="classvvenc_1_1Analyze.html#abdb09027eb23b59e0000b9d5bdac9ced">addResult</a>(dPSNR, (<span class="keywordtype">double</span>)uibits, MSEyuvframe</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      , isEncodeLtRef</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    );</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    *PSNR_Y = dPSNR[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>];</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  }</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="keywordflow">if</span> ( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2df1dd5ac8070482b6042070f73cffa4">isInterB</a>() )</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <a class="code" href="classvvenc_1_1EncGOP.html#afef1d6a18b549ec8bd8afeda00903703">m_AnalyzeB</a>.<a class="code" href="classvvenc_1_1Analyze.html#abdb09027eb23b59e0000b9d5bdac9ced">addResult</a>(dPSNR, (<span class="keywordtype">double</span>)uibits, MSEyuvframe</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      , isEncodeLtRef</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    );</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    *PSNR_Y = dPSNR[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>];</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordtype">char</span> c = (slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">isIntra</a>() ? <span class="charliteral">&#39;I&#39;</span> : slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a530d6092c6fac441ddd03762efdf5c2f">isInterP</a>() ? <span class="charliteral">&#39;P&#39;</span> : <span class="charliteral">&#39;B&#39;</span>);</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <span class="keywordflow">if</span> ( ! pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#ab86d36bba9a3e545df27b97373549691">isReferenced</a> &amp;&amp; pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a6517898e0b561627450e674e5ea4e91a">refCounter</a> == 0 &amp;&amp; ! <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_maxParallelFrames )</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    c += 32;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160; </div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_verbosity &gt;= VVENC_NOTICE )</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">if</span>( ! <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a5a6de978047f62096b6c0d20659e756b">rcIsFinalPass</a> )</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      std::string cInfo = <a class="code" href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">print</a>(<span class="stringliteral">&quot;RC pass %d/%d, analyze poc %d&quot;</span>,</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;          <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#ab4eb30394f0c5fe824c23077d4258bf6">rcPass</a> + 1,</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;          <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a7314a6a143d85804239b97a36965755f">rcMaxPass</a> + 1,</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;          slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a> );</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;          accessUnit.<a class="code" href="classvvenc_1_1AccessUnitList.html#a9408bfd8f9367244161c906ac11702a5">InfoString</a>.append( cInfo );</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160; </div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;          <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, cInfo.c_str() );</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    }</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      std::string cInfo = <a class="code" href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">print</a>(<span class="stringliteral">&quot;POC %4d TId: %1d (%10s, %c-SLICE, QP %d ) %10d bits&quot;</span>,</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;          slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">poc</a>,</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;          slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">TLayer</a>,</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;          <a class="code" href="namespacevvenc.html#a0aa1286e240559b8ad1a248367019e73">nalUnitTypeToString</a>( slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">nalUnitType</a> ),</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;          c,</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;          slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a508c08bc126bef2837ba572ad52a9892">sliceQp</a>,</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;          uibits );</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160; </div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      std::string cPSNR = <a class="code" href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">print</a>(<span class="stringliteral">&quot; [Y %6.4lf dB    U %6.4lf dB    V %6.4lf dB]&quot;</span>, dPSNR[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>], dPSNR[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05">COMP_Cb</a>], dPSNR[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa18e244a2f61070c3e5c30ace7e26fd50">COMP_Cr</a>] );</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      accessUnit.<a class="code" href="classvvenc_1_1AccessUnitList.html#a9408bfd8f9367244161c906ac11702a5">InfoString</a>.append( cInfo );</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      accessUnit.<a class="code" href="classvvenc_1_1AccessUnitList.html#a9408bfd8f9367244161c906ac11702a5">InfoString</a>.append( cPSNR );</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160; </div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, cInfo.c_str() );</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, cPSNR.c_str() );</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160; </div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_printHexPsnr )</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      {</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        uint64_t xPsnr[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0faad77bdcaef23bd1b468f38e6ac85c521">MAX_NUM_COMP</a>];</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0faad77bdcaef23bd1b468f38e6ac85c521">MAX_NUM_COMP</a>; i++)</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;          std::copy(<span class="keyword">reinterpret_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(&amp;dPSNR[i]),</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;              <span class="keyword">reinterpret_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(&amp;dPSNR[i]) + <span class="keyword">sizeof</span>(dPSNR[i]),</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;              <span class="keyword">reinterpret_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(&amp;xPsnr[i]));</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        }</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160; </div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        std::string cPSNRHex = <a class="code" href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">print</a>(<span class="stringliteral">&quot; [xY %16&quot;</span> PRIx64 <span class="stringliteral">&quot; xU %16&quot;</span> PRIx64 <span class="stringliteral">&quot; xV %16&quot;</span> PRIx64 <span class="stringliteral">&quot;]&quot;</span>, xPsnr[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>], xPsnr[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05">COMP_Cb</a>], xPsnr[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa18e244a2f61070c3e5c30ace7e26fd50">COMP_Cr</a>]);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        accessUnit.<a class="code" href="classvvenc_1_1AccessUnitList.html#a9408bfd8f9367244161c906ac11702a5">InfoString</a>.append( cPSNRHex );</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>(VVENC_NOTICE, cPSNRHex.c_str() );</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      }</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160; </div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      <span class="keywordflow">if</span>( printFrameMSE )</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        std::string cFrameMSE = <a class="code" href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">print</a>( <span class="stringliteral">&quot; [Y MSE %6.4lf  U MSE %6.4lf  V MSE %6.4lf]&quot;</span>, MSEyuvframe[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">COMP_Y</a>], MSEyuvframe[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05">COMP_Cb</a>], MSEyuvframe[<a class="code" href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa18e244a2f61070c3e5c30ace7e26fd50">COMP_Cr</a>]);</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        accessUnit.<a class="code" href="classvvenc_1_1AccessUnitList.html#a9408bfd8f9367244161c906ac11702a5">InfoString</a>.append( cFrameMSE );</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>(VVENC_NOTICE, cFrameMSE.c_str() );</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      std::string cEncTime = <a class="code" href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">print</a>(<span class="stringliteral">&quot; [ET %5d ]&quot;</span>, pic-&gt;<a class="code" href="structvvenc_1_1Picture.html#a34bf84a00862829eae9bd39d0b980b6d">encTime</a>.<a class="code" href="structvvenc_1_1StopClock.html#a9e481d76483d52040759b84bb09cbe53">getTimerInSec</a>() );</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      accessUnit.<a class="code" href="classvvenc_1_1AccessUnitList.html#a9408bfd8f9367244161c906ac11702a5">InfoString</a>.append( cEncTime );</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>(VVENC_NOTICE, cEncTime.c_str() );</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160; </div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      std::string cRefPics;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="keywordflow">for</span>( <span class="keywordtype">int</span> iRefList = 0; iRefList &lt; 2; iRefList++ )</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        std::string tmp = <a class="code" href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">print</a>(<span class="stringliteral">&quot; [L%d &quot;</span>, iRefList);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        cRefPics.append( tmp );</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> iRefIndex = 0; iRefIndex &lt; slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">numRefIdx</a>[ iRefList ]; iRefIndex++ )</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;          tmp = <a class="code" href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">print</a>(<span class="stringliteral">&quot;%d &quot;</span>, slice-&gt;<a class="code" href="classvvenc_1_1Slice.html#a5aa0670cb22e42db7d597aa009dcf219">getRefPOC</a>( <a class="code" href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384">RefPicList</a>( iRefList ), iRefIndex));</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;          cRefPics.append( tmp );</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        }</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        cRefPics.append( <span class="stringliteral">&quot;]&quot;</span> );</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      accessUnit.<a class="code" href="classvvenc_1_1AccessUnitList.html#a9408bfd8f9367244161c906ac11702a5">InfoString</a>.append( cRefPics );</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>(VVENC_NOTICE, cRefPics.c_str() );</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  }</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;}</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160; </div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a4eb35a2db3063e096adea90142232698"> 2068</a></span>&#160;uint64_t <a class="code" href="classvvenc_1_1EncGOP.html#a4eb35a2db3063e096adea90142232698">EncGOP::xFindDistortionPlane</a>( <span class="keyword">const</span> <a class="code" href="structvvenc_1_1AreaBuf.html">CPelBuf</a>&amp; pic0, <span class="keyword">const</span> <a class="code" href="structvvenc_1_1AreaBuf.html">CPelBuf</a>&amp; pic1, uint32_t rshift )<span class="keyword"> const</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  uint64_t uiTotalDiff;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="keyword">const</span>  <a class="code" href="namespacevvenc.html#a788273bea30966f2f3088cc9d64f2f33">Pel</a>*  pSrc0 = pic0.<a class="code" href="structvvenc_1_1AreaBuf.html#a2e1dc15633648502db33304d40ba91df">bufAt</a>(0, 0);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="keyword">const</span>  <a class="code" href="namespacevvenc.html#a788273bea30966f2f3088cc9d64f2f33">Pel</a>*  pSrc1 = pic1.<a class="code" href="structvvenc_1_1AreaBuf.html#a2e1dc15633648502db33304d40ba91df">bufAt</a>(0, 0);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160; </div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>(pic0.<a class="code" href="structvvenc_1_1Size.html#a81ed27f96c08781589ca6ff77043a7b1">width</a>  != pic1.<a class="code" href="structvvenc_1_1Size.html#a81ed27f96c08781589ca6ff77043a7b1">width</a> , <span class="stringliteral">&quot;Unspecified error&quot;</span>);</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <a class="code" href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a>(pic0.<a class="code" href="structvvenc_1_1Size.html#acec3c14453d8e16034230db557345f1e">height</a> != pic1.<a class="code" href="structvvenc_1_1Size.html#acec3c14453d8e16034230db557345f1e">height</a>, <span class="stringliteral">&quot;Unspecified error&quot;</span>);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="keywordflow">if</span>( rshift &gt; 0 )</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  {</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    uiTotalDiff = 0;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; pic0.<a class="code" href="structvvenc_1_1Size.html#acec3c14453d8e16034230db557345f1e">height</a>; y++)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; pic0.<a class="code" href="structvvenc_1_1Size.html#a81ed27f96c08781589ca6ff77043a7b1">width</a>; x++)</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;      {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        <a class="code" href="namespacevvenc.html#a19c81c236ede05b64eae8326f68aaa00">Intermediate_Int</a> iTemp = pSrc0[x] - pSrc1[x];</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        uiTotalDiff += uint64_t((iTemp * iTemp) &gt;&gt; rshift);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      }</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;      pSrc0 += pic0.<a class="code" href="structvvenc_1_1AreaBuf.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      pSrc1 += pic1.<a class="code" href="structvvenc_1_1AreaBuf.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    }</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  {</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    uiTotalDiff = 0;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; pic0.<a class="code" href="structvvenc_1_1Size.html#acec3c14453d8e16034230db557345f1e">height</a>; y++)</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; pic0.<a class="code" href="structvvenc_1_1Size.html#a81ed27f96c08781589ca6ff77043a7b1">width</a>; x++)</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;      {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <a class="code" href="namespacevvenc.html#a19c81c236ede05b64eae8326f68aaa00">Intermediate_Int</a> iTemp = pSrc0[x] - pSrc1[x];</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        uiTotalDiff += uint64_t(iTemp * iTemp);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      }</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      pSrc0 += pic0.<a class="code" href="structvvenc_1_1AreaBuf.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      pSrc1 += pic1.<a class="code" href="structvvenc_1_1AreaBuf.html#a08f66a6870d87afcd5dc1b60d1019692">stride</a>;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    }</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160; </div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="keywordflow">return</span> uiTotalDiff;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;}</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160; </div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"><a class="line" href="classvvenc_1_1EncGOP.html#a6cf7be415fe7a62e537bb2ea7a23a279"> 2110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvvenc_1_1EncGOP.html#a6cf7be415fe7a62e537bb2ea7a23a279">EncGOP::xPrintPictureInfo</a>( <span class="keyword">const</span> <a class="code" href="structvvenc_1_1Picture.html">Picture</a>&amp; pic, <a class="code" href="classvvenc_1_1AccessUnitList.html">AccessUnitList</a>&amp; accessUnit, <span class="keyword">const</span> std::string&amp; digestStr, <span class="keywordtype">bool</span> printFrameMSE, <span class="keywordtype">bool</span> isEncodeLtRef )</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;{</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <span class="keywordtype">double</span> PSNR_Y;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <a class="code" href="classvvenc_1_1EncGOP.html#a5e624ac27c4bf95aae6b0736bb8e99ba">xCalculateAddPSNR</a>( &amp;pic, pic.<a class="code" href="structvvenc_1_1Picture.html#aee021e1a0b2774638746e6e9e76a5519">getRecoBuf</a>(), accessUnit, printFrameMSE, &amp;PSNR_Y, isEncodeLtRef );</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160; </div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">m_pcRateCtrl</a>-&gt;<a class="code" href="classvvenc_1_1RateCtrl.html#a5a6de978047f62096b6c0d20659e756b">rcIsFinalPass</a> )</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    std::string modeName;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">switch</span> ( <a class="code" href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">m_pcEncCfg</a>-&gt;m_decodedPictureHashSEIType )</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="keywordflow">case</span> VVENC_HASHTYPE_MD5:</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        modeName = <span class="stringliteral">&quot;MD5&quot;</span>;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="keywordflow">case</span> VVENC_HASHTYPE_CRC:</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        modeName = <span class="stringliteral">&quot;CRC&quot;</span>;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">case</span> VVENC_HASHTYPE_CHECKSUM:</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        modeName = <span class="stringliteral">&quot;Checksum&quot;</span>;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160; </div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keywordflow">if</span> ( modeName.length() )</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    {</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <span class="keywordflow">if</span> ( digestStr.empty() )</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, <span class="stringliteral">&quot; [%s:%s]&quot;</span>, modeName.c_str(), <span class="stringliteral">&quot;?&quot;</span> );</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      {</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, <span class="stringliteral">&quot; [%s:%s]&quot;</span>, modeName.c_str(), digestStr.c_str() );</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      }</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    }</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  }</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160; </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <a class="code" href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">msg</a>( VVENC_NOTICE, <span class="stringliteral">&quot;\n&quot;</span> );</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  fflush( stdout );</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;}</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;} <span class="comment">// namespace vvenc</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a37418e46104a10160ad1a82b4a84c44a"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a37418e46104a10160ad1a82b4a84c44a">vvenc::EncGOP::xWriteParameterSets</a></div><div class="ttdeci">int xWriteParameterSets(Picture &amp;pic, AccessUnitList &amp;accessUnit, HLSWriter &amp;hlsWriter)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01380">EncGOP.cpp:1380</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a61c82aee8789605e0a9a1a9756553c79"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a61c82aee8789605e0a9a1a9756553c79">vvenc::EncGOP::encodePictures</a></div><div class="ttdeci">void encodePictures(const std::vector&lt; Picture * &gt; &amp;encList, PicList &amp;picList, AccessUnitList &amp;au, bool isEncodeLtRef)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00352">EncGOP.cpp:352</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a3682542a44a1fea195bb92bd22513e44"><div class="ttname"><a href="structvvenc_1_1SPS.html#a3682542a44a1fea195bb92bd22513e44">vvenc::SPS::minQTSize</a></div><div class="ttdeci">unsigned minQTSize[3]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00702">Slice.h:702</a></div></div>
<div class="ttc" id="aclassvvenc_1_1PreCalcValues_html_ac8487865dbc550d35a02eff7f97b4391"><div class="ttname"><a href="classvvenc_1_1PreCalcValues.html#ac8487865dbc550d35a02eff7f97b4391">vvenc::PreCalcValues::minCUSize</a></div><div class="ttdeci">const unsigned minCUSize</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01589">Slice.h:1589</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_a245ddfa1d0638413cec268376a45aca9"><div class="ttname"><a href="structvvenc_1_1APS.html#a245ddfa1d0638413cec268376a45aca9">vvenc::APS::layerId</a></div><div class="ttdeci">int layerId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00980">Slice.h:980</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_afabc33c7c4328921490982de50e35da0"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#afabc33c7c4328921490982de50e35da0">vvenc::EncGOP::m_pcEncCfg</a></div><div class="ttdeci">const VVEncCfg * m_pcEncCfg</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00139">EncGOP.h:139</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a2dc1c0b523db94ae8657986e21975608"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a2dc1c0b523db94ae8657986e21975608">vvenc::EncGOP::m_bRefreshPending</a></div><div class="ttdeci">bool m_bRefreshPending</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00129">EncGOP.h:129</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_a26c6a9995934a5dae336291bdb17d3d6"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#a26c6a9995934a5dae336291bdb17d3d6">vvenc::HLSWriter::codeVPS</a></div><div class="ttdeci">void codeVPS(const VPS *pcVPS)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8cpp_source.html#l01107">VLCWriter.cpp:1107</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ae99fa70f596cce138bc94998adf56478"><div class="ttname"><a href="classvvenc_1_1Slice.html#ae99fa70f596cce138bc94998adf56478">vvenc::Slice::setRefPOCList</a></div><div class="ttdeci">void setRefPOCList()</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00275">Slice.cpp:275</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a12a91afa66dc93c2037c6418ece7ca08"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a12a91afa66dc93c2037c6418ece7ca08">vvenc::EncGOP::m_pcRateCtrl</a></div><div class="ttdeci">RateCtrl * m_pcRateCtrl</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00146">EncGOP.h:146</a></div></div>
<div class="ttc" id="astructvvenc_1_1UnitBuf_html_aa6f3e16df807424717e8e8e307c7b629"><div class="ttname"><a href="structvvenc_1_1UnitBuf.html#aa6f3e16df807424717e8e8e307c7b629">vvenc::UnitBuf::chromaFormat</a></div><div class="ttdeci">ChromaFormat chromaFormat</div><div class="ttdef"><b>Definition:</b> <a href="Buffer_8h_source.html#l00660">Buffer.h:660</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a76b60df908a82283e1609a5cb329de67"><div class="ttname"><a href="classvvenc_1_1Slice.html#a76b60df908a82283e1609a5cb329de67">vvenc::Slice::copySliceInfo</a></div><div class="ttdeci">void copySliceInfo(const Slice *slice, bool cpyAlmostAll=true)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00622">Slice.cpp:622</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a753aa02c736668b65aa9ec4b66e36f6d"><div class="ttname"><a href="classvvenc_1_1Slice.html#a753aa02c736668b65aa9ec4b66e36f6d">vvenc::Slice::rplIdx</a></div><div class="ttdeci">int rplIdx[NUM_REF_PIC_LIST_01]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01197">Slice.h:1197</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ad2c0efc494b9c34824be2204df8ada97"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ad2c0efc494b9c34824be2204df8ada97">vvenc::EncGOP::m_seiWriter</a></div><div class="ttdeci">SEIWriter m_seiWriter</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00141">EncGOP.h:141</a></div></div>
<div class="ttc" id="aDecLib_8h_html"><div class="ttname"><a href="DecLib_8h.html">DecLib.h</a></div><div class="ttdoc">decoder class (header)</div></div>
<div class="ttc" id="anamespacevvenc_html_aed50bbecd2bbdbdfe0981da4f0a61d69"><div class="ttname"><a href="namespacevvenc.html#aed50bbecd2bbdbdfe0981da4f0a61d69">vvenc::deleteSEIs</a></div><div class="ttdeci">void deleteSEIs(SEIMessages &amp;seiList)</div><div class="ttdoc">delete list of SEI messages (freeing the referenced objects)</div><div class="ttdef"><b>Definition:</b> <a href="SEI_8cpp_source.html#l00108">SEI.cpp:108</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a8c462de9d6ff71416a2436c09ba380cc"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a8c462de9d6ff71416a2436c09ba380cc">vvenc::EncGOP::m_globalCtuQpVector</a></div><div class="ttdeci">std::vector&lt; int &gt; m_globalCtuQpVector</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00153">EncGOP.h:153</a></div></div>
<div class="ttc" id="aTypeDef_8h_html_ace15b38db4c343877cb8fc77e0155236"><div class="ttname"><a href="TypeDef_8h.html#ace15b38db4c343877cb8fc77e0155236">VVEncCfg</a></div><div class="ttdeci">struct vvenc_config VVEncCfg</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00066">TypeDef.h:66</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a0aa1286e240559b8ad1a248367019e73"><div class="ttname"><a href="namespacevvenc.html#a0aa1286e240559b8ad1a248367019e73">vvenc::nalUnitTypeToString</a></div><div class="ttdeci">static const char * nalUnitTypeToString(vvencNalUnitType type)</div><div class="ttdef"><b>Definition:</b> <a href="Nal_8h_source.html#l00207">Nal.h:207</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a3670c15593395410fcea8802e7ac6a52"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a3670c15593395410fcea8802e7ac6a52">vvenc::EncGOP::m_freePicEncoderList</a></div><div class="ttdeci">std::list&lt; EncPicture * &gt; m_freePicEncoderList</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00150">EncGOP.h:150</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_aab413be1475a125aac0f29686ec5b10f"><div class="ttname"><a href="classvvenc_1_1Slice.html#aab413be1475a125aac0f29686ec5b10f">vvenc::Slice::alfAps</a></div><div class="ttdeci">APS * alfAps[ALF_CTB_MAX_NUM_APS]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01251">Slice.h:1251</a></div></div>
<div class="ttc" id="aclassvvenc_1_1AccessUnitList_html_ab2047d19f8e65f73084223a1289521a8"><div class="ttname"><a href="classvvenc_1_1AccessUnitList.html#ab2047d19f8e65f73084223a1289521a8">vvenc::AccessUnitList::refPic</a></div><div class="ttdeci">bool refPic</div><div class="ttdoc">reference picture</div><div class="ttdef"><b>Definition:</b> <a href="Nal_8h_source.html#l00202">Nal.h:202</a></div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html_a7314a6a143d85804239b97a36965755f"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html#a7314a6a143d85804239b97a36965755f">vvenc::RateCtrl::rcMaxPass</a></div><div class="ttdeci">int rcMaxPass</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00280">RateCtrl.h:280</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncSlice_html_a862c99f1fbddb1e567c2d42d10933895"><div class="ttname"><a href="classvvenc_1_1EncSlice.html#a862c99f1fbddb1e567c2d42d10933895">vvenc::EncSlice::resetQP</a></div><div class="ttdeci">void resetQP(Picture *pic, int sliceQP, double &amp;lambda)</div><div class="ttdef"><b>Definition:</b> <a href="EncSlice_8cpp_source.html#l00369">EncSlice.cpp:369</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_afa8102489f9fc43fde072e71904896cf"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#afa8102489f9fc43fde072e71904896cf">vvenc::EncGOP::m_codingOrderIdx</a></div><div class="ttdeci">int m_codingOrderIdx</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00131">EncGOP.h:131</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html_a6ca1fe7fc5a42068a3476c58c610885e"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html#a6ca1fe7fc5a42068a3476c58c610885e">vvenc::ParameterSetMap::setApsIdStart</a></div><div class="ttdeci">void setApsIdStart(const int id)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01493">Slice.h:1493</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_aa674da06f7e3f079e7fe8ecf3f84c488"><div class="ttname"><a href="structvvenc_1_1PPS.html#aa674da06f7e3f079e7fe8ecf3f84c488">vvenc::PPS::useDQP</a></div><div class="ttdeci">bool useDQP</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00856">Slice.h:856</a></div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html_a4f6ef322ba068bd051222b3079670b3b"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html#a4f6ef322ba068bd051222b3079670b3b">vvenc::RateCtrl::getPicList</a></div><div class="ttdeci">std::list&lt; EncRCPic * &gt; &amp; getPicList()</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00268">RateCtrl.h:268</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_aa45fb4654b49867d35a3db5ec99b35ad"><div class="ttname"><a href="classvvenc_1_1Slice.html#aa45fb4654b49867d35a3db5ec99b35ad">vvenc::Slice::rpl</a></div><div class="ttdeci">const ReferencePictureList * rpl[NUM_REF_PIC_LIST_01]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01195">Slice.h:1195</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a3e0cec306640905b662a1bb0ef53a40f"><div class="ttname"><a href="classvvenc_1_1Slice.html#a3e0cec306640905b662a1bb0ef53a40f">vvenc::Slice::sliceType</a></div><div class="ttdeci">SliceType sliceType</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01202">Slice.h:1202</a></div></div>
<div class="ttc" id="astructvvenc_1_1UnitBuf_html"><div class="ttname"><a href="structvvenc_1_1UnitBuf.html">vvenc::UnitBuf</a></div><div class="ttdef"><b>Definition:</b> <a href="Buffer_8h_source.html#l00655">Buffer.h:655</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a46683731edb6c27b7607edf63474308a"><div class="ttname"><a href="structvvenc_1_1SPS.html#a46683731edb6c27b7607edf63474308a">vvenc::SPS::maxMTTDepth</a></div><div class="ttdeci">unsigned maxMTTDepth[3]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00703">Slice.h:703</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ae06118c0343b4e4ec319bdc2461e5a8d"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ae06118c0343b4e4ec319bdc2461e5a8d">vvenc::EncGOP::m_pcEncHRD</a></div><div class="ttdeci">EncHRD * m_pcEncHRD</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00147">EncGOP.h:147</a></div></div>
<div class="ttc" id="aNALwrite_8h_html"><div class="ttname"><a href="NALwrite_8h.html">NALwrite.h</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIEncoder_html_a690fe64ba2edcb5da607a8352a509c75"><div class="ttname"><a href="classvvenc_1_1SEIEncoder.html#a690fe64ba2edcb5da607a8352a509c75">vvenc::SEIEncoder::initPictureTimingSEI</a></div><div class="ttdeci">void initPictureTimingSEI(SEIMessages &amp;seiMessages, SEIMessages &amp;nestedSeiMessages, SEIMessages &amp;duInfoSeiMessages, const Slice *slice, const uint32_t numDU, const bool bpPresentInAU)</div><div class="ttdef"><b>Definition:</b> <a href="SEIEncoder_8cpp_source.html#l00233">SEIEncoder.cpp:233</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a9e4da6110e21587478e656e4aaec9d46"><div class="ttname"><a href="namespacevvenc.html#a9e4da6110e21587478e656e4aaec9d46">vvenc::SEIMessages</a></div><div class="ttdeci">std::list&lt; SEI * &gt; SEIMessages</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00071">Picture.h:71</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncReshape_html_a3128186259f83af81587a7a6b4be092f"><div class="ttname"><a href="classvvenc_1_1EncReshape.html#a3128186259f83af81587a7a6b4be092f">vvenc::EncReshape::preAnalyzerLMCS</a></div><div class="ttdeci">void preAnalyzerLMCS(Picture &amp;pic, const uint32_t signalType, const SliceType sliceType, const vvencReshapeCW &amp;reshapeCW)</div><div class="ttdef"><b>Definition:</b> <a href="EncReshape_8cpp_source.html#l00437">EncReshape.cpp:437</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_adb7083540b1f48d362a01ac6026e48e0"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#adb7083540b1f48d362a01ac6026e48e0">vvenc::EncGOP::xWritePPS</a></div><div class="ttdeci">int xWritePPS(AccessUnitList &amp;accessUnit, const PPS *pps, const SPS *sps, HLSWriter &amp;hlsWriter)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01623">EncGOP.cpp:1623</a></div></div>
<div class="ttc" id="astructvvenc_1_1LmcsParam_html_ae9dc27e25d79cb9748be0ec897df07ce"><div class="ttname"><a href="structvvenc_1_1LmcsParam.html#ae9dc27e25d79cb9748be0ec897df07ce">vvenc::LmcsParam::sliceReshaperEnabled</a></div><div class="ttdeci">bool sliceReshaperEnabled</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00307">Slice.h:307</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a76b193969465a68f38982efa1cc05aec"><div class="ttname"><a href="classvvenc_1_1Slice.html#a76b193969465a68f38982efa1cc05aec">vvenc::Slice::pendingRasInit</a></div><div class="ttdeci">bool pendingRasInit</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01216">Slice.h:1216</a></div></div>
<div class="ttc" id="adtrace__codingstruct_8h_html"><div class="ttname"><a href="dtrace__codingstruct_8h.html">dtrace_codingstruct.h</a></div><div class="ttdoc">Easy to use dtrace calls concerning coding structures.</div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a056efd77bd0e350d09f6c93386fbfb7b"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a056efd77bd0e350d09f6c93386fbfb7b">vvenc::PicHeader::lmcsAps</a></div><div class="ttdeci">APS * lmcsAps</div><div class="ttdoc">lmcs APS</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01074">Slice.h:1074</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_ae821f0db840cf84f0da844e1896a878c"><div class="ttname"><a href="structvvenc_1_1PPS.html#ae821f0db840cf84f0da844e1896a878c">vvenc::PPS::chromaQpOffsetListLen</a></div><div class="ttdeci">int chromaQpOffsetListLen</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00868">Slice.h:868</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a17d513e16dc930568a75f723c77dd545"><div class="ttname"><a href="classvvenc_1_1Slice.html#a17d513e16dc930568a75f723c77dd545">vvenc::Slice::lastIDR</a></div><div class="ttdeci">int lastIDR</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01186">Slice.h:1186</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_a8c1a0b897dc634ba08afa831c8fe9c4f"><div class="ttname"><a href="structvvenc_1_1APS.html#a8c1a0b897dc634ba08afa831c8fe9c4f">vvenc::APS::lmcsParam</a></div><div class="ttdeci">LmcsParam lmcsParam</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00983">Slice.h:983</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a5b857e71ea1a4c4aaf432e1846fa8f51"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a5b857e71ea1a4c4aaf432e1846fa8f51">vvenc::PicHeader::gdrOrIrapPic</a></div><div class="ttdeci">bool gdrOrIrapPic</div><div class="ttdoc">gdr or irap picture flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01021">Slice.h:1021</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a5a07d33687e130f4590088df0845892c"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a5a07d33687e130f4590088df0845892c">vvenc::EncGOP::m_HLSWriter</a></div><div class="ttdeci">HLSWriter m_HLSWriter</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00140">EncGOP.h:140</a></div></div>
<div class="ttc" id="anamespacevvenc_html_ad5e26fa6546326a9dba79f2ef1d8c12ca350726caac3fa75c18a789f4cc12269f"><div class="ttname"><a href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12ca350726caac3fa75c18a789f4cc12269f">vvenc::RESHAPE_SIGNAL_HLG</a></div><div class="ttdeci">@ RESHAPE_SIGNAL_HLG</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00643">TypeDef.h:643</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncHRD_html"><div class="ttname"><a href="classvvenc_1_1EncHRD.html">vvenc::EncHRD</a></div><div class="ttdef"><b>Definition:</b> <a href="EncHRD_8h_source.html#l00056">EncHRD.h:56</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIDecodedPictureHash_html"><div class="ttname"><a href="classvvenc_1_1SEIDecodedPictureHash.html">vvenc::SEIDecodedPictureHash</a></div><div class="ttdef"><b>Definition:</b> <a href="SEI_8h_source.html#l00257">SEI.h:257</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a508c08bc126bef2837ba572ad52a9892"><div class="ttname"><a href="classvvenc_1_1Slice.html#a508c08bc126bef2837ba572ad52a9892">vvenc::Slice::sliceQp</a></div><div class="ttdeci">int sliceQp</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01203">Slice.h:1203</a></div></div>
<div class="ttc" id="astructvvenc_1_1PelStorage_html_ae71ed6a359a035891f1e1b201ed99813"><div class="ttname"><a href="structvvenc_1_1PelStorage.html#ae71ed6a359a035891f1e1b201ed99813">vvenc::PelStorage::create</a></div><div class="ttdeci">void create(const UnitArea &amp;_unit)</div><div class="ttdef"><b>Definition:</b> <a href="Buffer_8cpp_source.html#l00814">Buffer.cpp:814</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_ad6f561fb8a4aed1c50d7b7c03e716078"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#ad6f561fb8a4aed1c50d7b7c03e716078">vvenc::EncRCPic::estimatePicQP</a></div><div class="ttdeci">int estimatePicQP(double lambda, std::list&lt; EncRCPic * &gt; &amp;listPreviousPictures)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l00871">RateCtrl.cpp:871</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a999dcdfe3c47f8f17807794fd905536a"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a999dcdfe3c47f8f17807794fd905536a">vvenc::PicHeader::maxTTSize</a></div><div class="ttdeci">unsigned maxTTSize[3]</div><div class="ttdoc">maximum TT size</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01082">Slice.h:1082</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncReshape_html_a8b7fa9cad25d42033cca0631035e906c"><div class="ttname"><a href="classvvenc_1_1EncReshape.html#a8b7fa9cad25d42033cca0631035e906c">vvenc::EncReshape::getCWeight</a></div><div class="ttdeci">double getCWeight()</div><div class="ttdef"><b>Definition:</b> <a href="EncReshape_8h_source.html#l00129">EncReshape.h:129</a></div></div>
<div class="ttc" id="aclassvvenc_1_1AccessUnitList_html_a9408bfd8f9367244161c906ac11702a5"><div class="ttname"><a href="classvvenc_1_1AccessUnitList.html#a9408bfd8f9367244161c906ac11702a5">vvenc::AccessUnitList::InfoString</a></div><div class="ttdeci">std::string InfoString</div><div class="ttdef"><b>Definition:</b> <a href="Nal_8h_source.html#l00203">Nal.h:203</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html"><div class="ttname"><a href="structvvenc_1_1APS.html">vvenc::APS</a></div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00976">Slice.h:976</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_ad26ec5c4cbe4715920eea97dc856b7ff"><div class="ttname"><a href="structvvenc_1_1Picture.html#ad26ec5c4cbe4715920eea97dc856b7ff">vvenc::Picture::isReconstructed</a></div><div class="ttdeci">std::atomic_bool isReconstructed</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00218">Picture.h:218</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a2df1dd5ac8070482b6042070f73cffa4"><div class="ttname"><a href="classvvenc_1_1Slice.html#a2df1dd5ac8070482b6042070f73cffa4">vvenc::Slice::isInterB</a></div><div class="ttdeci">bool isInterB() const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01290">Slice.h:1290</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_af4adc720c8ba77c885ad73f5849bce8b"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#af4adc720c8ba77c885ad73f5849bce8b">vvenc::PicHeader::enableTMVP</a></div><div class="ttdeci">bool enableTMVP</div><div class="ttdoc">enable temporal motion vector prediction</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01049">Slice.h:1049</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_abc946e46235055703d7758c900d077ec"><div class="ttname"><a href="classvvenc_1_1Slice.html#abc946e46235055703d7758c900d077ec">vvenc::Slice::isStepwiseTemporalLayerSwitchingPointCandidate</a></div><div class="ttdeci">bool isStepwiseTemporalLayerSwitchingPointCandidate(PicList &amp;rcListPic) const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00747">Slice.cpp:747</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_ac76ef35f3f5cc18bf63e1259f85666a0"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#ac76ef35f3f5cc18bf63e1259f85666a0">vvenc::PicHeader::ppsId</a></div><div class="ttdeci">int ppsId</div><div class="ttdoc">picture parameter set ID</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01029">Slice.h:1029</a></div></div>
<div class="ttc" id="astructvvenc_1_1AreaBuf_html"><div class="ttname"><a href="structvvenc_1_1AreaBuf.html">vvenc::AreaBuf&lt; const Pel &gt;</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a2822731e39d19bc64fc11011791307a5"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a2822731e39d19bc64fc11011791307a5">vvenc::EncGOP::m_associatedIRAPType</a></div><div class="ttdeci">vvencNalUnitType m_associatedIRAPType</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00137">EncGOP.h:137</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a554a6e379eb8db3d601ac16590ad3d2e"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a554a6e379eb8db3d601ac16590ad3d2e">vvenc::EncGOP::m_threadPool</a></div><div class="ttdeci">NoMallocThreadPool * m_threadPool</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00155">EncGOP.h:155</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a82723a78af27c50a9d10657e367d53eb"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a82723a78af27c50a9d10657e367d53eb">vvenc::EncGOP::xInitLMCS</a></div><div class="ttdeci">void xInitLMCS(Picture &amp;pic)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01134">EncGOP.cpp:1134</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a7a04d5f73d609c4a43e2d96b42afdb45"><div class="ttname"><a href="classvvenc_1_1Slice.html#a7a04d5f73d609c4a43e2d96b42afdb45">vvenc::Slice::deblockingFilterTcOffsetDiv2</a></div><div class="ttdeci">int deblockingFilterTcOffsetDiv2[MAX_NUM_COMP]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01210">Slice.h:1210</a></div></div>
<div class="ttc" id="anamespacevvenc_html_ab7b9d047523f361c9aa0e5047cc3c044"><div class="ttname"><a href="namespacevvenc.html#ab7b9d047523f361c9aa0e5047cc3c044">vvenc::isPicEncoded</a></div><div class="ttdeci">bool isPicEncoded(int targetPoc, int curPoc, int curTLayer, int gopSize, int intraPeriod)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00078">EncGOP.cpp:78</a></div></div>
<div class="ttc" id="astructvvenc_1_1AreaBuf_html_a2e1dc15633648502db33304d40ba91df"><div class="ttname"><a href="structvvenc_1_1AreaBuf.html#a2e1dc15633648502db33304d40ba91df">vvenc::AreaBuf::bufAt</a></div><div class="ttdeci">T * bufAt(const int &amp;x, const int &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="Buffer_8h_source.html#l00174">Buffer.h:174</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_aa9ee0a90be4bc764b6a4c7960c2af321"><div class="ttname"><a href="classvvenc_1_1Slice.html#aa9ee0a90be4bc764b6a4c7960c2af321">vvenc::Slice::checkThatAllRefPicsAreAvailable</a></div><div class="ttdeci">int checkThatAllRefPicsAreAvailable(PicList &amp;rcListPic, const ReferencePictureList *pRPL, int rplIdx, bool printErrors) const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00971">Slice.cpp:971</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a0705c021d68ecb01bbf299f0aa4fe327"><div class="ttname"><a href="classvvenc_1_1Slice.html#a0705c021d68ecb01bbf299f0aa4fe327">vvenc::Slice::pps</a></div><div class="ttdeci">const PPS * pps</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01234">Slice.h:1234</a></div></div>
<div class="ttc" id="anamespacevvenc_html_aa2aaf0a0822296d132b363aeaf9df0ca"><div class="ttname"><a href="namespacevvenc.html#aa2aaf0a0822296d132b363aeaf9df0ca">vvenc::MAX_QP</a></div><div class="ttdeci">static const int MAX_QP</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00196">CommonDef.h:196</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a788273bea30966f2f3088cc9d64f2f33"><div class="ttname"><a href="namespacevvenc.html#a788273bea30966f2f3088cc9d64f2f33">vvenc::Pel</a></div><div class="ttdeci">int16_t Pel</div><div class="ttdoc">pixel type</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00191">TypeDef.h:191</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a64ff1224314f1a6ad7696ac10d16615a"><div class="ttname"><a href="classvvenc_1_1Slice.html#a64ff1224314f1a6ad7696ac10d16615a">vvenc::Slice::depQuantEnabled</a></div><div class="ttdeci">bool depQuantEnabled</div><div class="ttdoc">dependent quantization enabled flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01211">Slice.h:1211</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a90143658503644fadd1111a88cf99fb8"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a90143658503644fadd1111a88cf99fb8">vvenc::EncGOP::m_gopEncMutex</a></div><div class="ttdeci">std::mutex m_gopEncMutex</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00156">EncGOP.h:156</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a3a880ac0a0a154b473b90826fe9ab9ad"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a3a880ac0a0a154b473b90826fe9ab9ad">vvenc::PicHeader::picInterSliceAllowed</a></div><div class="ttdeci">bool picInterSliceAllowed</div><div class="ttdoc">inter slice allowed flag in PH</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01042">Slice.h:1042</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a0c054a05da22918aed805ded0f26e2e3"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a0c054a05da22918aed805ded0f26e2e3">vvenc::EncGOP::xWritePicture</a></div><div class="ttdeci">void xWritePicture(Picture &amp;pic, AccessUnitList &amp;au, bool isEncodeLtRef)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01354">EncGOP.cpp:1354</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Reshape_html_a7c36ae03ddd26787686a9a304b6367de"><div class="ttname"><a href="classvvenc_1_1Reshape.html#a7c36ae03ddd26787686a9a304b6367de">vvenc::Reshape::updateReshapeLumaLevelToWeightTableChromaMD</a></div><div class="ttdeci">void updateReshapeLumaLevelToWeightTableChromaMD(const Pel *ILUT)</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8cpp_source.html#l00260">Reshape.cpp:260</a></div></div>
<div class="ttc" id="anamespacevvenc_html_ad5e26fa6546326a9dba79f2ef1d8c12ca36b28b78ee8ae48abf60c3bec6340f33"><div class="ttname"><a href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12ca36b28b78ee8ae48abf60c3bec6340f33">vvenc::RESHAPE_SIGNAL_SDR</a></div><div class="ttdeci">@ RESHAPE_SIGNAL_SDR</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00641">TypeDef.h:641</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a723df49e12ed0c53c37435142d54f4d3"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a723df49e12ed0c53c37435142d54f4d3">vvenc::EncGOP::m_ffwdDecoder</a></div><div class="ttdeci">FFwdDecoder m_ffwdDecoder</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00145">EncGOP.h:145</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a93cea48eb9dcfd661168dee82e41b384"><div class="ttname"><a href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384">vvenc::RefPicList</a></div><div class="ttdeci">RefPicList</div><div class="ttdoc">reference list index</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00353">TypeDef.h:353</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_af7ed350b66bfd02791def92702bed510"><div class="ttname"><a href="structvvenc_1_1PPS.html#af7ed350b66bfd02791def92702bed510">vvenc::PPS::deblockingFilterBetaOffsetDiv2</a></div><div class="ttdeci">int deblockingFilterBetaOffsetDiv2[MAX_NUM_COMP]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00918">Slice.h:918</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_ad63283f95cb143598db9e689d77261cd"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#ad63283f95cb143598db9e689d77261cd">vvenc::HLSWriter::codeAUD</a></div><div class="ttdeci">void codeAUD(const int audIrapOrGdrAuFlag, const int pictureType)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8cpp_source.html#l00183">VLCWriter.cpp:183</a></div></div>
<div class="ttc" id="aclassvvenc_1_1NoMallocThreadPool_html"><div class="ttname"><a href="classvvenc_1_1NoMallocThreadPool.html">vvenc::NoMallocThreadPool</a></div><div class="ttdef"><b>Definition:</b> <a href="NoMallocThreadPool_8h_source.html#l00239">NoMallocThreadPool.h:239</a></div></div>
<div class="ttc" id="anamespacevvenc_html"><div class="ttname"><a href="namespacevvenc.html">vvenc</a></div><div class="ttdef"><b>Definition:</b> <a href="AdaptiveLoopFilter_8cpp_source.html#l00064">AdaptiveLoopFilter.cpp:64</a></div></div>
<div class="ttc" id="astructvvenc_1_1UnitBuf_html_a59fa1e9c0d0dafd04140d8e96323587f"><div class="ttname"><a href="structvvenc_1_1UnitBuf.html#a59fa1e9c0d0dafd04140d8e96323587f">vvenc::UnitBuf::get</a></div><div class="ttdeci">AreaBuf&lt; T &gt; &amp; get(const ComponentID comp)</div><div class="ttdef"><b>Definition:</b> <a href="Buffer_8h_source.html#l00676">Buffer.h:676</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncReshape_html_aa339e81c77c2b11e179bc3fe2c356eb6"><div class="ttname"><a href="classvvenc_1_1EncReshape.html#aa339e81c77c2b11e179bc3fe2c356eb6">vvenc::EncReshape::getWeightTable</a></div><div class="ttdeci">Pel * getWeightTable()</div><div class="ttdef"><b>Definition:</b> <a href="EncReshape_8h_source.html#l00128">EncReshape.h:128</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIEncoder_html_a0f902a95ac2e83375a26bc55ad819503"><div class="ttname"><a href="classvvenc_1_1SEIEncoder.html#a0f902a95ac2e83375a26bc55ad819503">vvenc::SEIEncoder::initBufferingPeriodSEI</a></div><div class="ttdeci">void initBufferingPeriodSEI(SEIBufferingPeriod &amp;bpSei, bool noLeadingPictures)</div><div class="ttdef"><b>Definition:</b> <a href="SEIEncoder_8cpp_source.html#l00072">SEIEncoder.cpp:72</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a0aedb7e260ba211f7465b90020b1f9cd"><div class="ttname"><a href="classvvenc_1_1Slice.html#a0aedb7e260ba211f7465b90020b1f9cd">vvenc::Slice::getLambdas</a></div><div class="ttdeci">const double * getLambdas() const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01294">Slice.h:1294</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_aff0c5f32ce6e2572e6165372cf53d65d"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#aff0c5f32ce6e2572e6165372cf53d65d">vvenc::HLSWriter::codeSliceHeader</a></div><div class="ttdeci">void codeSliceHeader(const Slice *slice)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8cpp_source.html#l01687">VLCWriter.cpp:1687</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html"><div class="ttname"><a href="structvvenc_1_1SPS.html">vvenc::SPS</a></div><div class="ttdoc">SPS class.</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00664">Slice.h:664</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a4f52498d4a46139ed7d9a5ad5a32cc20"><div class="ttname"><a href="classvvenc_1_1Slice.html#a4f52498d4a46139ed7d9a5ad5a32cc20">vvenc::Slice::associatedIRAP</a></div><div class="ttdeci">int associatedIRAP</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01188">Slice.h:1188</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a068f1e1cd84c5c2e22edc6dc8776b2ae"><div class="ttname"><a href="structvvenc_1_1Picture.html#a068f1e1cd84c5c2e22edc6dc8776b2ae">vvenc::Picture::m_bufsOrigPrev</a></div><div class="ttdeci">PelStorage * m_bufsOrigPrev[2]</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00240">Picture.h:240</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCGOP_html_a9fc04d1dbe9e90211adae22edf1aa4ea"><div class="ttname"><a href="classvvenc_1_1EncRCGOP.html#a9fc04d1dbe9e90211adae22edf1aa4ea">vvenc::EncRCGOP::minEstLambda</a></div><div class="ttdeci">double minEstLambda</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00181">RateCtrl.h:181</a></div></div>
<div class="ttc" id="adtrace__next_8h_html_a60977af402536fce4e55514d8fe947ad"><div class="ttname"><a href="dtrace__next_8h.html#a60977af402536fce4e55514d8fe947ad">DTRACE_UPDATE</a></div><div class="ttdeci">#define DTRACE_UPDATE(ctx, s)</div><div class="ttdef"><b>Definition:</b> <a href="dtrace__next_8h_source.html#l00283">dtrace_next.h:283</a></div></div>
<div class="ttc" id="astructvvenc_1_1VPS_html"><div class="ttname"><a href="structvvenc_1_1VPS.html">vvenc::VPS</a></div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00457">Slice.h:457</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCGOP_html_a3a2e8b59f1816785bf9179457a42032a"><div class="ttname"><a href="classvvenc_1_1EncRCGOP.html#a3a2e8b59f1816785bf9179457a42032a">vvenc::EncRCGOP::maxEstLambda</a></div><div class="ttdeci">double maxEstLambda</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00182">RateCtrl.h:182</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a19c81c236ede05b64eae8326f68aaa00"><div class="ttname"><a href="namespacevvenc.html#a19c81c236ede05b64eae8326f68aaa00">vvenc::Intermediate_Int</a></div><div class="ttdeci">int32_t Intermediate_Int</div><div class="ttdoc">used as intermediate value in calculations</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00196">TypeDef.h:196</a></div></div>
<div class="ttc" id="aBitAllocation_8h_html"><div class="ttname"><a href="BitAllocation_8h.html">BitAllocation.h</a></div><div class="ttdoc">Bit allocation class for QP adaptation and, possibly, rate control (header)</div></div>
<div class="ttc" id="aclassvvenc_1_1SEIEncoder_html_ac7bc967d60af1a8851a217e09642129d"><div class="ttname"><a href="classvvenc_1_1SEIEncoder.html#ac7bc967d60af1a8851a217e09642129d">vvenc::SEIEncoder::initSEIContentLightLevel</a></div><div class="ttdeci">void initSEIContentLightLevel(SEIContentLightLevelInfo *seiCLL)</div><div class="ttdef"><b>Definition:</b> <a href="SEIEncoder_8cpp_source.html#l00524">SEIEncoder.cpp:524</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncReshape_html_aca38897f26210fa23730608a311d440f"><div class="ttname"><a href="classvvenc_1_1EncReshape.html#aca38897f26210fa23730608a311d440f">vvenc::EncReshape::initLUTfromdQPModel</a></div><div class="ttdeci">void initLUTfromdQPModel()</div><div class="ttdef"><b>Definition:</b> <a href="EncReshape_8cpp_source.html#l00927">EncReshape.cpp:927</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html"><div class="ttname"><a href="structvvenc_1_1PPS.html">vvenc::PPS</a></div><div class="ttdoc">Reference Picture Lists class.</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00851">Slice.h:851</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ac41f4be43a9375a8bf1cdd8d6d10ebbf"><div class="ttname"><a href="classvvenc_1_1Slice.html#ac41f4be43a9375a8bf1cdd8d6d10ebbf">vvenc::Slice::setDefaultClpRng</a></div><div class="ttdeci">void setDefaultClpRng(const SPS &amp;sps)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00175">Slice.cpp:175</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ab0b52dd6e4679caaea2bdd797132fbb5"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ab0b52dd6e4679caaea2bdd797132fbb5">vvenc::EncGOP::xGetProcessingLists</a></div><div class="ttdeci">void xGetProcessingLists(std::list&lt; Picture * &gt; &amp;procList, std::list&lt; Picture * &gt; &amp;rcUpdateList)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00312">EncGOP.cpp:312</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_af6ee0186753c8db60b2d8e6743e6a3de"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#af6ee0186753c8db60b2d8e6743e6a3de">vvenc::PicHeader::lmcsApsId</a></div><div class="ttdeci">int lmcsApsId</div><div class="ttdoc">lmcs APS ID</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01073">Slice.h:1073</a></div></div>
<div class="ttc" id="aTypeDef_8h_html_ac670918873d1623fbf91921b90e09a9d"><div class="ttname"><a href="TypeDef_8h.html#ac670918873d1623fbf91921b90e09a9d">SliceType</a></div><div class="ttdeci">vvencSliceType SliceType</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00069">TypeDef.h:69</a></div></div>
<div class="ttc" id="aclassvvenc_1_1CodingStructure_html_aab413be1475a125aac0f29686ec5b10f"><div class="ttname"><a href="classvvenc_1_1CodingStructure.html#aab413be1475a125aac0f29686ec5b10f">vvenc::CodingStructure::alfAps</a></div><div class="ttdeci">APS * alfAps[ALF_CTB_MAX_NUM_APS]</div><div class="ttdef"><b>Definition:</b> <a href="CodingStructure_8h_source.html#l00108">CodingStructure.h:108</a></div></div>
<div class="ttc" id="astructvvenc_1_1Size_html_a81ed27f96c08781589ca6ff77043a7b1"><div class="ttname"><a href="structvvenc_1_1Size.html#a81ed27f96c08781589ca6ff77043a7b1">vvenc::Size::width</a></div><div class="ttdeci">SizeType width</div><div class="ttdef"><b>Definition:</b> <a href="Common_8h_source.html#l00082">Common.h:82</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html_a735725df5a966011b903b459f7e8951e"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html#a735725df5a966011b903b459f7e8951e">vvenc::ParameterSetMap::clearChangedFlag</a></div><div class="ttdeci">void clearChangedFlag(int psId)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01454">Slice.h:1454</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_ab397bddbf3c96f9b0fe2d48b16f1b51b"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#ab397bddbf3c96f9b0fe2d48b16f1b51b">vvenc::PicHeader::lmcsChromaResidualScale</a></div><div class="ttdeci">bool lmcsChromaResidualScale</div><div class="ttdoc">lmcs chroma residual scale flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01075">Slice.h:1075</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_af1fa96a850f404aded578d3e29dedbcb"><div class="ttname"><a href="structvvenc_1_1Picture.html#af1fa96a850f404aded578d3e29dedbcb">vvenc::Picture::poc</a></div><div class="ttdeci">int poc</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00229">Picture.h:229</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a9cf013a756c4b0c589f7dc952f62caea"><div class="ttname"><a href="structvvenc_1_1Picture.html#a9cf013a756c4b0c589f7dc952f62caea">vvenc::Picture::picVisActY</a></div><div class="ttdeci">double picVisActY</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00246">Picture.h:246</a></div></div>
<div class="ttc" id="anamespacevvenc_html_ad5e26fa6546326a9dba79f2ef1d8c12cada75f9671a9e2495150754c9383ab8b8"><div class="ttname"><a href="namespacevvenc.html#ad5e26fa6546326a9dba79f2ef1d8c12cada75f9671a9e2495150754c9383ab8b8">vvenc::RESHAPE_SIGNAL_PQ</a></div><div class="ttdeci">@ RESHAPE_SIGNAL_PQ</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00642">TypeDef.h:642</a></div></div>
<div class="ttc" id="aclassvvenc_1_1AccessUnitList_html_a7ea15d247816b1b84434f215e9bfde9e"><div class="ttname"><a href="classvvenc_1_1AccessUnitList.html#a7ea15d247816b1b84434f215e9bfde9e">vvenc::AccessUnitList::sliceType</a></div><div class="ttdeci">vvencSliceType sliceType</div><div class="ttdoc">slice type (I/P/B) *â/</div><div class="ttdef"><b>Definition:</b> <a href="Nal_8h_source.html#l00196">Nal.h:196</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html">vvenc::EncRCSeq</a></div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00105">RateCtrl.h:105</a></div></div>
<div class="ttc" id="aclassvvenc_1_1CodingStructure_html_a86e63267f0b87eb319b151d10ad84e0f"><div class="ttname"><a href="classvvenc_1_1CodingStructure.html#a86e63267f0b87eb319b151d10ad84e0f">vvenc::CodingStructure::picHeader</a></div><div class="ttdeci">PicHeader * picHeader</div><div class="ttdef"><b>Definition:</b> <a href="CodingStructure_8h_source.html#l00107">CodingStructure.h:107</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_af3139535c3b96f7ef9051cdc1d6496a7"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#af3139535c3b96f7ef9051cdc1d6496a7">vvenc::EncGOP::xGetNalUnitType</a></div><div class="ttdeci">vvencNalUnitType xGetNalUnitType(int pocCurr, int lastIdr) const</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00577">EncGOP.cpp:577</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a19a96edeeb9d37072c4ce9f862d19ba8a9eef8706f96e8b3511a2450e90075f59"><div class="ttname"><a href="namespacevvenc.html#a19a96edeeb9d37072c4ce9f862d19ba8a9eef8706f96e8b3511a2450e90075f59">vvenc::CH_L</a></div><div class="ttdeci">@ CH_L</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00217">TypeDef.h:217</a></div></div>
<div class="ttc" id="aclassvvenc_1_1CodingStructure_html_ad77d144af5cd4d736ee529e3e74a7367"><div class="ttname"><a href="classvvenc_1_1CodingStructure.html#ad77d144af5cd4d736ee529e3e74a7367">vvenc::CodingStructure::getRecoBuf</a></div><div class="ttdeci">PelBuf getRecoBuf(const CompArea &amp;blk)</div><div class="ttdef"><b>Definition:</b> <a href="CodingStructure_8h_source.html#l00275">CodingStructure.h:275</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html"><div class="ttname"><a href="structvvenc_1_1Picture.html">vvenc::Picture</a></div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00143">Picture.h:143</a></div></div>
<div class="ttc" id="anamespacevvenc_html_af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a"><div class="ttname"><a href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa3b276b5937d942b2fe5cbfa69d5a016a">vvenc::COMP_Y</a></div><div class="ttdeci">@ COMP_Y</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00224">TypeDef.h:224</a></div></div>
<div class="ttc" id="aclassvvenc_1_1CodingStructure_html_a2d3ec636d347d8ea142e64ca27ceaad4"><div class="ttname"><a href="classvvenc_1_1CodingStructure.html#a2d3ec636d347d8ea142e64ca27ceaad4">vvenc::CodingStructure::sps</a></div><div class="ttdeci">const SPS * sps</div><div class="ttdef"><b>Definition:</b> <a href="CodingStructure_8h_source.html#l00105">CodingStructure.h:105</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_af2a1775ef7c9ed678b6892d1f59000a4"><div class="ttname"><a href="structvvenc_1_1Picture.html#af2a1775ef7c9ed678b6892d1f59000a4">vvenc::Picture::isInitDone</a></div><div class="ttdeci">bool isInitDone</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00217">Picture.h:217</a></div></div>
<div class="ttc" id="aclassvvenc_1_1OutputBitstream_html_a0ad94d9c30bf00771fdfbf0dbf206a29"><div class="ttname"><a href="classvvenc_1_1OutputBitstream.html#a0ad94d9c30bf00771fdfbf0dbf206a29">vvenc::OutputBitstream::getNumberOfWrittenBits</a></div><div class="ttdeci">uint32_t getNumberOfWrittenBits() const</div><div class="ttdef"><b>Definition:</b> <a href="BitStream_8h_source.html#l00129">BitStream.h:129</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ae712c51e5029cc6e18d4272f9df547cf"><div class="ttname"><a href="classvvenc_1_1Slice.html#ae712c51e5029cc6e18d4272f9df547cf">vvenc::Slice::isIRAP</a></div><div class="ttdeci">bool isIRAP() const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01284">Slice.h:1284</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncPicture_html_aeb040950e16c86d1161fbd525056cbf9"><div class="ttname"><a href="classvvenc_1_1EncPicture.html#aeb040950e16c86d1161fbd525056cbf9">vvenc::EncPicture::init</a></div><div class="ttdeci">void init(const VVEncCfg &amp;encCfg, std::vector&lt; int &gt; *const globalCtuQpVector, const SPS &amp;sps, const PPS &amp;pps, RateCtrl &amp;rateCtrl, NoMallocThreadPool *threadPool)</div><div class="ttdef"><b>Definition:</b> <a href="EncPicture_8cpp_source.html#l00074">EncPicture.cpp:74</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a0e40c5fb8a37c60628678563bfea6975"><div class="ttname"><a href="structvvenc_1_1Picture.html#a0e40c5fb8a37c60628678563bfea6975">vvenc::Picture::isFinished</a></div><div class="ttdeci">bool isFinished</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00222">Picture.h:222</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ab57f8e24834295cd57389bc9e1784aeb"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ab57f8e24834295cd57389bc9e1784aeb">vvenc::EncGOP::m_seiEncoder</a></div><div class="ttdeci">SEIEncoder m_seiEncoder</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00142">EncGOP.h:142</a></div></div>
<div class="ttc" id="astructvvenc_1_1HRD_html_a723af0ec7f473a1f697a71395006abe3"><div class="ttname"><a href="structvvenc_1_1HRD.html#a723af0ec7f473a1f697a71395006abe3">vvenc::HRD::bufferingPeriodSEI</a></div><div class="ttdeci">SEIBufferingPeriod bufferingPeriodSEI</div><div class="ttdef"><b>Definition:</b> <a href="HRD_8h_source.html#l00158">HRD.h:158</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Analyze_html_abfcb809f82283c26dd6e5854446d0639"><div class="ttname"><a href="classvvenc_1_1Analyze.html#abfcb809f82283c26dd6e5854446d0639">vvenc::Analyze::printOut</a></div><div class="ttdeci">void printOut(char cDelim, const ChromaFormat chFmt, const bool printMSEBasedSNR, const bool printSequenceMSE, const bool printHexPsnr, const BitDepths &amp;bitDepths)</div><div class="ttdef"><b>Definition:</b> <a href="Analyze_8h_source.html#l00151">Analyze.h:151</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ae87acabed6b8f681984cf8c2ec85ef6f"><div class="ttname"><a href="classvvenc_1_1Slice.html#ae87acabed6b8f681984cf8c2ec85ef6f">vvenc::Slice::setDecodingRefreshMarking</a></div><div class="ttdeci">void setDecodingRefreshMarking(int &amp;pocCRA, bool &amp;bRefreshPending, PicList &amp;rcListPic)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00553">Slice.cpp:553</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html_a323f894b86639f571ec7e44fb20fbfea"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html#a323f894b86639f571ec7e44fb20fbfea">vvenc::ParameterSetMap::clearActive</a></div><div class="ttdeci">void clearActive()</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01490">Slice.h:1490</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncPicture_html_a1923d4a8c3829e889669c0524c768843"><div class="ttname"><a href="classvvenc_1_1EncPicture.html#a1923d4a8c3829e889669c0524c768843">vvenc::EncPicture::finalizePicture</a></div><div class="ttdeci">void finalizePicture(Picture &amp;pic)</div><div class="ttdef"><b>Definition:</b> <a href="EncPicture_8cpp_source.html#l00134">EncPicture.cpp:134</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncPicture_html"><div class="ttname"><a href="classvvenc_1_1EncPicture.html">vvenc::EncPicture</a></div><div class="ttdef"><b>Definition:</b> <a href="EncPicture_8h_source.html#l00067">EncPicture.h:67</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ReshapeData_html_ab39ba02b7f7b8d316d4ff7361a216ece"><div class="ttname"><a href="classvvenc_1_1ReshapeData.html#ab39ba02b7f7b8d316d4ff7361a216ece">vvenc::ReshapeData::getFwdLUT</a></div><div class="ttdeci">const Pel * getFwdLUT() const</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8h_source.html#l00096">Reshape.h:96</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a031b560424a262812b0188fc502fa1c1"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a031b560424a262812b0188fc502fa1c1">vvenc::PicHeader::picIntraSliceAllowed</a></div><div class="ttdeci">bool picIntraSliceAllowed</div><div class="ttdoc">intra slice allowed flag in PH</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01043">Slice.h:1043</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ReshapeData_html_aa34afdeb643e7459434ba11e4314ec32"><div class="ttname"><a href="classvvenc_1_1ReshapeData.html#aa34afdeb643e7459434ba11e4314ec32">vvenc::ReshapeData::setCTUFlag</a></div><div class="ttdeci">void setCTUFlag(bool b)</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8h_source.html#l00102">Reshape.h:102</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a4f37629f775549c508f4c5625ae348b3ac2c8f70216b7eb0eba78270e037f9b99"><div class="ttname"><a href="namespacevvenc.html#a4f37629f775549c508f4c5625ae348b3ac2c8f70216b7eb0eba78270e037f9b99">vvenc::PIC_ORIGINAL</a></div><div class="ttdeci">@ PIC_ORIGINAL</div><div class="ttdef"><b>Definition:</b> <a href="CodingStructure_8h_source.html#l00071">CodingStructure.h:71</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a698a46d463e05520421479a1ac78eb05"><div class="ttname"><a href="structvvenc_1_1SPS.html#a698a46d463e05520421479a1ac78eb05">vvenc::SPS::bitDepths</a></div><div class="ttdeci">BitDepths bitDepths</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00723">Slice.h:723</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_aac8f73a2e299ae450db271221a4ea0d8"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#aac8f73a2e299ae450db271221a4ea0d8">vvenc::EncRCPic::finalLambda</a></div><div class="ttdeci">double finalLambda</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00226">RateCtrl.h:226</a></div></div>
<div class="ttc" id="aMD5_8h_html"><div class="ttname"><a href="MD5_8h.html">MD5.h</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a4521994cc996921f223544e09d194ab9"><div class="ttname"><a href="namespacevvenc.html#a4521994cc996921f223544e09d194ab9">vvenc::MAX_INT</a></div><div class="ttdeci">static const int MAX_INT</div><div class="ttdoc">max. value of signed 32-bit integer</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00183">CommonDef.h:183</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a28fa8a875cf8e2fac67b59efcab043b3"><div class="ttname"><a href="namespacevvenc.html#a28fa8a875cf8e2fac67b59efcab043b3">vvenc::toChannelType</a></div><div class="ttdeci">static ChannelType toChannelType(const ComponentID id)</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00780">CommonDef.h:780</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_afc55c7ec70cedfed561118110b384d10"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#afc55c7ec70cedfed561118110b384d10">vvenc::EncGOP::~EncGOP</a></div><div class="ttdeci">virtual ~EncGOP()</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00258">EncGOP.cpp:258</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_a7a04d5f73d609c4a43e2d96b42afdb45"><div class="ttname"><a href="structvvenc_1_1PPS.html#a7a04d5f73d609c4a43e2d96b42afdb45">vvenc::PPS::deblockingFilterTcOffsetDiv2</a></div><div class="ttdeci">int deblockingFilterTcOffsetDiv2[MAX_NUM_COMP]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00919">Slice.h:919</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a46683731edb6c27b7607edf63474308a"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a46683731edb6c27b7607edf63474308a">vvenc::PicHeader::maxMTTDepth</a></div><div class="ttdeci">unsigned maxMTTDepth[3]</div><div class="ttdoc">maximum MTT depth</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01080">Slice.h:1080</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ReshapeData_html_a1ba82b1bdabc365ecbbe78550d924bd1"><div class="ttname"><a href="classvvenc_1_1ReshapeData.html#a1ba82b1bdabc365ecbbe78550d924bd1">vvenc::ReshapeData::copyReshapeData</a></div><div class="ttdeci">void copyReshapeData(const ReshapeData &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8h_source.html#l00094">Reshape.h:94</a></div></div>
<div class="ttc" id="astructvvenc_1_1ReferencePictureList_html_afe3ce0d7b8a022a1e32fccff9785d86e"><div class="ttname"><a href="structvvenc_1_1ReferencePictureList.html#afe3ce0d7b8a022a1e32fccff9785d86e">vvenc::ReferencePictureList::numberOfActivePictures</a></div><div class="ttdeci">int numberOfActivePictures</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00099">Slice.h:99</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a1a8e30a30c5385c4bff3aeae61f3fdbd"><div class="ttname"><a href="classvvenc_1_1Slice.html#a1a8e30a30c5385c4bff3aeae61f3fdbd">vvenc::Slice::colFromL0Flag</a></div><div class="ttdeci">bool colFromL0Flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01237">Slice.h:1237</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_ad445b3e13a842970b96d5b0ffea57892"><div class="ttname"><a href="structvvenc_1_1SPS.html#ad445b3e13a842970b96d5b0ffea57892">vvenc::SPS::dualITree</a></div><div class="ttdeci">unsigned dualITree</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00707">Slice.h:707</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ae1bbbd55def18448ddeabb935a7737b6"><div class="ttname"><a href="classvvenc_1_1Slice.html#ae1bbbd55def18448ddeabb935a7737b6">vvenc::Slice::numRefIdx</a></div><div class="ttdeci">int numRefIdx[NUM_REF_PIC_LIST_01]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01215">Slice.h:1215</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a70644c68e3742f868ad13db685037092"><div class="ttname"><a href="structvvenc_1_1Picture.html#a70644c68e3742f868ad13db685037092">vvenc::Picture::seqBaseQp</a></div><div class="ttdeci">int seqBaseQp</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00254">Picture.h:254</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_a953c92dc83b4f607318ac81c83190541"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#a953c92dc83b4f607318ac81c83190541">vvenc::HLSWriter::codeSPS</a></div><div class="ttdeci">void codeSPS(const SPS *pcSPS)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8cpp_source.html#l00683">VLCWriter.cpp:683</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_ac77b590e38a8e565a52609ab911451d1"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#ac77b590e38a8e565a52609ab911451d1">vvenc::EncRCSeq::bitDepth</a></div><div class="ttdeci">int bitDepth</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00140">RateCtrl.h:140</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a64065a84a8249e4e0b7b78c07eccdee6"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a64065a84a8249e4e0b7b78c07eccdee6">vvenc::EncRCSeq::getLeftAverageBits</a></div><div class="ttdeci">int getLeftAverageBits()</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00118">RateCtrl.h:118</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a3682542a44a1fea195bb92bd22513e44"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a3682542a44a1fea195bb92bd22513e44">vvenc::PicHeader::minQTSize</a></div><div class="ttdeci">unsigned minQTSize[3]</div><div class="ttdoc">minimum quad-tree size 0: I slice luma; 1: P/B slice; 2: I slice chroma</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01079">Slice.h:1079</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_a629ec9ecf9a6f29222d0e149bf1573c2"><div class="ttname"><a href="structvvenc_1_1PPS.html#a629ec9ecf9a6f29222d0e149bf1573c2">vvenc::PPS::picHeightInLumaSamples</a></div><div class="ttdeci">uint32_t picHeightInLumaSamples</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00929">Slice.h:929</a></div></div>
<div class="ttc" id="astructvvenc_1_1VPS_html_a947ca21b9a6514246c4e86c75a297b3c"><div class="ttname"><a href="structvvenc_1_1VPS.html#a947ca21b9a6514246c4e86c75a297b3c">vvenc::VPS::layerId</a></div><div class="ttdeci">uint32_t layerId[MAX_VPS_LAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00462">Slice.h:462</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncReshape_html_a559f3dfabbc2cdbceda94560e197f917"><div class="ttname"><a href="classvvenc_1_1EncReshape.html#a559f3dfabbc2cdbceda94560e197f917">vvenc::EncReshape::preAnalyzerHDR</a></div><div class="ttdeci">void preAnalyzerHDR(Picture &amp;pic, const SliceType sliceType, const vvencReshapeCW &amp;reshapeCW)</div><div class="ttdef"><b>Definition:</b> <a href="EncReshape_8cpp_source.html#l00166">EncReshape.cpp:166</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a166b361eddf214b13bba8bb03218a165"><div class="ttname"><a href="structvvenc_1_1Picture.html#a166b361eddf214b13bba8bb03218a165">vvenc::Picture::rcIdxInGop</a></div><div class="ttdeci">int rcIdxInGop</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00231">Picture.h:231</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_a3533e7cd37c114fde8393c386f11937b"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#a3533e7cd37c114fde8393c386f11937b">vvenc::HLSWriter::codeAPS</a></div><div class="ttdeci">void codeAPS(const APS *pcAPS)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8cpp_source.html#l00407">VLCWriter.cpp:407</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a836fec3af83301fd63c4b7dd1aeaccdf"><div class="ttname"><a href="structvvenc_1_1SPS.html#a836fec3af83301fd63c4b7dd1aeaccdf">vvenc::SPS::lumaReshapeEnable</a></div><div class="ttdeci">bool lumaReshapeEnable</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00789">Slice.h:789</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a0af3b03af999b3b41480e6ba7071f36a"><div class="ttname"><a href="structvvenc_1_1Picture.html#a0af3b03af999b3b41480e6ba7071f36a">vvenc::Picture::dci</a></div><div class="ttdeci">const DCI * dci</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00208">Picture.h:208</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_a9d7e888358ff7d5d21ff0fc8aeb20a50"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#a9d7e888358ff7d5d21ff0fc8aeb20a50">vvenc::HLSWriter::codePPS</a></div><div class="ttdeci">void codePPS(const PPS *pcPPS, const SPS *pcSPS)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8cpp_source.html#l00257">VLCWriter.cpp:257</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncPicture_html_adafc43c6c00ae8e13fb55905dc161537"><div class="ttname"><a href="classvvenc_1_1EncPicture.html#adafc43c6c00ae8e13fb55905dc161537">vvenc::EncPicture::m_ctuTasksDoneCounter</a></div><div class="ttdeci">WaitCounter m_ctuTasksDoneCounter</div><div class="ttdef"><b>Definition:</b> <a href="EncPicture_8h_source.html#l00081">EncPicture.h:81</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a1065ad08df915fe372b9f0d1ea865788"><div class="ttname"><a href="structvvenc_1_1SPS.html#a1065ad08df915fe372b9f0d1ea865788">vvenc::SPS::IBC</a></div><div class="ttdeci">bool IBC</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00785">Slice.h:785</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a131c8a3a388b8389d3433e1b60300d61"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a131c8a3a388b8389d3433e1b60300d61">vvenc::EncGOP::xWriteSEISeparately</a></div><div class="ttdeci">void xWriteSEISeparately(vvencNalUnitType naluType, SEIMessages &amp;seiMessages, AccessUnitList &amp;accessUnit, AccessUnitList::iterator &amp;auPos, int temporalId, const SPS *sps)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01665">EncGOP.cpp:1665</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f"><div class="ttname"><a href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384aa88066480c98761d3cc63fbcb164ac1f">vvenc::REF_PIC_LIST_1</a></div><div class="ttdeci">@ REF_PIC_LIST_1</div><div class="ttdoc">reference list 1</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00356">TypeDef.h:356</a></div></div>
<div class="ttc" id="anamespacevvenc_html_adb1eeab1fc3b671e5bce71e1c9053d18"><div class="ttname"><a href="namespacevvenc.html#adb1eeab1fc3b671e5bce71e1c9053d18">vvenc::trySkipOrDecodePicture</a></div><div class="ttdeci">void trySkipOrDecodePicture(bool &amp;decPic, bool &amp;encPic, const VVEncCfg &amp;cfg, Picture *pic, FFwdDecoder &amp;ffwdDecoder, ParameterSetMap&lt; APS &gt; &amp;apsMap)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00130">EncGOP.cpp:130</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_af1fa96a850f404aded578d3e29dedbcb"><div class="ttname"><a href="classvvenc_1_1Slice.html#af1fa96a850f404aded578d3e29dedbcb">vvenc::Slice::poc</a></div><div class="ttdeci">int poc</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01185">Slice.h:1185</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_aebf7716c3a56bb979162b37c9134214c"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#aebf7716c3a56bb979162b37c9134214c">vvenc::EncRCSeq::firstPassData</a></div><div class="ttdeci">std::list&lt; TRCPassStats &gt; firstPassData</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00152">RateCtrl.h:152</a></div></div>
<div class="ttc" id="astructvvenc_1_1WaitCounter_html_aa7816bec6ffd5b8d516245f89ebabf53"><div class="ttname"><a href="structvvenc_1_1WaitCounter.html#aa7816bec6ffd5b8d516245f89ebabf53">vvenc::WaitCounter::done</a></div><div class="ttdeci">Barrier done</div><div class="ttdef"><b>Definition:</b> <a href="NoMallocThreadPool_8h_source.html#l00223">NoMallocThreadPool.h:223</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a223bbd9ce719d2ca5b4551d52e174c0c"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a223bbd9ce719d2ca5b4551d52e174c0c">vvenc::PicHeader::spsId</a></div><div class="ttdeci">int spsId</div><div class="ttdoc">sequence parameter set ID</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01028">Slice.h:1028</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_a62da06f3dacb4dfdb0b1bfe66132d3d5"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#a62da06f3dacb4dfdb0b1bfe66132d3d5">vvenc::EncRCPic::getRefineBitsForIntra</a></div><div class="ttdeci">int getRefineBitsForIntra(int orgBits)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l01081">RateCtrl.cpp:1081</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a3b83d77d88ae40b437627d9b45f4e086"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a3b83d77d88ae40b437627d9b45f4e086">vvenc::EncGOP::xUpdateRasInit</a></div><div class="ttdeci">void xUpdateRasInit(Slice *slice)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00556">EncGOP.cpp:556</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a8ec4b1bd7507e973ed0d2f4ebd70d8c6"><div class="ttname"><a href="structvvenc_1_1Picture.html#a8ec4b1bd7507e973ed0d2f4ebd70d8c6">vvenc::Picture::vps</a></div><div class="ttdeci">const VPS * vps</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00207">Picture.h:207</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a4dd4cdec729ff680d246883671fd3a4c"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a4dd4cdec729ff680d246883671fd3a4c">vvenc::EncGOP::xIsSliceTemporalSwitchingPoint</a></div><div class="ttdeci">bool xIsSliceTemporalSwitchingPoint(const Slice *slice, PicList &amp;picList, int gopId) const</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00657">EncGOP.cpp:657</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_a313a1bced10809216ecc44db7536c4c6"><div class="ttname"><a href="structvvenc_1_1APS.html#a313a1bced10809216ecc44db7536c4c6">vvenc::APS::apsType</a></div><div class="ttdeci">uint32_t apsType</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00981">Slice.h:981</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a65f367eacfb22811464a0a5379ffc72e"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a65f367eacfb22811464a0a5379ffc72e">vvenc::EncRCSeq::actualBitCnt</a></div><div class="ttdeci">uint64_t actualBitCnt[8]</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00145">RateCtrl.h:145</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a5867829edd40f1f59a6ad740bbd6b317"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a5867829edd40f1f59a6ad740bbd6b317">vvenc::EncGOP::xUpdateAfterPicRC</a></div><div class="ttdeci">void xUpdateAfterPicRC(const Picture *pic)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01850">EncGOP.cpp:1850</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_aad35fc85fff0a753627ea3ff5192834c"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#aad35fc85fff0a753627ea3ff5192834c">vvenc::EncRCSeq::lastIntraQP</a></div><div class="ttdeci">int lastIntraQP</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00148">RateCtrl.h:148</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_abf1a8b43357468a369a08f71ff4bdd88"><div class="ttname"><a href="structvvenc_1_1Picture.html#abf1a8b43357468a369a08f71ff4bdd88">vvenc::Picture::getPOC</a></div><div class="ttdeci">int getPOC() const</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00157">Picture.h:157</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_aee021e1a0b2774638746e6e9e76a5519"><div class="ttname"><a href="structvvenc_1_1Picture.html#aee021e1a0b2774638746e6e9e76a5519">vvenc::Picture::getRecoBuf</a></div><div class="ttdeci">PelBuf getRecoBuf(const ComponentID compID)</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00166">Picture.h:166</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a258d3cda3d572c3f9f8d074846658a78"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a258d3cda3d572c3f9f8d074846658a78">vvenc::EncRCSeq::averageBits</a></div><div class="ttdeci">int averageBits</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00133">RateCtrl.h:133</a></div></div>
<div class="ttc" id="astructvvenc_1_1FFwdDecoder_html_af7313f60c7a46e6d9b5e6ab9c4c603e2"><div class="ttname"><a href="structvvenc_1_1FFwdDecoder.html#af7313f60c7a46e6d9b5e6ab9c4c603e2">vvenc::FFwdDecoder::bHitFastForwardPOC</a></div><div class="ttdeci">bool bHitFastForwardPOC</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00088">EncGOP.h:88</a></div></div>
<div class="ttc" id="adtrace__buffer_8h_html"><div class="ttname"><a href="dtrace__buffer_8h.html">dtrace_buffer.h</a></div><div class="ttdoc">Easy to use dtrace calls concerning buffers.</div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a82964fb10988db50bfe4a360391a0717"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a82964fb10988db50bfe4a360391a0717">vvenc::EncGOP::xInitSliceMvdL1Zero</a></div><div class="ttdeci">void xInitSliceMvdL1Zero(PicHeader *picHeader, const Slice *slice)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01103">EncGOP.cpp:1103</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a8ec4b1bd7507e973ed0d2f4ebd70d8c6"><div class="ttname"><a href="classvvenc_1_1Slice.html#a8ec4b1bd7507e973ed0d2f4ebd70d8c6">vvenc::Slice::vps</a></div><div class="ttdeci">const VPS * vps</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01231">Slice.h:1231</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a306c1d7f4f6833176d12c84d77b9b412"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a306c1d7f4f6833176d12c84d77b9b412">vvenc::EncRCSeq::twoPass</a></div><div class="ttdeci">bool twoPass</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00123">RateCtrl.h:123</a></div></div>
<div class="ttc" id="astructvvenc_1_1StopClock_html_a9e481d76483d52040759b84bb09cbe53"><div class="ttname"><a href="structvvenc_1_1StopClock.html#a9e481d76483d52040759b84bb09cbe53">vvenc::StopClock::getTimerInSec</a></div><div class="ttdeci">int getTimerInSec() const</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00106">Picture.h:106</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_acb136a955dd575629bf5c387dd4dfd1b"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#acb136a955dd575629bf5c387dd4dfd1b">vvenc::PicHeader::disProfFlag</a></div><div class="ttdeci">bool disProfFlag</div><div class="ttdoc">picture level PROF disable flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01057">Slice.h:1057</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_ab86d36bba9a3e545df27b97373549691"><div class="ttname"><a href="structvvenc_1_1Picture.html#ab86d36bba9a3e545df27b97373549691">vvenc::Picture::isReferenced</a></div><div class="ttdeci">bool isReferenced</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00220">Picture.h:220</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a1054939d2c73762f8b2e4d1d905cf52c"><div class="ttname"><a href="classvvenc_1_1Slice.html#a1054939d2c73762f8b2e4d1d905cf52c">vvenc::Slice::tileGroupCcAlfCbApsId</a></div><div class="ttdeci">int tileGroupCcAlfCbApsId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01258">Slice.h:1258</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ReshapeData_html_a96d54e4e261b10dafccd9109787fd3a5"><div class="ttname"><a href="classvvenc_1_1ReshapeData.html#a96d54e4e261b10dafccd9109787fd3a5">vvenc::ReshapeData::getSliceReshaperInfo</a></div><div class="ttdeci">LmcsParam &amp; getSliceReshaperInfo()</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8h_source.html#l00107">Reshape.h:107</a></div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html_a9f42bf2ad9de6fce9ed88e35a325d442"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html#a9f42bf2ad9de6fce9ed88e35a325d442">vvenc::RateCtrl::flushPOC</a></div><div class="ttdeci">int flushPOC</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00278">RateCtrl.h:278</a></div></div>
<div class="ttc" id="astructvvenc_1_1DCI_html_a6c944a302eb0bd6a4c2c974e0e6ab0ea"><div class="ttname"><a href="structvvenc_1_1DCI.html#a6c944a302eb0bd6a4c2c974e0e6ab0ea">vvenc::DCI::dciId</a></div><div class="ttdeci">uint32_t dciId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00451">Slice.h:451</a></div></div>
<div class="ttc" id="anamespacevvenc_html_af483359f17deab82472b16da461a9a0f"><div class="ttname"><a href="namespacevvenc.html#af483359f17deab82472b16da461a9a0f">vvenc::ComponentID</a></div><div class="ttdeci">ComponentID</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00222">TypeDef.h:222</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIEncoder_html_aeb24fbabb5325ee9456ec5351cd4e523"><div class="ttname"><a href="classvvenc_1_1SEIEncoder.html#aeb24fbabb5325ee9456ec5351cd4e523">vvenc::SEIEncoder::initDecodedPictureHashSEI</a></div><div class="ttdeci">void initDecodedPictureHashSEI(SEIDecodedPictureHash &amp;dphSei, const CPelUnitBuf &amp;pic, std::string &amp;rHashString, const BitDepths &amp;bitDepths)</div><div class="ttdoc">calculate hashes for entire reconstructed picture</div><div class="ttdef"><b>Definition:</b> <a href="SEIEncoder_8cpp_source.html#l00202">SEIEncoder.cpp:202</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a77595e65f2f2cfeba44ad6c366f713fb"><div class="ttname"><a href="classvvenc_1_1Slice.html#a77595e65f2f2cfeba44ad6c366f713fb">vvenc::Slice::lmChromaCheckDisable</a></div><div class="ttdeci">bool lmChromaCheckDisable</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01219">Slice.h:1219</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a99e4518afd7427cb0593395f90afb0f8"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a99e4518afd7427cb0593395f90afb0f8">vvenc::PicHeader::splitConsOverride</a></div><div class="ttdeci">bool splitConsOverride</div><div class="ttdoc">partitioning constraint override flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01044">Slice.h:1044</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html"><div class="ttname"><a href="structvvenc_1_1PicHeader.html">vvenc::PicHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01016">Slice.h:1016</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html_ab5c0a595479940edd4352a0748ef6791"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html#ab5c0a595479940edd4352a0748ef6791">vvenc::ParameterSetMap::getPS</a></div><div class="ttdeci">T * getPS(int psId)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01472">Slice.h:1472</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_abdbbd6cc7b7262c5f736b69029aec133"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#abdbbd6cc7b7262c5f736b69029aec133">vvenc::EncGOP::m_bFirstWrite</a></div><div class="ttdeci">bool m_bFirstWrite</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00128">EncGOP.h:128</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a999dcdfe3c47f8f17807794fd905536a"><div class="ttname"><a href="structvvenc_1_1SPS.html#a999dcdfe3c47f8f17807794fd905536a">vvenc::SPS::maxTTSize</a></div><div class="ttdeci">unsigned maxTTSize[3]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00705">Slice.h:705</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a236d4df466d83fdf0a6a81d6537bd3fc"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a236d4df466d83fdf0a6a81d6537bd3fc">vvenc::PicHeader::disBdofFlag</a></div><div class="ttdeci">bool disBdofFlag</div><div class="ttdoc">picture level BDOF disable flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01055">Slice.h:1055</a></div></div>
<div class="ttc" id="aTypeDef_8h_html_a1644a589f6466e6ce533230a841fc96a"><div class="ttname"><a href="TypeDef_8h.html#a1644a589f6466e6ce533230a841fc96a">CHROMA_400</a></div><div class="ttdeci">#define CHROMA_400</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00209">TypeDef.h:209</a></div></div>
<div class="ttc" id="anamespacevvenc_html_aa6703e40dff9faf6b5655472e130a512"><div class="ttname"><a href="namespacevvenc.html#aa6703e40dff9faf6b5655472e130a512">vvenc::getComponentScaleY</a></div><div class="ttdeci">static uint32_t getComponentScaleY(const ComponentID id, const ChromaFormat fmt)</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00784">CommonDef.h:784</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_af671e643fcbb19af8b0cf8aa94657716"><div class="ttname"><a href="structvvenc_1_1SPS.html#af671e643fcbb19af8b0cf8aa94657716">vvenc::SPS::chromaFormatIdc</a></div><div class="ttdeci">ChromaFormat chromaFormatIdc</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00676">Slice.h:676</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a4b8a6866b7ca3b758d7fa57dd622c0ff"><div class="ttname"><a href="namespacevvenc.html#a4b8a6866b7ca3b758d7fa57dd622c0ff">vvenc::tryDecodePicture</a></div><div class="ttdeci">bool tryDecodePicture(Picture *pcEncPic, const int expectedPoc, const std::string &amp;bitstreamFileName, FFwdDecoder &amp;ffwdDecoder, ParameterSetMap&lt; APS &gt; *apsMap, bool bDecodeUntilPocFound, int debugPOC, bool copyToEnc)</div><div class="ttdef"><b>Definition:</b> <a href="DecLib_8cpp_source.html#l00078">DecLib.cpp:78</a></div></div>
<div class="ttc" id="astructvvenc_1_1StopClock_html_aec53975ffc59ffaf3080db21af0d2f6e"><div class="ttname"><a href="structvvenc_1_1StopClock.html#aec53975ffc59ffaf3080db21af0d2f6e">vvenc::StopClock::startTimer</a></div><div class="ttdeci">void startTimer()</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00108">Picture.h:108</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a19a96edeeb9d37072c4ce9f862d19ba8a6b0616d0bcb1e796289f0f100bc9131a"><div class="ttname"><a href="namespacevvenc.html#a19a96edeeb9d37072c4ce9f862d19ba8a6b0616d0bcb1e796289f0f100bc9131a">vvenc::CH_C</a></div><div class="ttdeci">@ CH_C</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00218">TypeDef.h:218</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a5a74dc0f67a681a941ac4dd7a5fc88b7"><div class="ttname"><a href="classvvenc_1_1Slice.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">vvenc::Slice::colRefIdx</a></div><div class="ttdeci">uint32_t colRefIdx</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01238">Slice.h:1238</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a0abcb1f18752aeaeed142a6b9aff7f82"><div class="ttname"><a href="structvvenc_1_1Picture.html#a0abcb1f18752aeaeed142a6b9aff7f82">vvenc::Picture::getRspOrigBuf</a></div><div class="ttdeci">PelUnitBuf getRspOrigBuf()</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00185">Picture.h:185</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a6f5528f0409fc16b374f4ba2980b48aa"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a6f5528f0409fc16b374f4ba2980b48aa">vvenc::EncGOP::picInitRateControl</a></div><div class="ttdeci">void picInitRateControl(int gopId, Picture &amp;pic, Slice *slice, EncPicture *picEncoder)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01740">EncGOP.cpp:1740</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ae599e53f303dfb53f417ba15c0b57669"><div class="ttname"><a href="classvvenc_1_1Slice.html#ae599e53f303dfb53f417ba15c0b57669">vvenc::Slice::getRefPic</a></div><div class="ttdeci">const Picture * getRefPic(RefPicList e, int iRefIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01278">Slice.h:1278</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_a0e1c2db91acb465a517c2668fe404d88"><div class="ttname"><a href="structvvenc_1_1APS.html#a0e1c2db91acb465a517c2668fe404d88">vvenc::APS::ccAlfParam</a></div><div class="ttdeci">CcAlfFilterParam ccAlfParam</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00984">Slice.h:984</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_a689318902eb8611be25e962daf89f325"><div class="ttname"><a href="structvvenc_1_1APS.html#a689318902eb8611be25e962daf89f325">vvenc::APS::temporalId</a></div><div class="ttdeci">int temporalId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00979">Slice.h:979</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a87eba139fb9dadc5e1d20b8d4a2c1d14"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a87eba139fb9dadc5e1d20b8d4a2c1d14">vvenc::EncGOP::m_BlkStat</a></div><div class="ttdeci">BlkStat m_BlkStat</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00144">EncGOP.h:144</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a7a04d5f73d609c4a43e2d96b42afdb45"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a7a04d5f73d609c4a43e2d96b42afdb45">vvenc::PicHeader::deblockingFilterTcOffsetDiv2</a></div><div class="ttdeci">int deblockingFilterTcOffsetDiv2[MAX_NUM_COMP]</div><div class="ttdoc">tc offset for deblocking filter</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01071">Slice.h:1071</a></div></div>
<div class="ttc" id="astructvvenc_1_1Area_html"><div class="ttname"><a href="structvvenc_1_1Area.html">vvenc::Area</a></div><div class="ttdef"><b>Definition:</b> <a href="Common_8h_source.html#l00093">Common.h:93</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a96a38380c8282d2995af690262793375"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a96a38380c8282d2995af690262793375">vvenc::PicHeader::picColFromL0</a></div><div class="ttdeci">bool picColFromL0</div><div class="ttdoc">syntax element collocated_from_l0_flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01050">Slice.h:1050</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Reshape_html_ae00b0e814ec1507a20a10bd95e8319ba"><div class="ttname"><a href="classvvenc_1_1Reshape.html#ae00b0e814ec1507a20a10bd95e8319ba">vvenc::Reshape::updateReshapeLumaLevelToWeightTable</a></div><div class="ttdeci">void updateReshapeLumaLevelToWeightTable(LmcsParam &amp;sliceReshape, Pel *wtTable, double cwt)</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8cpp_source.html#l00278">Reshape.cpp:278</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ac3e8dc71f2ac043cc9142e1b1205491c"><div class="ttname"><a href="classvvenc_1_1Slice.html#ac3e8dc71f2ac043cc9142e1b1205491c">vvenc::Slice::nuhLayerId</a></div><div class="ttdeci">uint32_t nuhLayerId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01200">Slice.h:1200</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a50bbd78bc67e4ea27b0e424823b93e84"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a50bbd78bc67e4ea27b0e424823b93e84">vvenc::EncRCSeq::lastIntraLambda</a></div><div class="ttdeci">double lastIntraLambda</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00147">RateCtrl.h:147</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Reshape_html_a90d118055a8c2b48d26417568e0d07e7"><div class="ttname"><a href="classvvenc_1_1Reshape.html#a90d118055a8c2b48d26417568e0d07e7">vvenc::Reshape::getReshapeFlag</a></div><div class="ttdeci">bool getReshapeFlag() const</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8h_source.html#l00141">Reshape.h:141</a></div></div>
<div class="ttc" id="aclassvvenc_1_1BlkStat_html_ac814e70a0f7defcf2b2b16f9bc2dbe35"><div class="ttname"><a href="classvvenc_1_1BlkStat.html#ac814e70a0f7defcf2b2b16f9bc2dbe35">vvenc::BlkStat::updateMaxBT</a></div><div class="ttdeci">void updateMaxBT(const Slice &amp;slice, const BlkStat &amp;blkStat)</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8cpp_source.html#l00092">Picture.cpp:92</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a06a1b69df3f9529738a436f4b6a479ac"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a06a1b69df3f9529738a436f4b6a479ac">vvenc::EncGOP::xInitSliceTMVPFlag</a></div><div class="ttdeci">void xInitSliceTMVPFlag(PicHeader *picHeader, const Slice *slice, int gopId)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00982">EncGOP.cpp:982</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_af71fe96d9180ae1022ca27e0d90faac0"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#af71fe96d9180ae1022ca27e0d90faac0">vvenc::EncGOP::printOutSummary</a></div><div class="ttdeci">void printOutSummary(int numAllPicCoded, const bool printMSEBasedSNR, const bool printSequenceMSE, const bool printHexPsnr, const BitDepths &amp;bitDepths)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00503">EncGOP.cpp:503</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_adca1f7d76cabf100211aa4cfd98e1ec8"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#adca1f7d76cabf100211aa4cfd98e1ec8">vvenc::EncGOP::m_lastRasPoc</a></div><div class="ttdeci">int m_lastRasPoc</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00133">EncGOP.h:133</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Analyze_html_a1f6824e43ad6a371787f59c318f3170d"><div class="ttname"><a href="classvvenc_1_1Analyze.html#a1f6824e43ad6a371787f59c318f3170d">vvenc::Analyze::printSummary</a></div><div class="ttdeci">void printSummary(const ChromaFormat chFmt, const bool printSequenceMSE, const bool printHexPsnr, const BitDepths &amp;bitDepths, const std::string &amp;sFilename)</div><div class="ttdef"><b>Definition:</b> <a href="Analyze_8h_source.html#l00415">Analyze.h:415</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a593aab4c0ea65f4f654fa7f6031fb0b7"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a593aab4c0ea65f4f654fa7f6031fb0b7">vvenc::EncRCSeq::bitsUsed</a></div><div class="ttdeci">int64_t bitsUsed</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00141">RateCtrl.h:141</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a7ad51fe755589200446925da0502af70"><div class="ttname"><a href="classvvenc_1_1Slice.html#a7ad51fe755589200446925da0502af70">vvenc::Slice::independentSliceIdx</a></div><div class="ttdeci">uint32_t independentSliceIdx</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01243">Slice.h:1243</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_afe7aecaa6eaa9c18d8735d345fcd7eff"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#afe7aecaa6eaa9c18d8735d345fcd7eff">vvenc::EncGOP::m_associatedIRAPPOC</a></div><div class="ttdeci">int m_associatedIRAPPOC</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00136">EncGOP.h:136</a></div></div>
<div class="ttc" id="aclassvvenc_1_1OutputBitstream_html"><div class="ttname"><a href="classvvenc_1_1OutputBitstream.html">vvenc::OutputBitstream</a></div><div class="ttdef"><b>Definition:</b> <a href="BitStream_8h_source.html#l00068">BitStream.h:68</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a2487e6c4ee0e4106a128c09f68105170"><div class="ttname"><a href="structvvenc_1_1Picture.html#a2487e6c4ee0e4106a128c09f68105170">vvenc::Picture::reshapeData</a></div><div class="ttdeci">ReshapeData reshapeData</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00211">Picture.h:211</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html_ae6f836c3eb674938789363268f920a4c"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html#ae6f836c3eb674938789363268f920a4c">vvenc::ParameterSetMap::getChangedFlag</a></div><div class="ttdeci">bool getChangedFlag(int psId) const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01462">Slice.h:1462</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_af1fa96a850f404aded578d3e29dedbcb"><div class="ttname"><a href="structvvenc_1_1APS.html#af1fa96a850f404aded578d3e29dedbcb">vvenc::APS::poc</a></div><div class="ttdeci">int poc</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00987">Slice.h:987</a></div></div>
<div class="ttc" id="aSEI_8h_html"><div class="ttname"><a href="SEI_8h.html">SEI.h</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a34bf84a00862829eae9bd39d0b980b6d"><div class="ttname"><a href="structvvenc_1_1Picture.html#a34bf84a00862829eae9bd39d0b980b6d">vvenc::Picture::encTime</a></div><div class="ttdeci">StopClock encTime</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00247">Picture.h:247</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html_a01d7c66f790821738dd9333b2721d320"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html#a01d7c66f790821738dd9333b2721d320">vvenc::ParameterSetMap::allocatePS</a></div><div class="ttdeci">T * allocatePS(const int psId)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01368">Slice.h:1368</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a75027878ba07c729f99e49e63d3495d9"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a75027878ba07c729f99e49e63d3495d9">vvenc::PicHeader::lmcsEnabled</a></div><div class="ttdeci">bool lmcsEnabled</div><div class="ttdoc">lmcs enabled flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01072">Slice.h:1072</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a75027878ba07c729f99e49e63d3495d9"><div class="ttname"><a href="classvvenc_1_1Slice.html#a75027878ba07c729f99e49e63d3495d9">vvenc::Slice::lmcsEnabled</a></div><div class="ttdeci">bool lmcsEnabled</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01205">Slice.h:1205</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ac70e95d20214f12812dae42fb3be7da2"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ac70e95d20214f12812dae42fb3be7da2">vvenc::EncGOP::xWriteDCI</a></div><div class="ttdeci">int xWriteDCI(AccessUnitList &amp;accessUnit, const DCI *dci, HLSWriter &amp;hlsWriter)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01598">EncGOP.cpp:1598</a></div></div>
<div class="ttc" id="astructvvenc_1_1OutputNALUnit_html_a2dc417b57418b06fd7f29e49ae2e604c"><div class="ttname"><a href="structvvenc_1_1OutputNALUnit.html#a2dc417b57418b06fd7f29e49ae2e604c">vvenc::OutputNALUnit::m_Bitstream</a></div><div class="ttdeci">OutputBitstream m_Bitstream</div><div class="ttdef"><b>Definition:</b> <a href="NALwrite_8h_source.html#l00084">NALwrite.h:84</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCGOP_html_a1c0b9204320936cee8de0940ee484836"><div class="ttname"><a href="classvvenc_1_1EncRCGOP.html#a1c0b9204320936cee8de0940ee484836">vvenc::EncRCGOP::updateAfterPicture</a></div><div class="ttdeci">void updateAfterPicture(int bitsCost)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l00558">RateCtrl.cpp:558</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html">vvenc::HLSWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8h_source.html#l00112">VLCWriter.h:112</a></div></div>
<div class="ttc" id="aUnitTools_8h_html"><div class="ttname"><a href="UnitTools_8h.html">UnitTools.h</a></div></div>
<div class="ttc" id="anamespacevvenc_1_1BitAllocation_html_a93a44432a10df09608954892661f7c8a"><div class="ttname"><a href="namespacevvenc_1_1BitAllocation.html#a93a44432a10df09608954892661f7c8a">vvenc::BitAllocation::getPicVisualActivity</a></div><div class="ttdeci">double getPicVisualActivity(const Slice *slice, const VVEncCfg *encCfg)</div><div class="ttdef"><b>Definition:</b> <a href="BitAllocation_8cpp_source.html#l00633">BitAllocation.cpp:633</a></div></div>
<div class="ttc" id="aTypeDef_8h_html_a70dfa957a71cae40f75782ea972c130e"><div class="ttname"><a href="TypeDef_8h.html#a70dfa957a71cae40f75782ea972c130e">ChromaFormat</a></div><div class="ttdeci">vvencChromaFormat ChromaFormat</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00068">TypeDef.h:68</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_af274efb2bbd269e92efbcbe25bcd2fcf"><div class="ttname"><a href="structvvenc_1_1PPS.html#af274efb2bbd269e92efbcbe25bcd2fcf">vvenc::PPS::mixedNaluTypesInPic</a></div><div class="ttdeci">bool mixedNaluTypesInPic</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00927">Slice.h:927</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_afe8d1d255565fc548a6857ccad653219"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#afe8d1d255565fc548a6857ccad653219">vvenc::EncGOP::xInitFirstSlice</a></div><div class="ttdeci">void xInitFirstSlice(Picture &amp;pic, PicList &amp;picList, bool isEncodeLtRef)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00747">EncGOP.cpp:747</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncPicture_html_a259f3225da742367b2a990820c88aacc"><div class="ttname"><a href="classvvenc_1_1EncPicture.html#a259f3225da742367b2a990820c88aacc">vvenc::EncPicture::skipCompressPicture</a></div><div class="ttdeci">void skipCompressPicture(Picture &amp;pic, ParameterSetMap&lt; APS &gt; &amp;shrdApsMap)</div><div class="ttdef"><b>Definition:</b> <a href="EncPicture_8cpp_source.html#l00260">EncPicture.cpp:260</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a61daa598ecb88e581bdadad44299087a"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a61daa598ecb88e581bdadad44299087a">vvenc::EncGOP::m_AnalyzeP</a></div><div class="ttdeci">Analyze m_AnalyzeP</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00124">EncGOP.h:124</a></div></div>
<div class="ttc" id="anamespacevvenc_html_afdcc3f5f4435932506df86e4f2ca6b90"><div class="ttname"><a href="namespacevvenc.html#afdcc3f5f4435932506df86e4f2ca6b90">vvenc::msg</a></div><div class="ttdeci">void msg(int level, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00593">CommonDef.h:593</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a8c45147b058d76b8f04cd33cbc7a78bd"><div class="ttname"><a href="structvvenc_1_1Picture.html#a8c45147b058d76b8f04cd33cbc7a78bd">vvenc::Picture::actualHeadBits</a></div><div class="ttdeci">int actualHeadBits</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00255">Picture.h:255</a></div></div>
<div class="ttc" id="aclassvvenc_1_1CodingStructure_html_a5ce4476d29757a7fc5717358cc353003"><div class="ttname"><a href="classvvenc_1_1CodingStructure.html#a5ce4476d29757a7fc5717358cc353003">vvenc::CodingStructure::allocateVectorsAtPicLevel</a></div><div class="ttdeci">void allocateVectorsAtPicLevel()</div><div class="ttdef"><b>Definition:</b> <a href="CodingStructure_8cpp_source.html#l00588">CodingStructure.cpp:588</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a0e353762d486d76a4e658716b9c94275"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a0e353762d486d76a4e658716b9c94275">vvenc::EncGOP::xWriteSPS</a></div><div class="ttdeci">int xWriteSPS(AccessUnitList &amp;accessUnit, const SPS *sps, HLSWriter &amp;hlsWriter)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01613">EncGOP.cpp:1613</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a2a4814950acdf4a610adacb0f7417d8d"><div class="ttname"><a href="namespacevvenc.html#a2a4814950acdf4a610adacb0f7417d8d">vvenc::getComponentScaleX</a></div><div class="ttdeci">static uint32_t getComponentScaleX(const ComponentID id, const ChromaFormat fmt)</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00783">CommonDef.h:783</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIEncoder_html_a919f0dd1c03522dc87320364c8d73890"><div class="ttname"><a href="classvvenc_1_1SEIEncoder.html#a919f0dd1c03522dc87320364c8d73890">vvenc::SEIEncoder::initSEIAlternativeTransferCharacteristics</a></div><div class="ttdeci">void initSEIAlternativeTransferCharacteristics(SEIAlternativeTransferCharacteristics *seiAltTransCharacteristics)</div><div class="ttdef"><b>Definition:</b> <a href="SEIEncoder_8cpp_source.html#l00494">SEIEncoder.cpp:494</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a67196f9b735e90d7baded699a646116b"><div class="ttname"><a href="classvvenc_1_1Slice.html#a67196f9b735e90d7baded699a646116b">vvenc::Slice::tileGroupCcAlfCrEnabled</a></div><div class="ttdeci">bool tileGroupCcAlfCrEnabled</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01257">Slice.h:1257</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Analyze_html_a804404925d6e0831df458263e382f62b"><div class="ttname"><a href="classvvenc_1_1Analyze.html#a804404925d6e0831df458263e382f62b">vvenc::Analyze::setFrmRate</a></div><div class="ttdeci">void setFrmRate(double dFrameRate)</div><div class="ttdef"><b>Definition:</b> <a href="Analyze_8h_source.html#l00103">Analyze.h:103</a></div></div>
<div class="ttc" id="astructvvenc_1_1OutputNALUnit_html"><div class="ttname"><a href="structvvenc_1_1OutputNALUnit.html">vvenc::OutputNALUnit</a></div><div class="ttdef"><b>Definition:</b> <a href="NALwrite_8h_source.html#l00062">NALwrite.h:62</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_af13ed6fd5b7094b94e05a6a2745cbbb4"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#af13ed6fd5b7094b94e05a6a2745cbbb4">vvenc::EncGOP::m_Reshaper</a></div><div class="ttdeci">EncReshape m_Reshaper</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00143">EncGOP.h:143</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ab0c8b82bde894dcef8a3a6c05fa13836"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ab0c8b82bde894dcef8a3a6c05fa13836">vvenc::EncGOP::xAttachSliceDataToNalUnit</a></div><div class="ttdeci">void xAttachSliceDataToNalUnit(OutputNALUnit &amp;rNalu, const OutputBitstream *pcBitstreamRedirect)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01688">EncGOP.cpp:1688</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ad81158cf6b63232a127a0f9e4cb73234"><div class="ttname"><a href="classvvenc_1_1Slice.html#ad81158cf6b63232a127a0f9e4cb73234">vvenc::Slice::setSMVDParam</a></div><div class="ttdeci">void setSMVDParam()</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00287">Slice.cpp:287</a></div></div>
<div class="ttc" id="anamespacevvenc_html_af483359f17deab82472b16da461a9a0fa18e244a2f61070c3e5c30ace7e26fd50"><div class="ttname"><a href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fa18e244a2f61070c3e5c30ace7e26fd50">vvenc::COMP_Cr</a></div><div class="ttdeci">@ COMP_Cr</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00226">TypeDef.h:226</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_afba20bc078f12be85f54ef89a77e4589"><div class="ttname"><a href="classvvenc_1_1Slice.html#afba20bc078f12be85f54ef89a77e4589">vvenc::Slice::tileGroupCcAlfCrApsId</a></div><div class="ttdeci">int tileGroupCcAlfCrApsId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01259">Slice.h:1259</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a9b2722904763856e460f52b9293db1b2"><div class="ttname"><a href="classvvenc_1_1Slice.html#a9b2722904763856e460f52b9293db1b2">vvenc::Slice::signDataHidingEnabled</a></div><div class="ttdeci">bool signDataHidingEnabled</div><div class="ttdoc">sign data hiding enabled flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01212">Slice.h:1212</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_aad846589ba1ecb7df1fcbf2e937608ce"><div class="ttname"><a href="structvvenc_1_1Picture.html#aad846589ba1ecb7df1fcbf2e937608ce">vvenc::Picture::writePic</a></div><div class="ttdeci">bool writePic</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00225">Picture.h:225</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a9ed1d0d3748ba05c7ecc2757efb8bbc4"><div class="ttname"><a href="classvvenc_1_1Slice.html#a9ed1d0d3748ba05c7ecc2757efb8bbc4">vvenc::Slice::createExplicitReferencePictureSetFromReference</a></div><div class="ttdeci">void createExplicitReferencePictureSetFromReference(PicList &amp;rcListPic, const ReferencePictureList *pRPL0, const ReferencePictureList *pRPL1)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l01078">Slice.cpp:1078</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a251171a6633404b34365b828a7cbad01"><div class="ttname"><a href="structvvenc_1_1Picture.html#a251171a6633404b34365b828a7cbad01">vvenc::Picture::useScLMCS</a></div><div class="ttdeci">bool useScLMCS</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00253">Picture.h:253</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a38a469274bd257d83da0bfa43d8e0fb7"><div class="ttname"><a href="structvvenc_1_1Picture.html#a38a469274bd257d83da0bfa43d8e0fb7">vvenc::Picture::sliceDataStreams</a></div><div class="ttdeci">std::vector&lt; OutputBitstream &gt; sliceDataStreams</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00214">Picture.h:214</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_a4973b73ee65d239c9bec2f8bf78846a3"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#a4973b73ee65d239c9bec2f8bf78846a3">vvenc::EncRCPic::targetBits</a></div><div class="ttdeci">int targetBits</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00218">RateCtrl.h:218</a></div></div>
<div class="ttc" id="astructvvenc_1_1ReferencePictureList_html"><div class="ttname"><a href="structvvenc_1_1ReferencePictureList.html">vvenc::ReferencePictureList</a></div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00095">Slice.h:95</a></div></div>
<div class="ttc" id="astructvvenc_1_1FFwdDecoder_html_a9f2a25f9a4b676d2eddabfebe8c3fda8"><div class="ttname"><a href="structvvenc_1_1FFwdDecoder.html#a9f2a25f9a4b676d2eddabfebe8c3fda8">vvenc::FFwdDecoder::bDecode1stPart</a></div><div class="ttdeci">bool bDecode1stPart</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00087">EncGOP.h:87</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIContentLightLevelInfo_html"><div class="ttname"><a href="classvvenc_1_1SEIContentLightLevelInfo.html">vvenc::SEIContentLightLevelInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SEI_8h_source.html#l00597">SEI.h:597</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a8ab7706f5b7ef85bfd6f8992c007cd55"><div class="ttname"><a href="classvvenc_1_1Slice.html#a8ab7706f5b7ef85bfd6f8992c007cd55">vvenc::Slice::nalUnitType</a></div><div class="ttdeci">vvencNalUnitType nalUnitType</div><div class="ttdoc">Nal unit type for the slice.</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01201">Slice.h:1201</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a8665c3ea5c9cb3b2d80c370dc290c377"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a8665c3ea5c9cb3b2d80c370dc290c377">vvenc::PicHeader::cuQpDeltaSubdivInter</a></div><div class="ttdeci">uint32_t cuQpDeltaSubdivInter</div><div class="ttdoc">CU QP delta maximum subdivision for inter slices.</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01046">Slice.h:1046</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_ad49fe1fb3879f62130c2ff4dce842796"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#ad49fe1fb3879f62130c2ff4dce842796">vvenc::PicHeader::gdrPic</a></div><div class="ttdeci">bool gdrPic</div><div class="ttdoc">gradual decoding refresh picture flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01022">Slice.h:1022</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a5641b061a4335e2412457690b3c2c215"><div class="ttname"><a href="structvvenc_1_1Picture.html#a5641b061a4335e2412457690b3c2c215">vvenc::Picture::gopId</a></div><div class="ttdeci">int gopId</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00230">Picture.h:230</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a652678a52ae3647bd679e002b7179f8c"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a652678a52ae3647bd679e002b7179f8c">vvenc::EncGOP::xWriteAPS</a></div><div class="ttdeci">int xWriteAPS(AccessUnitList &amp;accessUnit, const APS *aps, HLSWriter &amp;hlsWriter, vvencNalUnitType eNalUnitType)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01633">EncGOP.cpp:1633</a></div></div>
<div class="ttc" id="astructvvenc_1_1LmcsParam_html_ad5315c772efb06a84afefbaa820d7ee3"><div class="ttname"><a href="structvvenc_1_1LmcsParam.html#ad5315c772efb06a84afefbaa820d7ee3">vvenc::LmcsParam::enableChromaAdj</a></div><div class="ttdeci">unsigned enableChromaAdj</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00309">Slice.h:309</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a4eb35a2db3063e096adea90142232698"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a4eb35a2db3063e096adea90142232698">vvenc::EncGOP::xFindDistortionPlane</a></div><div class="ttdeci">uint64_t xFindDistortionPlane(const CPelBuf &amp;pic0, const CPelBuf &amp;pic1, uint32_t rshift) const</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l02068">EncGOP.cpp:2068</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a63face051327cfe5aff8a75e7e2a59c1"><div class="ttname"><a href="classvvenc_1_1Slice.html#a63face051327cfe5aff8a75e7e2a59c1">vvenc::Slice::applyReferencePictureListBasedMarking</a></div><div class="ttdeci">void applyReferencePictureListBasedMarking(PicList &amp;rcListPic, const ReferencePictureList *pRPL0, const ReferencePictureList *pRPL1, const int layerId, const PPS &amp;pps) const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00872">Slice.cpp:872</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a81afd2bdbeee94d9d2b0123341a3859d"><div class="ttname"><a href="structvvenc_1_1SPS.html#a81afd2bdbeee94d9d2b0123341a3859d">vvenc::SPS::maxBTSize</a></div><div class="ttdeci">unsigned maxBTSize[3]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00704">Slice.h:704</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_af7ed350b66bfd02791def92702bed510"><div class="ttname"><a href="classvvenc_1_1Slice.html#af7ed350b66bfd02791def92702bed510">vvenc::Slice::deblockingFilterBetaOffsetDiv2</a></div><div class="ttdeci">int deblockingFilterBetaOffsetDiv2[MAX_NUM_COMP]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01209">Slice.h:1209</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a0186bee82f4d469206cfcb18da843a46"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a0186bee82f4d469206cfcb18da843a46">vvenc::EncRCSeq::totalFrames</a></div><div class="ttdeci">int totalFrames</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00125">RateCtrl.h:125</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_a3dd1c7af5eb678d128efeda8be282bc8"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#a3dd1c7af5eb678d128efeda8be282bc8">vvenc::HLSWriter::codeTilesWPPEntryPoint</a></div><div class="ttdeci">void codeTilesWPPEntryPoint(Slice *pSlice)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8cpp_source.html#l02209">VLCWriter.cpp:2209</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncReshape_html_a7975016d5b7d3b2e8ae0895565087640"><div class="ttname"><a href="classvvenc_1_1EncReshape.html#a7975016d5b7d3b2e8ae0895565087640">vvenc::EncReshape::constructReshaperLMCS</a></div><div class="ttdeci">void constructReshaperLMCS()</div><div class="ttdef"><b>Definition:</b> <a href="EncReshape_8cpp_source.html#l01011">EncReshape.cpp:1011</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a5aa0670cb22e42db7d597aa009dcf219"><div class="ttname"><a href="classvvenc_1_1Slice.html#a5aa0670cb22e42db7d597aa009dcf219">vvenc::Slice::getRefPOC</a></div><div class="ttdeci">int getRefPOC(RefPicList e, int iRefIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01279">Slice.h:1279</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a39a29fba99967ef025b5ad9a25ab4de2"><div class="ttname"><a href="structvvenc_1_1SPS.html#a39a29fba99967ef025b5ad9a25ab4de2">vvenc::SPS::vpsId</a></div><div class="ttdeci">int vpsId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00668">Slice.h:668</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ae77ea1e40a826bc5241ca0e8c77cf0ef"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ae77ea1e40a826bc5241ca0e8c77cf0ef">vvenc::EncGOP::m_appliedSwitchDQQ</a></div><div class="ttdeci">int m_appliedSwitchDQQ</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00135">EncGOP.h:135</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_a00a61f37d924393793f0336daf330dfd"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#a00a61f37d924393793f0336daf330dfd">vvenc::EncRCPic::estimatePicLambda</a></div><div class="ttdeci">double estimatePicLambda(std::list&lt; EncRCPic * &gt; &amp;listPreviousPictures, bool isIRAP)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l00768">RateCtrl.cpp:768</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_aca8027146fa42e12de06c875b0abd0f5"><div class="ttname"><a href="structvvenc_1_1Picture.html#aca8027146fa42e12de06c875b0abd0f5">vvenc::Picture::picBlkStat</a></div><div class="ttdeci">BlkStat picBlkStat</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00213">Picture.h:213</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a6edcbd35a870765780580287238a693f"><div class="ttname"><a href="classvvenc_1_1Slice.html#a6edcbd35a870765780580287238a693f">vvenc::Slice::updateRefPicCounter</a></div><div class="ttdeci">void updateRefPicCounter(int step)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00442">Slice.cpp:442</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a8355822b111a3eb29221c2a76d5570f7"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a8355822b111a3eb29221c2a76d5570f7">vvenc::PicHeader::disDmvrFlag</a></div><div class="ttdeci">bool disDmvrFlag</div><div class="ttdoc">picture level DMVR disable flag</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01056">Slice.h:1056</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a5f864d16169df083342be6e44a5bad03"><div class="ttname"><a href="classvvenc_1_1Slice.html#a5f864d16169df083342be6e44a5bad03">vvenc::Slice::tileGroupCcAlfCbEnabled</a></div><div class="ttdeci">bool tileGroupCcAlfCbEnabled</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01256">Slice.h:1256</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_a7ed72c08dc73f91e000b5d36821cc49f"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#a7ed72c08dc73f91e000b5d36821cc49f">vvenc::EncRCPic::calPicMSE</a></div><div class="ttdeci">void calPicMSE()</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l00982">RateCtrl.cpp:982</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a53891fdd98cdd4dc1fa0b58ded2af261"><div class="ttname"><a href="classvvenc_1_1Slice.html#a53891fdd98cdd4dc1fa0b58ded2af261">vvenc::Slice::getRapPicFlag</a></div><div class="ttdeci">bool getRapPicFlag() const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00187">Slice.cpp:187</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a98d6e8c638d90feb69f1fe4aadb1ab08"><div class="ttname"><a href="classvvenc_1_1Slice.html#a98d6e8c638d90feb69f1fe4aadb1ab08">vvenc::Slice::tileGroupAlfEnabled</a></div><div class="ttdeci">bool tileGroupAlfEnabled[MAX_NUM_COMP]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01252">Slice.h:1252</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a37de80ce887f835cb1ef6a108b947a29"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a37de80ce887f835cb1ef6a108b947a29">vvenc::EncGOP::m_AnalyzeI</a></div><div class="ttdeci">Analyze m_AnalyzeI</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00123">EncGOP.h:123</a></div></div>
<div class="ttc" id="astructvvenc_1_1NALUnitEBSP_html"><div class="ttname"><a href="structvvenc_1_1NALUnitEBSP.html">vvenc::NALUnitEBSP</a></div><div class="ttdef"><b>Definition:</b> <a href="Nal_8h_source.html#l00132">Nal.h:132</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Analyze_html_abdb09027eb23b59e0000b9d5bdac9ced"><div class="ttname"><a href="classvvenc_1_1Analyze.html#abdb09027eb23b59e0000b9d5bdac9ced">vvenc::Analyze::addResult</a></div><div class="ttdeci">void addResult(double psnr[MAX_NUM_COMP], double bits, const double MSEyuvframe[MAX_NUM_COMP], bool isEncodeLtRef)</div><div class="ttdef"><b>Definition:</b> <a href="Analyze_8h_source.html#l00083">Analyze.h:83</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ReshapeData_html_aa5bb3b64b46c55daa973047310d70393"><div class="ttname"><a href="classvvenc_1_1ReshapeData.html#aa5bb3b64b46c55daa973047310d70393">vvenc::ReshapeData::getInvLUT</a></div><div class="ttdeci">const Pel * getInvLUT() const</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8h_source.html#l00097">Reshape.h:97</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a3eb09fad4d313cc915104d8ac6a05a13"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a3eb09fad4d313cc915104d8ac6a05a13">vvenc::EncGOP::xWritePictureSlices</a></div><div class="ttdeci">int xWritePictureSlices(Picture &amp;pic, AccessUnitList &amp;accessUnit, HLSWriter &amp;hlsWriter)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01465">EncGOP.cpp:1465</a></div></div>
<div class="ttc" id="anamespacevvenc_html_af483359f17deab82472b16da461a9a0faad77bdcaef23bd1b468f38e6ac85c521"><div class="ttname"><a href="namespacevvenc.html#af483359f17deab82472b16da461a9a0faad77bdcaef23bd1b468f38e6ac85c521">vvenc::MAX_NUM_COMP</a></div><div class="ttdeci">@ MAX_NUM_COMP</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00227">TypeDef.h:227</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncReshape_html_a571130c2aa335541bda96e268f5b05fc"><div class="ttname"><a href="classvvenc_1_1EncReshape.html#a571130c2aa335541bda96e268f5b05fc">vvenc::EncReshape::init</a></div><div class="ttdeci">void init(const VVEncCfg &amp;encCfg)</div><div class="ttdef"><b>Definition:</b> <a href="EncReshape_8cpp_source.html#l00091">EncReshape.cpp:91</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html_a3b463d7ea39e2abaecf5a982ec562f12"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html#a3b463d7ea39e2abaecf5a982ec562f12">vvenc::ParameterSetMap::setChangedFlag</a></div><div class="ttdeci">void setChangedFlag(int psId, bool bChanged=true)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01446">Slice.h:1446</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_a9f39f0e805401bf13c33d75a0300415b"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#a9f39f0e805401bf13c33d75a0300415b">vvenc::HLSWriter::setBitstream</a></div><div class="ttdeci">void setBitstream(OutputBitstream *p)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8h_source.html#l00118">VLCWriter.h:118</a></div></div>
<div class="ttc" id="aTypeDef_8h_html_a29d5c9e713ec90b037a5aaa3865ccfa9"><div class="ttname"><a href="TypeDef_8h.html#a29d5c9e713ec90b037a5aaa3865ccfa9">DISTORTION_PRECISION_ADJUSTMENT</a></div><div class="ttdeci">#define DISTORTION_PRECISION_ADJUSTMENT(x)</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00165">TypeDef.h:165</a></div></div>
<div class="ttc" id="astructvvenc_1_1LmcsParam_html_aec7bf020883ff4f855c09c0d756a9ac5"><div class="ttname"><a href="structvvenc_1_1LmcsParam.html#aec7bf020883ff4f855c09c0d756a9ac5">vvenc::LmcsParam::sliceReshaperModelPresent</a></div><div class="ttdeci">bool sliceReshaperModelPresent</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00308">Slice.h:308</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a86e63267f0b87eb319b151d10ad84e0f"><div class="ttname"><a href="classvvenc_1_1Slice.html#a86e63267f0b87eb319b151d10ad84e0f">vvenc::Slice::picHeader</a></div><div class="ttdeci">PicHeader * picHeader</div><div class="ttdoc">pointer to picture header structure</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01236">Slice.h:1236</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_aa53b89271f07f77f17af4ad8b79f9a4f"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#aa53b89271f07f77f17af4ad8b79f9a4f">vvenc::PicHeader::pic</a></div><div class="ttdeci">Picture * pic</div><div class="ttdoc">pointer to picture structure</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01018">Slice.h:1018</a></div></div>
<div class="ttc" id="aclassvvenc_1_1OutputBitstream_html_abcdb5e73911c1b03b02fe890e6487147"><div class="ttname"><a href="classvvenc_1_1OutputBitstream.html#abcdb5e73911c1b03b02fe890e6487147">vvenc::OutputBitstream::addSubstream</a></div><div class="ttdeci">void addSubstream(const OutputBitstream *pcSubstream)</div><div class="ttdef"><b>Definition:</b> <a href="BitStream_8cpp_source.html#l00193">BitStream.cpp:193</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a904e849842fe9c613d4787a304a8d8c0"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a904e849842fe9c613d4787a304a8d8c0">vvenc::EncGOP::m_AnalyzeAll</a></div><div class="ttdeci">Analyze m_AnalyzeAll</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00122">EncGOP.h:122</a></div></div>
<div class="ttc" id="astructvvenc_1_1HRD_html_ab36f921b1e0ff0a5e7adebc85b718ac9"><div class="ttname"><a href="structvvenc_1_1HRD.html#ab36f921b1e0ff0a5e7adebc85b718ac9">vvenc::HRD::bufferingPeriodInitialized</a></div><div class="ttdeci">bool bufferingPeriodInitialized</div><div class="ttdef"><b>Definition:</b> <a href="HRD_8h_source.html#l00156">HRD.h:156</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_ac606af1acdd996fe1ca1412f488ce4c6"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#ac606af1acdd996fe1ca1412f488ce4c6">vvenc::EncRCPic::tmpTargetBits</a></div><div class="ttdeci">int tmpTargetBits</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00219">RateCtrl.h:219</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a164edf417fa66d56811837584428cc92"><div class="ttname"><a href="classvvenc_1_1Slice.html#a164edf417fa66d56811837584428cc92">vvenc::Slice::setList1IdxToList0Idx</a></div><div class="ttdeci">void setList1IdxToList0Idx()</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00368">Slice.cpp:368</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a3cf105a07a7d30676f4d458080197442"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a3cf105a07a7d30676f4d458080197442">vvenc::EncGOP::xSelectReferencePictureList</a></div><div class="ttdeci">void xSelectReferencePictureList(Slice *slice, int curPoc, int gopId, int ltPoc)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01263">EncGOP.cpp:1263</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncPicture_html_a3d97b2aabb8ed53cc627154351f94c54"><div class="ttname"><a href="classvvenc_1_1EncPicture.html#a3d97b2aabb8ed53cc627154351f94c54">vvenc::EncPicture::compressPicture</a></div><div class="ttdeci">void compressPicture(Picture &amp;pic, EncGOP &amp;gopEncoder)</div><div class="ttdef"><b>Definition:</b> <a href="EncPicture_8cpp_source.html#l00091">EncPicture.cpp:91</a></div></div>
<div class="ttc" id="aStatCounter_8h_html_a27264efd631c4f584ddcb2f5888ae6ed"><div class="ttname"><a href="StatCounter_8h.html#a27264efd631c4f584ddcb2f5888ae6ed">THROW</a></div><div class="ttdeci">#define THROW(x)</div><div class="ttdef"><b>Definition:</b> <a href="StatCounter_8h_source.html#l00056">StatCounter.h:56</a></div></div>
<div class="ttc" id="astructvvenc_1_1ReferencePictureList_html_a08921220e56c9085e64d2c9b439c60e6"><div class="ttname"><a href="structvvenc_1_1ReferencePictureList.html#a08921220e56c9085e64d2c9b439c60e6">vvenc::ReferencePictureList::refPicIdentifier</a></div><div class="ttdeci">int refPicIdentifier[VVENC_MAX_NUM_REF_PICS]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00101">Slice.h:101</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a156dc08211961e3e10221fad809fa422"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a156dc08211961e3e10221fad809fa422">vvenc::EncGOP::EncGOP</a></div><div class="ttdeci">EncGOP()</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00237">EncGOP.cpp:237</a></div></div>
<div class="ttc" id="astructvvenc_1_1FinishTaskParam_html"><div class="ttname"><a href="structvvenc_1_1FinishTaskParam.html">vvenc::FinishTaskParam</a></div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00109">EncGOP.h:109</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncReshape_html_ac5369b89e9ed3c7b43189f2fb892140f"><div class="ttname"><a href="classvvenc_1_1EncReshape.html#ac5369b89e9ed3c7b43189f2fb892140f">vvenc::EncReshape::getReshapeCW</a></div><div class="ttdeci">vvencReshapeCW * getReshapeCW()</div><div class="ttdef"><b>Definition:</b> <a href="EncReshape_8h_source.html#l00127">EncReshape.h:127</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a12c79386be1c69c03c118c28af8c0b60"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a12c79386be1c69c03c118c28af8c0b60">vvenc::PicHeader::cuQpDeltaSubdivIntra</a></div><div class="ttdeci">uint32_t cuQpDeltaSubdivIntra</div><div class="ttdoc">CU QP delta maximum subdivision for intra slices.</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01045">Slice.h:1045</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a7b4a78dd70b2b9f1c85c787d7e532256"><div class="ttname"><a href="structvvenc_1_1Picture.html#a7b4a78dd70b2b9f1c85c787d7e532256">vvenc::Picture::allocateNewSlice</a></div><div class="ttdeci">Slice * allocateNewSlice()</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8cpp_source.html#l00311">Picture.cpp:311</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a8fc048e798a9392a930021e1f49b6ed8"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a8fc048e798a9392a930021e1f49b6ed8">vvenc::EncGOP::xInitPicsInCodingOrder</a></div><div class="ttdeci">void xInitPicsInCodingOrder(const std::vector&lt; Picture * &gt; &amp;encList, PicList &amp;picList, bool isEncodeLtRef)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00726">EncGOP.cpp:726</a></div></div>
<div class="ttc" id="aEncGOP_8h_html"><div class="ttname"><a href="EncGOP_8h.html">EncGOP.h</a></div><div class="ttdoc">GOP encoder class (header)</div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html_ab932255b352c7d7ccade22225676ef05"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html#ab932255b352c7d7ccade22225676ef05">vvenc::RateCtrl::addRCPassStats</a></div><div class="ttdeci">void addRCPassStats(const int poc, const int qp, const double lambda, const uint16_t visActY, const uint32_t numBits, const double psnrY, const bool isIntra, const int tempLayer)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l01468">RateCtrl.cpp:1468</a></div></div>
<div class="ttc" id="astructvvenc_1_1VPS_html_a8e58181a5b39878e04ef485e1d36c7e7"><div class="ttname"><a href="structvvenc_1_1VPS.html#a8e58181a5b39878e04ef485e1d36c7e7">vvenc::VPS::maxLayers</a></div><div class="ttdeci">uint32_t maxLayers</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00460">Slice.h:460</a></div></div>
<div class="ttc" id="astructvvenc_1_1UnitBuf_html_a315419f26d3c59fa143b49b90a019049"><div class="ttname"><a href="structvvenc_1_1UnitBuf.html#a315419f26d3c59fa143b49b90a019049">vvenc::UnitBuf::valid</a></div><div class="ttdeci">bool valid() const</div><div class="ttdef"><b>Definition:</b> <a href="Buffer_8h_source.html#l00685">Buffer.h:685</a></div></div>
<div class="ttc" id="astructvvenc_1_1CcAlfFilterParam_html_ad20897c5c8bd47f5d4005989bead0e55"><div class="ttname"><a href="structvvenc_1_1CcAlfFilterParam.html#ad20897c5c8bd47f5d4005989bead0e55">vvenc::CcAlfFilterParam::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="AlfParameters_8h_source.html#l00192">AlfParameters.h:192</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_adff4a80fe8e05ddc6c95332aea845f39"><div class="ttname"><a href="structvvenc_1_1APS.html#adff4a80fe8e05ddc6c95332aea845f39">vvenc::APS::alfParam</a></div><div class="ttdeci">AlfParam alfParam</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00982">Slice.h:982</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ae9dd52508b6136c7d0c8f3849b851548"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ae9dd52508b6136c7d0c8f3849b851548">vvenc::EncGOP::m_gopEncListInput</a></div><div class="ttdeci">std::list&lt; Picture * &gt; m_gopEncListInput</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00151">EncGOP.h:151</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Analyze_html_aea4a10c8e64b1d4a7d9d332e4407616b"><div class="ttname"><a href="classvvenc_1_1Analyze.html#aea4a10c8e64b1d4a7d9d332e4407616b">vvenc::Analyze::getNumPic</a></div><div class="ttdeci">uint32_t getNumPic() const</div><div class="ttdef"><b>Definition:</b> <a href="Analyze_8h_source.html#l00101">Analyze.h:101</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a5fc3860d05454f3f759d0f49badd8a42"><div class="ttname"><a href="classvvenc_1_1Slice.html#a5fc3860d05454f3f759d0f49badd8a42">vvenc::Slice::enableDRAPSEI</a></div><div class="ttdeci">bool enableDRAPSEI</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01190">Slice.h:1190</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIEncoder_html_a6024640754202cdb3489a3c9476a7cee"><div class="ttname"><a href="classvvenc_1_1SEIEncoder.html#a6024640754202cdb3489a3c9476a7cee">vvenc::SEIEncoder::initSEIMasteringDisplayColourVolume</a></div><div class="ttdeci">void initSEIMasteringDisplayColourVolume(SEIMasteringDisplayColourVolume *seiMDCV)</div><div class="ttdef"><b>Definition:</b> <a href="SEIEncoder_8cpp_source.html#l00502">SEIEncoder.cpp:502</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_adae79835db0ab397ea0a9c683fe2f8f8"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#adae79835db0ab397ea0a9c683fe2f8f8">vvenc::EncGOP::m_disableLMCSIP</a></div><div class="ttdeci">bool m_disableLMCSIP</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00130">EncGOP.h:130</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a4d3f9ff39738766343766297be353e54"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a4d3f9ff39738766343766297be353e54">vvenc::EncGOP::m_gopApsMap</a></div><div class="ttdeci">ParameterSetMap&lt; APS &gt; m_gopApsMap</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00148">EncGOP.h:148</a></div></div>
<div class="ttc" id="astructvvenc_1_1AlfParam_html_ad20897c5c8bd47f5d4005989bead0e55"><div class="ttname"><a href="structvvenc_1_1AlfParam.html#ad20897c5c8bd47f5d4005989bead0e55">vvenc::AlfParam::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="AlfParameters_8h_source.html#l00160">AlfParameters.h:160</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html">vvenc::ParameterSetMap</a></div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01327">Slice.h:1327</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a2d3ec636d347d8ea142e64ca27ceaad4"><div class="ttname"><a href="classvvenc_1_1Slice.html#a2d3ec636d347d8ea142e64ca27ceaad4">vvenc::Slice::sps</a></div><div class="ttdeci">const SPS * sps</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01233">Slice.h:1233</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_ae4e8dfefa32e8e3dce020e149c9c71f2"><div class="ttname"><a href="structvvenc_1_1Picture.html#ae4e8dfefa32e8e3dce020e149c9c71f2">vvenc::Picture::getFilteredOrigBuffer</a></div><div class="ttdeci">PelStorage &amp; getFilteredOrigBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00183">Picture.h:183</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_acb5ba97551079e0b072c62c21d784ac5"><div class="ttname"><a href="classvvenc_1_1Slice.html#acb5ba97551079e0b072c62c21d784ac5">vvenc::Slice::depth</a></div><div class="ttdeci">int depth</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01227">Slice.h:1227</a></div></div>
<div class="ttc" id="aclassvvenc_1_1AccessUnitList_html_af987af22aae1c6aaf2bc514f693d42eb"><div class="ttname"><a href="classvvenc_1_1AccessUnitList.html#af987af22aae1c6aaf2bc514f693d42eb">vvenc::AccessUnitList::poc</a></div><div class="ttdeci">uint64_t poc</div><div class="ttdoc">picture order count</div><div class="ttdef"><b>Definition:</b> <a href="Nal_8h_source.html#l00195">Nal.h:195</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_aa9dc44f446aae5419dc98ee0f975c95d"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#aa9dc44f446aae5419dc98ee0f975c95d">vvenc::EncGOP::m_gopEncCond</a></div><div class="ttdeci">std::condition_variable m_gopEncCond</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00157">EncGOP.h:157</a></div></div>
<div class="ttc" id="aclassvvenc_1_1CodingStructure_html_a5e9c1ca891ed69b925ad083b0e92c641"><div class="ttname"><a href="classvvenc_1_1CodingStructure.html#a5e9c1ca891ed69b925ad083b0e92c641">vvenc::CodingStructure::pcv</a></div><div class="ttdeci">const PreCalcValues * pcv</div><div class="ttdef"><b>Definition:</b> <a href="CodingStructure_8h_source.html#l00112">CodingStructure.h:112</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a5922c71ae31fb8db63422d1ac78d8804"><div class="ttname"><a href="classvvenc_1_1Slice.html#a5922c71ae31fb8db63422d1ac78d8804">vvenc::Slice::associatedIRAPType</a></div><div class="ttdeci">vvencNalUnitType associatedIRAPType</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01189">Slice.h:1189</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_abea87655520aaef3b850c3d61a1f4a31"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#abea87655520aaef3b850c3d61a1f4a31">vvenc::EncRCPic::estimatedBits</a></div><div class="ttdeci">int estimatedBits</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00227">RateCtrl.h:227</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIWriter_html_a760b115ca76db470751830ebacb7a4b5"><div class="ttname"><a href="classvvenc_1_1SEIWriter.html#a760b115ca76db470751830ebacb7a4b5">vvenc::SEIWriter::writeSEImessages</a></div><div class="ttdeci">void writeSEImessages(OutputBitstream &amp;bs, const SEIMessages &amp;seiList, HRD &amp;hrd, bool isNested, const uint32_t temporalId)</div><div class="ttdef"><b>Definition:</b> <a href="SEIwrite_8cpp_source.html#l00154">SEIwrite.cpp:154</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a5060b69f3d0a778e6695e17871369f6a"><div class="ttname"><a href="namespacevvenc.html#a5060b69f3d0a778e6695e17871369f6a">vvenc::ALF_CTB_MAX_NUM_APS</a></div><div class="ttdeci">static const int ALF_CTB_MAX_NUM_APS</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00246">CommonDef.h:246</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_ac76ef35f3f5cc18bf63e1259f85666a0"><div class="ttname"><a href="structvvenc_1_1PPS.html#ac76ef35f3f5cc18bf63e1259f85666a0">vvenc::PPS::ppsId</a></div><div class="ttdeci">int ppsId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00853">Slice.h:853</a></div></div>
<div class="ttc" id="aclassvvenc_1_1ParameterSetMap_html_ac7105dc81d6023f9b1521d9851036720"><div class="ttname"><a href="classvvenc_1_1ParameterSetMap.html#ac7105dc81d6023f9b1521d9851036720">vvenc::ParameterSetMap::getApsIdStart</a></div><div class="ttdeci">int getApsIdStart()</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01491">Slice.h:1491</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a8574b3b8a8bb59ad2ef9ebad57e47add"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a8574b3b8a8bb59ad2ef9ebad57e47add">vvenc::EncRCSeq::updateAfterPic</a></div><div class="ttdeci">void updateAfterPic(int bits, int tgtBits)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l00237">RateCtrl.cpp:237</a></div></div>
<div class="ttc" id="astructvvenc_1_1FFwdDecoder_html"><div class="ttname"><a href="structvvenc_1_1FFwdDecoder.html">vvenc::FFwdDecoder</a></div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00085">EncGOP.h:85</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncPicture_html_aec615d2cc456faad0cc60b50f1e5b862"><div class="ttname"><a href="classvvenc_1_1EncPicture.html#aec615d2cc456faad0cc60b50f1e5b862">vvenc::EncPicture::getEncSlice</a></div><div class="ttdeci">EncSlice * getEncSlice()</div><div class="ttdef"><b>Definition:</b> <a href="EncPicture_8h_source.html#l00100">EncPicture.h:100</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a82399f493e1e63046a946f81226c1491"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a82399f493e1e63046a946f81226c1491">vvenc::PicHeader::maxNumAffineMergeCand</a></div><div class="ttdeci">uint32_t maxNumAffineMergeCand</div><div class="ttdoc">max number of sub-block merge candidates</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01053">Slice.h:1053</a></div></div>
<div class="ttc" id="astructvvenc_1_1LmcsParam_html_ae8a7053237ee11da3f1db1c9252feb3b"><div class="ttname"><a href="structvvenc_1_1LmcsParam.html#ae8a7053237ee11da3f1db1c9252feb3b">vvenc::LmcsParam::chrResScalingOffset</a></div><div class="ttdeci">int chrResScalingOffset</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00314">Slice.h:314</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_aef5e5824f1ca0fb9a6190ae4e24f28cd"><div class="ttname"><a href="structvvenc_1_1SPS.html#aef5e5824f1ca0fb9a6190ae4e24f28cd">vvenc::SPS::Affine</a></div><div class="ttdeci">bool Affine</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00799">Slice.h:799</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a9088a71f37087d134a4cd8d9418a7395"><div class="ttname"><a href="classvvenc_1_1Slice.html#a9088a71f37087d134a4cd8d9418a7395">vvenc::Slice::disableSATDForRd</a></div><div class="ttdeci">bool disableSATDForRd</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01261">Slice.h:1261</a></div></div>
<div class="ttc" id="anamespacevvenc_html_af4d5d618782dbe8527830ad49c47aaf2"><div class="ttname"><a href="namespacevvenc.html#af4d5d618782dbe8527830ad49c47aaf2">vvenc::MAX_NUM_APS</a></div><div class="ttdeci">static const int MAX_NUM_APS</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00265">CommonDef.h:265</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a9003964e78e9d46fb169c59874f7c4a8"><div class="ttname"><a href="namespacevvenc.html#a9003964e78e9d46fb169c59874f7c4a8">vvenc::getNumberValidComponents</a></div><div class="ttdeci">static uint32_t getNumberValidComponents(const ChromaFormat fmt)</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00785">CommonDef.h:785</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a6517898e0b561627450e674e5ea4e91a"><div class="ttname"><a href="structvvenc_1_1Picture.html#a6517898e0b561627450e674e5ea4e91a">vvenc::Picture::refCounter</a></div><div class="ttdeci">int refCounter</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00228">Picture.h:228</a></div></div>
<div class="ttc" id="aclassvvenc_1_1BlkStat_html_a228780445e101eb97e07ee7c4f99ebf5"><div class="ttname"><a href="classvvenc_1_1BlkStat.html#a228780445e101eb97e07ee7c4f99ebf5">vvenc::BlkStat::setSliceMaxBT</a></div><div class="ttdeci">void setSliceMaxBT(Slice &amp;slice)</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8cpp_source.html#l00102">Picture.cpp:102</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a7b8e59f547b3a21d59f72e2fd97f751c"><div class="ttname"><a href="structvvenc_1_1Picture.html#a7b8e59f547b3a21d59f72e2fd97f751c">vvenc::Picture::getOrigBuf</a></div><div class="ttdeci">PelUnitBuf getOrigBuf()</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00160">Picture.h:160</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a7580390609bd5432ce32b0f5c7074501"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a7580390609bd5432ce32b0f5c7074501">vvenc::EncGOP::xCabacZeroWordPadding</a></div><div class="ttdeci">void xCabacZeroWordPadding(const Picture &amp;pic, const Slice *slice, uint32_t binCountsInNalUnits, uint32_t numBytesInVclNalUnits, std::ostringstream &amp;nalUnitData)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01701">EncGOP.cpp:1701</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a38d5dab03c13fa1bc076945fe1fc17fd"><div class="ttname"><a href="structvvenc_1_1Picture.html#a38d5dab03c13fa1bc076945fe1fc17fd">vvenc::Picture::slices</a></div><div class="ttdeci">std::deque&lt; Slice * &gt; slices</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00210">Picture.h:210</a></div></div>
<div class="ttc" id="anamespacevvenc_html_acb296f72d56e600139234c49810e1445"><div class="ttname"><a href="namespacevvenc.html#acb296f72d56e600139234c49810e1445">vvenc::MAX_NUM_APS_TYPE</a></div><div class="ttdeci">static const int MAX_NUM_APS_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00267">CommonDef.h:267</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a543e2e96d2fc6e6a250b93d021bd1dfd"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a543e2e96d2fc6e6a250b93d021bd1dfd">vvenc::EncGOP::m_pocCRA</a></div><div class="ttdeci">int m_pocCRA</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00134">EncGOP.h:134</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_ac5b50e752ce3e6b377b8432d5ff5d73a"><div class="ttname"><a href="structvvenc_1_1SPS.html#ac5b50e752ce3e6b377b8432d5ff5d73a">vvenc::SPS::alfEnabled</a></div><div class="ttdeci">bool alfEnabled</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00782">Slice.h:782</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_acbabe433162be7f154b9577ad7c5d369"><div class="ttname"><a href="structvvenc_1_1PPS.html#acbabe433162be7f154b9577ad7c5d369">vvenc::PPS::picWidthInLumaSamples</a></div><div class="ttdeci">uint32_t picWidthInLumaSamples</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00928">Slice.h:928</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a866d09a71218ee36b783ade7292c8025"><div class="ttname"><a href="structvvenc_1_1Picture.html#a866d09a71218ee36b783ade7292c8025">vvenc::Picture::TLayer</a></div><div class="ttdeci">unsigned TLayer</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00232">Picture.h:232</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_af2ac98bd694308e21ccdcb78b4144a28"><div class="ttname"><a href="structvvenc_1_1Picture.html#af2ac98bd694308e21ccdcb78b4144a28">vvenc::Picture::actualTotalBits</a></div><div class="ttdeci">int actualTotalBits</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00256">Picture.h:256</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a0537991a88d47e85ab1a38c1a8c828f9"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a0537991a88d47e85ab1a38c1a8c828f9">vvenc::EncRCSeq::targetBitCnt</a></div><div class="ttdeci">uint64_t targetBitCnt[8]</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00146">RateCtrl.h:146</a></div></div>
<div class="ttc" id="aStatCounter_8h_html_a87a0b8601d301b04efad305d35b8ba20"><div class="ttname"><a href="StatCounter_8h.html#a87a0b8601d301b04efad305d35b8ba20">CHECK</a></div><div class="ttdeci">#define CHECK(c, x)</div><div class="ttdef"><b>Definition:</b> <a href="StatCounter_8h_source.html#l00059">StatCounter.h:59</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIMasteringDisplayColourVolume_html"><div class="ttname"><a href="classvvenc_1_1SEIMasteringDisplayColourVolume.html">vvenc::SEIMasteringDisplayColourVolume</a></div><div class="ttdef"><b>Definition:</b> <a href="SEI_8h_source.html#l00476">SEI.h:476</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_a6dca3fb01fb0bdc3024a26d2c069b89e"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#a6dca3fb01fb0bdc3024a26d2c069b89e">vvenc::EncRCPic::calCostSliceI</a></div><div class="ttdeci">void calCostSliceI(Picture *pic)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l01591">RateCtrl.cpp:1591</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a6cf7be415fe7a62e537bb2ea7a23a279"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a6cf7be415fe7a62e537bb2ea7a23a279">vvenc::EncGOP::xPrintPictureInfo</a></div><div class="ttdeci">void xPrintPictureInfo(const Picture &amp;pic, AccessUnitList &amp;accessUnit, const std::string &amp;digestStr, bool printFrameMSE, bool isEncodeLtRef)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l02110">EncGOP.cpp:2110</a></div></div>
<div class="ttc" id="aclassvvenc_1_1OutputBitstream_html_ac48ccc623f9ab98eafa8ddd22fc60cb7"><div class="ttname"><a href="classvvenc_1_1OutputBitstream.html#ac48ccc623f9ab98eafa8ddd22fc60cb7">vvenc::OutputBitstream::writeByteAlignment</a></div><div class="ttdeci">void writeByteAlignment()</div><div class="ttdef"><b>Definition:</b> <a href="BitStream_8cpp_source.html#l00208">BitStream.cpp:208</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_ada39a6d06bcabc649acc88a18cf6ba71"><div class="ttname"><a href="structvvenc_1_1Picture.html#ada39a6d06bcabc649acc88a18cf6ba71">vvenc::Picture::picApsMap</a></div><div class="ttdeci">ParameterSetMap&lt; APS &gt; picApsMap</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00209">Picture.h:209</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a3eab31ca394246084aa55ffc8f990637"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a3eab31ca394246084aa55ffc8f990637">vvenc::EncGOP::xUpdateRPRtmvp</a></div><div class="ttdeci">void xUpdateRPRtmvp(PicHeader *picHeader, Slice *slice)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01012">EncGOP.cpp:1012</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a6cae4dbd5bfa5c8619151d3a148479ea"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a6cae4dbd5bfa5c8619151d3a148479ea">vvenc::EncGOP::xGetSliceDepth</a></div><div class="ttdeci">int xGetSliceDepth(int poc) const</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00629">EncGOP.cpp:629</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a029228596d8e2976767454d75cf1cf65"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a029228596d8e2976767454d75cf1cf65">vvenc::EncGOP::xWriteLeadingSEIs</a></div><div class="ttdeci">void xWriteLeadingSEIs(const Picture &amp;pic, AccessUnitList &amp;accessUnit)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01500">EncGOP.cpp:1500</a></div></div>
<div class="ttc" id="astructvvenc_1_1StopClock_html_aa6f6bfef028c7b053444cbd48567d286"><div class="ttname"><a href="structvvenc_1_1StopClock.html#aa6f6bfef028c7b053444cbd48567d286">vvenc::StopClock::stopTimer</a></div><div class="ttdeci">void stopTimer()</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00109">Picture.h:109</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_afd36d4c3cfe408edbe75579fd69bafd0"><div class="ttname"><a href="structvvenc_1_1Picture.html#afd36d4c3cfe408edbe75579fd69bafd0">vvenc::Picture::encRCPic</a></div><div class="ttdeci">EncRCPic * encRCPic</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00257">Picture.h:257</a></div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html_ac792156088c1bfd18ac85b5835b95540"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html#ac792156088c1bfd18ac85b5835b95540">vvenc::RateCtrl::encRCSeq</a></div><div class="ttdeci">EncRCSeq * encRCSeq</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00274">RateCtrl.h:274</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a980b2d57dbde5cc09dc9085be249f54a"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a980b2d57dbde5cc09dc9085be249f54a">vvenc::EncGOP::xUpdateRPRToolCtrl</a></div><div class="ttdeci">void xUpdateRPRToolCtrl(PicHeader *picHeader, Slice *slice)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01076">EncGOP.cpp:1076</a></div></div>
<div class="ttc" id="astructvvenc_1_1Size_html_acec3c14453d8e16034230db557345f1e"><div class="ttname"><a href="structvvenc_1_1Size.html#acec3c14453d8e16034230db557345f1e">vvenc::Size::height</a></div><div class="ttdeci">SizeType height</div><div class="ttdef"><b>Definition:</b> <a href="Common_8h_source.html#l00083">Common.h:83</a></div></div>
<div class="ttc" id="anamespacevvenc_html_ae7397ae591a5a9aea2340f2c266efc2da0c974d8373def41d676849ac99a9891a"><div class="ttname"><a href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da0c974d8373def41d676849ac99a9891a">vvenc::ALF_APS</a></div><div class="ttdeci">@ ALF_APS</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00234">TypeDef.h:234</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a9c4d27398b80fb3635571dc31c04b02f"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a9c4d27398b80fb3635571dc31c04b02f">vvenc::PicHeader::cuChromaQpOffsetSubdivIntra</a></div><div class="ttdeci">uint32_t cuChromaQpOffsetSubdivIntra</div><div class="ttdoc">CU chroma QP offset maximum subdivision for intra slices.</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01047">Slice.h:1047</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a034586d4a19770576dd53079df0a1079"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a034586d4a19770576dd53079df0a1079">vvenc::EncGOP::m_gopEncListOutput</a></div><div class="ttdeci">std::list&lt; Picture * &gt; m_gopEncListOutput</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00160">EncGOP.h:160</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a75808c632f164a4e90099967af68affa"><div class="ttname"><a href="namespacevvenc.html#a75808c632f164a4e90099967af68affa">vvenc::PicList</a></div><div class="ttdeci">std::list&lt; Picture * &gt; PicList</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00277">Picture.h:277</a></div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html_a5a6de978047f62096b6c0d20659e756b"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html#a5a6de978047f62096b6c0d20659e756b">vvenc::RateCtrl::rcIsFinalPass</a></div><div class="ttdeci">bool rcIsFinalPass</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00281">RateCtrl.h:281</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a0ea90ce01332b6db5b3e18bcf897a630"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a0ea90ce01332b6db5b3e18bcf897a630">vvenc::EncGOP::xSyncAlfAps</a></div><div class="ttdeci">void xSyncAlfAps(Picture &amp;pic, ParameterSetMap&lt; APS &gt; &amp;dst, const ParameterSetMap&lt; APS &gt; &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01308">EncGOP.cpp:1308</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a508284b4f6c8c2933a3b91d897a05774"><div class="ttname"><a href="namespacevvenc.html#a508284b4f6c8c2933a3b91d897a05774">vvenc::ClipBD</a></div><div class="ttdeci">T ClipBD(const T x, const int bitDepth)</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00582">CommonDef.h:582</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Reshape_html_ad820051abe566067c0dacb90b148c1a8"><div class="ttname"><a href="classvvenc_1_1Reshape.html#ad820051abe566067c0dacb90b148c1a8">vvenc::Reshape::restoreReshapeLumaLevelToWeightTable</a></div><div class="ttdeci">void restoreReshapeLumaLevelToWeightTable()</div><div class="ttdef"><b>Definition:</b> <a href="Reshape_8cpp_source.html#l00269">Reshape.cpp:269</a></div></div>
<div class="ttc" id="aclassvvenc_1_1AccessUnitList_html_a6563b227bb64fed2e3c445a33b213bad"><div class="ttname"><a href="classvvenc_1_1AccessUnitList.html#a6563b227bb64fed2e3c445a33b213bad">vvenc::AccessUnitList::temporalLayer</a></div><div class="ttdeci">int temporalLayer</div><div class="ttdoc">temporal layer</div><div class="ttdef"><b>Definition:</b> <a href="Nal_8h_source.html#l00197">Nal.h:197</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_af572bb25c3d604195a1cd147e0208031"><div class="ttname"><a href="structvvenc_1_1APS.html#af572bb25c3d604195a1cd147e0208031">vvenc::APS::apsId</a></div><div class="ttdeci">uint32_t apsId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00978">Slice.h:978</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_adbfcdec807e04ef8276eda273ea7e817"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#adbfcdec807e04ef8276eda273ea7e817">vvenc::EncGOP::xWriteAccessUnitDelimiter</a></div><div class="ttdeci">void xWriteAccessUnitDelimiter(AccessUnitList &amp;accessUnit, Slice *slice, bool IrapOrGdr, HLSWriter &amp;hlsWriter)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01643">EncGOP.cpp:1643</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIAlternativeTransferCharacteristics_html"><div class="ttname"><a href="classvvenc_1_1SEIAlternativeTransferCharacteristics.html">vvenc::SEIAlternativeTransferCharacteristics</a></div><div class="ttdef"><b>Definition:</b> <a href="SEI_8h_source.html#l00534">SEI.h:534</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a9b636fcfc3828e188717122422290b20"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a9b636fcfc3828e188717122422290b20">vvenc::EncGOP::xWriteVPS</a></div><div class="ttdeci">int xWriteVPS(AccessUnitList &amp;accessUnit, const VPS *vps, HLSWriter &amp;hlsWriter)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01588">EncGOP.cpp:1588</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html">vvenc::EncRCPic</a></div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00188">RateCtrl.h:188</a></div></div>
<div class="ttc" id="aEncHRD_8h_html"><div class="ttname"><a href="EncHRD_8h.html">EncHRD.h</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a0567e17db859747e2e019a8e2bbef041"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a0567e17db859747e2e019a8e2bbef041">vvenc::PicHeader::cuChromaQpOffsetSubdivInter</a></div><div class="ttdeci">uint32_t cuChromaQpOffsetSubdivInter</div><div class="ttdoc">CU chroma QP offset maximum subdivision for inter slices.</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01048">Slice.h:1048</a></div></div>
<div class="ttc" id="aclassvvenc_1_1AccessUnitList_html"><div class="ttname"><a href="classvvenc_1_1AccessUnitList.html">vvenc::AccessUnitList</a></div><div class="ttdef"><b>Definition:</b> <a href="Nal_8h_source.html#l00159">Nal.h:159</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_afef1d6a18b549ec8bd8afeda00903703"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#afef1d6a18b549ec8bd8afeda00903703">vvenc::EncGOP::m_AnalyzeB</a></div><div class="ttdeci">Analyze m_AnalyzeB</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00125">EncGOP.h:125</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a81afd2bdbeee94d9d2b0123341a3859d"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a81afd2bdbeee94d9d2b0123341a3859d">vvenc::PicHeader::maxBTSize</a></div><div class="ttdeci">unsigned maxBTSize[3]</div><div class="ttdoc">maximum BT size</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01081">Slice.h:1081</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIEncoder_html_a34bddab6bf0d12776c6fc92f954f1fa5"><div class="ttname"><a href="classvvenc_1_1SEIEncoder.html#a34bddab6bf0d12776c6fc92f954f1fa5">vvenc::SEIEncoder::init</a></div><div class="ttdeci">void init(const VVEncCfg &amp;encCfg, EncHRD &amp;encHRD)</div><div class="ttdef"><b>Definition:</b> <a href="SEIEncoder_8cpp_source.html#l00063">SEIEncoder.cpp:63</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_a5a74dc0f67a681a941ac4dd7a5fc88b7"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#a5a74dc0f67a681a941ac4dd7a5fc88b7">vvenc::PicHeader::colRefIdx</a></div><div class="ttdeci">uint32_t colRefIdx</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01051">Slice.h:1051</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_ad96a96a40a1073f810bd40ffead69f4f"><div class="ttname"><a href="classvvenc_1_1Slice.html#ad96a96a40a1073f810bd40ffead69f4f">vvenc::Slice::checkColRefIdx</a></div><div class="ttdeci">void checkColRefIdx(uint32_t curSliceSegmentIdx, const Picture *pic) const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00471">Slice.cpp:471</a></div></div>
<div class="ttc" id="astructvvenc_1_1APS_html_a87b6c3f79cd33fccd400dcb6b191b303"><div class="ttname"><a href="structvvenc_1_1APS.html#a87b6c3f79cd33fccd400dcb6b191b303">vvenc::APS::chromaPresent</a></div><div class="ttdeci">bool chromaPresent</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00986">Slice.h:986</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_ad4b745de663253d20459b3744de3ecd1"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#ad4b745de663253d20459b3744de3ecd1">vvenc::EncRCSeq::qpCorrection</a></div><div class="ttdeci">double qpCorrection[8]</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00144">RateCtrl.h:144</a></div></div>
<div class="ttc" id="aclassvvenc_1_1SEIBufferingPeriod_html"><div class="ttname"><a href="classvvenc_1_1SEIBufferingPeriod.html">vvenc::SEIBufferingPeriod</a></div><div class="ttdef"><b>Definition:</b> <a href="SEI_8h_source.html#l00280">SEI.h:280</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a022764e04d9a5b3e4e90b20a70d05677"><div class="ttname"><a href="classvvenc_1_1Slice.html#a022764e04d9a5b3e4e90b20a70d05677">vvenc::Slice::isIntra</a></div><div class="ttdeci">bool isIntra() const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01289">Slice.h:1289</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html"><div class="ttname"><a href="classvvenc_1_1Slice.html">vvenc::Slice</a></div><div class="ttdoc">slice header class</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01178">Slice.h:1178</a></div></div>
<div class="ttc" id="anamespacevvenc_html_ae7397ae591a5a9aea2340f2c266efc2da7f1fa15ae49743bd11268b02d654b246"><div class="ttname"><a href="namespacevvenc.html#ae7397ae591a5a9aea2340f2c266efc2da7f1fa15ae49743bd11268b02d654b246">vvenc::LMCS_APS</a></div><div class="ttdeci">@ LMCS_APS</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00235">TypeDef.h:235</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_a07d86d218dd9999a5517ad8f48474b1c"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#a07d86d218dd9999a5517ad8f48474b1c">vvenc::HLSWriter::codeDCI</a></div><div class="ttdeci">void codeDCI(const DCI *dci)</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8cpp_source.html#l01089">VLCWriter.cpp:1089</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a528e8743ff95d9eb8e41ae18612be62a"><div class="ttname"><a href="namespacevvenc.html#a528e8743ff95d9eb8e41ae18612be62a">vvenc::print</a></div><div class="ttdeci">std::string print(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00606">CommonDef.h:606</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_ab5be270f22f8b3000f6d01a2c1ce389d"><div class="ttname"><a href="structvvenc_1_1SPS.html#ab5be270f22f8b3000f6d01a2c1ce389d">vvenc::SPS::rplList</a></div><div class="ttdeci">RPLList rplList[NUM_REF_PIC_LIST_01]</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00709">Slice.h:709</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a4414d04ace3eec029ac7338f7fb10398"><div class="ttname"><a href="structvvenc_1_1Picture.html#a4414d04ace3eec029ac7338f7fb10398">vvenc::Picture::sliceDataNumBins</a></div><div class="ttdeci">int sliceDataNumBins</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00235">Picture.h:235</a></div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html_ab4eb30394f0c5fe824c23077d4258bf6"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html#ab4eb30394f0c5fe824c23077d4258bf6">vvenc::RateCtrl::rcPass</a></div><div class="ttdeci">int rcPass</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00279">RateCtrl.h:279</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_aa53c2d481cc7ff4f02ed006c9ef85c97"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#aa53c2d481cc7ff4f02ed006c9ef85c97">vvenc::PicHeader::mvdL1Zero</a></div><div class="ttdeci">bool mvdL1Zero</div><div class="ttdoc">L1 MVD set to zero flag.</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01052">Slice.h:1052</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_a7192b8cd46d8604a40846c7a736b84fe"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#a7192b8cd46d8604a40846c7a736b84fe">vvenc::EncRCPic::bitsLeft</a></div><div class="ttdeci">int bitsLeft</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00220">RateCtrl.h:220</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a530d6092c6fac441ddd03762efdf5c2f"><div class="ttname"><a href="classvvenc_1_1Slice.html#a530d6092c6fac441ddd03762efdf5c2f">vvenc::Slice::isInterP</a></div><div class="ttdeci">bool isInterP() const</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01291">Slice.h:1291</a></div></div>
<div class="ttc" id="astructvvenc_1_1DCI_html"><div class="ttname"><a href="structvvenc_1_1DCI.html">vvenc::DCI</a></div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00449">Slice.h:449</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a83dedaccc39c9d31f3ef20ff7ccb4b4f"><div class="ttname"><a href="structvvenc_1_1Picture.html#a83dedaccc39c9d31f3ef20ff7ccb4b4f">vvenc::Picture::cs</a></div><div class="ttdeci">CodingStructure * cs</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00206">Picture.h:206</a></div></div>
<div class="ttc" id="astructvvenc_1_1AreaBuf_html_a08f66a6870d87afcd5dc1b60d1019692"><div class="ttname"><a href="structvvenc_1_1AreaBuf.html#a08f66a6870d87afcd5dc1b60d1019692">vvenc::AreaBuf::stride</a></div><div class="ttdeci">int stride</div><div class="ttdef"><b>Definition:</b> <a href="Buffer_8h_source.html#l00125">Buffer.h:125</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69"><div class="ttname"><a href="namespacevvenc.html#a93cea48eb9dcfd661168dee82e41b384adf92ae005acf57da4540bf46ee976d69">vvenc::REF_PIC_LIST_0</a></div><div class="ttdeci">@ REF_PIC_LIST_0</div><div class="ttdoc">reference list 0</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00355">TypeDef.h:355</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a42cf817d9ab798a86ac299fab588abbe"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a42cf817d9ab798a86ac299fab588abbe">vvenc::EncGOP::xWriteTrailingSEIs</a></div><div class="ttdeci">void xWriteTrailingSEIs(const Picture &amp;pic, AccessUnitList &amp;accessUnit, std::string &amp;digestStr)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01567">EncGOP.cpp:1567</a></div></div>
<div class="ttc" id="aclassvvenc_1_1PreCalcValues_html_accd995becc51735172dd859be536687a"><div class="ttname"><a href="classvvenc_1_1PreCalcValues.html#accd995becc51735172dd859be536687a">vvenc::PreCalcValues::chrFormat</a></div><div class="ttdeci">const ChromaFormat chrFormat</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01584">Slice.h:1584</a></div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html">vvenc::RateCtrl</a></div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00247">RateCtrl.h:247</a></div></div>
<div class="ttc" id="anamespacevvenc_html_af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05"><div class="ttname"><a href="namespacevvenc.html#af483359f17deab82472b16da461a9a0fab383c348cb4b541dab0fbc806b081f05">vvenc::COMP_Cb</a></div><div class="ttdeci">@ COMP_Cb</div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00225">TypeDef.h:225</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a7ae40a330f93d2efb4d17460d0c10389"><div class="ttname"><a href="classvvenc_1_1Slice.html#a7ae40a330f93d2efb4d17460d0c10389">vvenc::Slice::constructRefPicList</a></div><div class="ttdeci">void constructRefPicList(PicList &amp;rcListPic, bool extBorder)</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8cpp_source.html#l00385">Slice.cpp:385</a></div></div>
<div class="ttc" id="aCommonDef_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="CommonDef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00164">CommonDef.h:164</a></div></div>
<div class="ttc" id="aclassvvenc_1_1Slice_html_a2828614629c4cd261f778db8c85fcf58"><div class="ttname"><a href="classvvenc_1_1Slice.html#a2828614629c4cd261f778db8c85fcf58">vvenc::Slice::TLayer</a></div><div class="ttdeci">uint32_t TLayer</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01240">Slice.h:1240</a></div></div>
<div class="ttc" id="aclassvvenc_1_1CodingStructure_html_a0dadb78ffff3ac601aa8042a12d06d90"><div class="ttname"><a href="classvvenc_1_1CodingStructure.html#a0dadb78ffff3ac601aa8042a12d06d90">vvenc::CodingStructure::slice</a></div><div class="ttdeci">Slice * slice</div><div class="ttdef"><b>Definition:</b> <a href="CodingStructure_8h_source.html#l00097">CodingStructure.h:97</a></div></div>
<div class="ttc" id="astructvvenc_1_1BitDepths_html"><div class="ttname"><a href="structvvenc_1_1BitDepths.html">vvenc::BitDepths</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeDef_8h_source.html#l00554">TypeDef.h:554</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a0602edf37e2e92d8b105c13a178f5e51"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a0602edf37e2e92d8b105c13a178f5e51">vvenc::EncGOP::m_bFirstInit</a></div><div class="ttdeci">bool m_bFirstInit</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00127">EncGOP.h:127</a></div></div>
<div class="ttc" id="aclassvvenc_1_1NoMallocThreadPool_html_a757c7fcfe321128ef8e62281718cbec3"><div class="ttname"><a href="classvvenc_1_1NoMallocThreadPool.html#a757c7fcfe321128ef8e62281718cbec3">vvenc::NoMallocThreadPool::addBarrierTask</a></div><div class="ttdeci">bool addBarrierTask(bool(*func)(int, TParam *), TParam *param, WaitCounter *counter=nullptr, Barrier *done=nullptr, const CBarrierVec &amp;&amp;barriers={}, bool(*readyCheck)(int, TParam *)=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="NoMallocThreadPool_8h_source.html#l00388">NoMallocThreadPool.h:388</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_afaadf7fd1de1ac6dcc928ed989b41aaa"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#afaadf7fd1de1ac6dcc928ed989b41aaa">vvenc::EncGOP::m_lastIDR</a></div><div class="ttdeci">int m_lastIDR</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8h_source.html#l00132">EncGOP.h:132</a></div></div>
<div class="ttc" id="anamespacevvenc_html_a3807f6335f076aaa95791cfb615fd1f3"><div class="ttname"><a href="namespacevvenc.html#a3807f6335f076aaa95791cfb615fd1f3">vvenc::NUM_APS_TYPE_LEN</a></div><div class="ttdeci">static const int NUM_APS_TYPE_LEN</div><div class="ttdef"><b>Definition:</b> <a href="CommonDef_8h_source.html#l00266">CommonDef.h:266</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ae96774f4a0682436f3e626bd8512a379"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ae96774f4a0682436f3e626bd8512a379">vvenc::EncGOP::xWriteSEI</a></div><div class="ttdeci">void xWriteSEI(vvencNalUnitType naluType, SEIMessages &amp;seiMessages, AccessUnitList &amp;accessUnit, AccessUnitList::iterator &amp;auPos, int temporalId, const SPS *sps)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01652">EncGOP.cpp:1652</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a169a9498fe5395edd6f0a18b65945864"><div class="ttname"><a href="structvvenc_1_1SPS.html#a169a9498fe5395edd6f0a18b65945864">vvenc::SPS::hrdParametersPresent</a></div><div class="ttdeci">bool hrdParametersPresent</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00768">Slice.h:768</a></div></div>
<div class="ttc" id="aclassvvenc_1_1HLSWriter_html_ad4af60bebe68f1719a21627711539892"><div class="ttname"><a href="classvvenc_1_1HLSWriter.html#ad4af60bebe68f1719a21627711539892">vvenc::HLSWriter::getNumberOfWrittenBits</a></div><div class="ttdeci">uint32_t getNumberOfWrittenBits()</div><div class="ttdef"><b>Definition:</b> <a href="VLCWriter_8h_source.html#l00119">VLCWriter.h:119</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_a8a70c3923283fb3c4b5fa0790ae56c4c"><div class="ttname"><a href="structvvenc_1_1PPS.html#a8a70c3923283fb3c4b5fa0790ae56c4c">vvenc::PPS::picHeightInCtu</a></div><div class="ttdeci">uint32_t picHeightInCtu</div><div class="ttdoc">picture height in units of CTUs</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00887">Slice.h:887</a></div></div>
<div class="ttc" id="astructvvenc_1_1Picture_html_a24a2e8bd1c031dfaa7fb2c2d8ab10595"><div class="ttname"><a href="structvvenc_1_1Picture.html#a24a2e8bd1c031dfaa7fb2c2d8ab10595">vvenc::Picture::encPic</a></div><div class="ttdeci">bool encPic</div><div class="ttdef"><b>Definition:</b> <a href="Picture_8h_source.html#l00224">Picture.h:224</a></div></div>
<div class="ttc" id="aclassvvenc_1_1RateCtrl_html_a2b5fcef61b77355d86a065adc308528e"><div class="ttname"><a href="classvvenc_1_1RateCtrl.html#a2b5fcef61b77355d86a065adc308528e">vvenc::RateCtrl::encRCGOP</a></div><div class="ttdeci">EncRCGOP * encRCGOP</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00275">RateCtrl.h:275</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_ac036fd34f712c951c1c05593d44bde3e"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#ac036fd34f712c951c1c05593d44bde3e">vvenc::EncRCPic::clipTargetQP</a></div><div class="ttdeci">void clipTargetQP(std::list&lt; EncRCPic * &gt; &amp;listPreviousPictures, int &amp;qp)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l00936">RateCtrl.cpp:936</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_a20b50beeb0bd45f40478f991667d91e8"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#a20b50beeb0bd45f40478f991667d91e8">vvenc::EncRCPic::updateAfterPicture</a></div><div class="ttdeci">void updateAfterPicture(int actualHeaderBits, int actualTotalBits, double averageQP, double averageLambda, bool isIRAP)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l00999">RateCtrl.cpp:999</a></div></div>
<div class="ttc" id="astructvvenc_1_1PicHeader_html_af7ed350b66bfd02791def92702bed510"><div class="ttname"><a href="structvvenc_1_1PicHeader.html#af7ed350b66bfd02791def92702bed510">vvenc::PicHeader::deblockingFilterBetaOffsetDiv2</a></div><div class="ttdeci">int deblockingFilterBetaOffsetDiv2[MAX_NUM_COMP]</div><div class="ttdoc">beta offset for deblocking filter</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l01070">Slice.h:1070</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCSeq_html_a250403b84afe6f3ee74581c633dd5132"><div class="ttname"><a href="classvvenc_1_1EncRCSeq.html#a250403b84afe6f3ee74581c633dd5132">vvenc::EncRCSeq::estimatedBitUsage</a></div><div class="ttdeci">int64_t estimatedBitUsage</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8h_source.html#l00142">RateCtrl.h:142</a></div></div>
<div class="ttc" id="astructvvenc_1_1PPS_html_aedbf0fcfbdd6c2f3a7beb1c58c232dc6"><div class="ttname"><a href="structvvenc_1_1PPS.html#aedbf0fcfbdd6c2f3a7beb1c58c232dc6">vvenc::PPS::picWidthInCtu</a></div><div class="ttdeci">uint32_t picWidthInCtu</div><div class="ttdoc">picture width in units of CTUs</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00886">Slice.h:886</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_a5e624ac27c4bf95aae6b0736bb8e99ba"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#a5e624ac27c4bf95aae6b0736bb8e99ba">vvenc::EncGOP::xCalculateAddPSNR</a></div><div class="ttdeci">void xCalculateAddPSNR(const Picture *pic, CPelUnitBuf cPicD, AccessUnitList &amp;, bool printFrameMSE, double *PSNR_Y, bool isEncodeLtRef)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l01881">EncGOP.cpp:1881</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncRCPic_html_a087473d0c392a106ef9922f5b866428e"><div class="ttname"><a href="classvvenc_1_1EncRCPic.html#a087473d0c392a106ef9922f5b866428e">vvenc::EncRCPic::addToPictureList</a></div><div class="ttdeci">void addToPictureList(std::list&lt; EncRCPic * &gt; &amp;listPreviousPictures)</div><div class="ttdef"><b>Definition:</b> <a href="RateCtrl_8cpp_source.html#l00681">RateCtrl.cpp:681</a></div></div>
<div class="ttc" id="astructvvenc_1_1SPS_html_a223bbd9ce719d2ca5b4551d52e174c0c"><div class="ttname"><a href="structvvenc_1_1SPS.html#a223bbd9ce719d2ca5b4551d52e174c0c">vvenc::SPS::spsId</a></div><div class="ttdeci">int spsId</div><div class="ttdef"><b>Definition:</b> <a href="Slice_8h_source.html#l00666">Slice.h:666</a></div></div>
<div class="ttc" id="aclassvvenc_1_1EncGOP_html_ac97d533c6ab25c08095ec963e70b9e27"><div class="ttname"><a href="classvvenc_1_1EncGOP.html#ac97d533c6ab25c08095ec963e70b9e27">vvenc::EncGOP::init</a></div><div class="ttdeci">void init(const VVEncCfg &amp;encCfg, const SPS &amp;sps, const PPS &amp;pps, RateCtrl &amp;rateCtrl, EncHRD &amp;encHrd, NoMallocThreadPool *threadPool)</div><div class="ttdef"><b>Definition:</b> <a href="EncGOP_8cpp_source.html#l00278">EncGOP.cpp:278</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4223c4eee3e7b8a74f7422eb38e0223b.html">vvenc-master</a></li><li class="navelem"><a class="el" href="dir_6750f24480d6fa6988579993faed03f3.html">source</a></li><li class="navelem"><a class="el" href="dir_ae070c9c060a0e4c2f318a822c00f9ca.html">Lib</a></li><li class="navelem"><a class="el" href="dir_923a0f095131df36efa8cc007e0eb205.html">EncoderLib</a></li><li class="navelem"><a class="el" href="EncGOP_8cpp.html">EncGOP.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
